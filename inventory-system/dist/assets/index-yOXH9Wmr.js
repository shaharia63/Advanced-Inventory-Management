function rf(i,r){for(var n=0;n<r.length;n++){const o=r[n];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in i)){const u=Object.getOwnPropertyDescriptor(o,l);u&&Object.defineProperty(i,l,u.get?u:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function nf(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function sf(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var r=i.default;if(typeof r=="function"){var n=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var l=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:function(){return i[o]}})}),n}var dl={exports:{}},xs={},hl={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh;function gg(){if(nh)return ce;nh=1;var i=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function _(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function C(P,M,ue){this.props=P,this.context=M,this.refs=N,this.updater=ue||S}C.prototype.isReactComponent={},C.prototype.setState=function(P,M){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,M,"setState")},C.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function L(){}L.prototype=C.prototype;function A(P,M,ue){this.props=P,this.context=M,this.refs=N,this.updater=ue||S}var E=A.prototype=new L;E.constructor=A,k(E,C.prototype),E.isPureReactComponent=!0;var D=Array.isArray,K=Object.prototype.hasOwnProperty,J={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function xe(P,M,ue){var de,pe={},me=null,ke=null;if(M!=null)for(de in M.ref!==void 0&&(ke=M.ref),M.key!==void 0&&(me=""+M.key),M)K.call(M,de)&&!ae.hasOwnProperty(de)&&(pe[de]=M[de]);var ye=arguments.length-2;if(ye===1)pe.children=ue;else if(1<ye){for(var Pe=Array(ye),ct=0;ct<ye;ct++)Pe[ct]=arguments[ct+2];pe.children=Pe}if(P&&P.defaultProps)for(de in ye=P.defaultProps,ye)pe[de]===void 0&&(pe[de]=ye[de]);return{$$typeof:i,type:P,key:me,ref:ke,props:pe,_owner:J.current}}function Ee(P,M){return{$$typeof:i,type:P.type,key:M,ref:P.ref,props:P.props,_owner:P._owner}}function qe(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function kt(P){var M={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ue){return M[ue]})}var $=/\/+/g;function B(P,M){return typeof P=="object"&&P!==null&&P.key!=null?kt(""+P.key):M.toString(36)}function oe(P,M,ue,de,pe){var me=typeof P;(me==="undefined"||me==="boolean")&&(P=null);var ke=!1;if(P===null)ke=!0;else switch(me){case"string":case"number":ke=!0;break;case"object":switch(P.$$typeof){case i:case r:ke=!0}}if(ke)return ke=P,pe=pe(ke),P=de===""?"."+B(ke,0):de,D(pe)?(ue="",P!=null&&(ue=P.replace($,"$&/")+"/"),oe(pe,M,ue,"",function(ct){return ct})):pe!=null&&(qe(pe)&&(pe=Ee(pe,ue+(!pe.key||ke&&ke.key===pe.key?"":(""+pe.key).replace($,"$&/")+"/")+P)),M.push(pe)),1;if(ke=0,de=de===""?".":de+":",D(P))for(var ye=0;ye<P.length;ye++){me=P[ye];var Pe=de+B(me,ye);ke+=oe(me,M,ue,Pe,pe)}else if(Pe=_(P),typeof Pe=="function")for(P=Pe.call(P),ye=0;!(me=P.next()).done;)me=me.value,Pe=de+B(me,ye++),ke+=oe(me,M,ue,Pe,pe);else if(me==="object")throw M=String(P),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return ke}function he(P,M,ue){if(P==null)return P;var de=[],pe=0;return oe(P,de,"","",function(me){return M.call(ue,me,pe++)}),de}function Ue(P){if(P._status===-1){var M=P._result;M=M(),M.then(function(ue){(P._status===0||P._status===-1)&&(P._status=1,P._result=ue)},function(ue){(P._status===0||P._status===-1)&&(P._status=2,P._result=ue)}),P._status===-1&&(P._status=0,P._result=M)}if(P._status===1)return P._result.default;throw P._result}var _e={current:null},q={transition:null},ne={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:q,ReactCurrentOwner:J};function G(){throw Error("act(...) is not supported in production builds of React.")}return ce.Children={map:he,forEach:function(P,M,ue){he(P,function(){M.apply(this,arguments)},ue)},count:function(P){var M=0;return he(P,function(){M++}),M},toArray:function(P){return he(P,function(M){return M})||[]},only:function(P){if(!qe(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},ce.Component=C,ce.Fragment=n,ce.Profiler=l,ce.PureComponent=A,ce.StrictMode=o,ce.Suspense=m,ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,ce.act=G,ce.cloneElement=function(P,M,ue){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var de=k({},P.props),pe=P.key,me=P.ref,ke=P._owner;if(M!=null){if(M.ref!==void 0&&(me=M.ref,ke=J.current),M.key!==void 0&&(pe=""+M.key),P.type&&P.type.defaultProps)var ye=P.type.defaultProps;for(Pe in M)K.call(M,Pe)&&!ae.hasOwnProperty(Pe)&&(de[Pe]=M[Pe]===void 0&&ye!==void 0?ye[Pe]:M[Pe])}var Pe=arguments.length-2;if(Pe===1)de.children=ue;else if(1<Pe){ye=Array(Pe);for(var ct=0;ct<Pe;ct++)ye[ct]=arguments[ct+2];de.children=ye}return{$$typeof:i,type:P.type,key:pe,ref:me,props:de,_owner:ke}},ce.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:u,_context:P},P.Consumer=P},ce.createElement=xe,ce.createFactory=function(P){var M=xe.bind(null,P);return M.type=P,M},ce.createRef=function(){return{current:null}},ce.forwardRef=function(P){return{$$typeof:p,render:P}},ce.isValidElement=qe,ce.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:Ue}},ce.memo=function(P,M){return{$$typeof:g,type:P,compare:M===void 0?null:M}},ce.startTransition=function(P){var M=q.transition;q.transition={};try{P()}finally{q.transition=M}},ce.unstable_act=G,ce.useCallback=function(P,M){return _e.current.useCallback(P,M)},ce.useContext=function(P){return _e.current.useContext(P)},ce.useDebugValue=function(){},ce.useDeferredValue=function(P){return _e.current.useDeferredValue(P)},ce.useEffect=function(P,M){return _e.current.useEffect(P,M)},ce.useId=function(){return _e.current.useId()},ce.useImperativeHandle=function(P,M,ue){return _e.current.useImperativeHandle(P,M,ue)},ce.useInsertionEffect=function(P,M){return _e.current.useInsertionEffect(P,M)},ce.useLayoutEffect=function(P,M){return _e.current.useLayoutEffect(P,M)},ce.useMemo=function(P,M){return _e.current.useMemo(P,M)},ce.useReducer=function(P,M,ue){return _e.current.useReducer(P,M,ue)},ce.useRef=function(P){return _e.current.useRef(P)},ce.useState=function(P){return _e.current.useState(P)},ce.useSyncExternalStore=function(P,M,ue){return _e.current.useSyncExternalStore(P,M,ue)},ce.useTransition=function(){return _e.current.useTransition()},ce.version="18.3.1",ce}var sh;function ql(){return sh||(sh=1,hl.exports=gg()),hl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih;function yg(){if(ih)return xs;ih=1;var i=ql(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(p,m,g){var v,w={},_=null,S=null;g!==void 0&&(_=""+g),m.key!==void 0&&(_=""+m.key),m.ref!==void 0&&(S=m.ref);for(v in m)o.call(m,v)&&!u.hasOwnProperty(v)&&(w[v]=m[v]);if(p&&p.defaultProps)for(v in m=p.defaultProps,m)w[v]===void 0&&(w[v]=m[v]);return{$$typeof:r,type:p,key:_,ref:S,props:w,_owner:l.current}}return xs.Fragment=n,xs.jsx=c,xs.jsxs=c,xs}var oh;function vg(){return oh||(oh=1,dl.exports=yg()),dl.exports}var h=vg(),I=ql();const of=nf(I),wg=rf({__proto__:null,default:of},[I]);var Ji={},fl={exports:{}},ut={},pl={exports:{}},ml={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah;function xg(){return ah||(ah=1,function(i){function r(q,ne){var G=q.length;q.push(ne);e:for(;0<G;){var P=G-1>>>1,M=q[P];if(0<l(M,ne))q[P]=ne,q[G]=M,G=P;else break e}}function n(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var ne=q[0],G=q.pop();if(G!==ne){q[0]=G;e:for(var P=0,M=q.length,ue=M>>>1;P<ue;){var de=2*(P+1)-1,pe=q[de],me=de+1,ke=q[me];if(0>l(pe,G))me<M&&0>l(ke,pe)?(q[P]=ke,q[me]=G,P=me):(q[P]=pe,q[de]=G,P=de);else if(me<M&&0>l(ke,G))q[P]=ke,q[me]=G,P=me;else break e}}return ne}function l(q,ne){var G=q.sortIndex-ne.sortIndex;return G!==0?G:q.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,p=c.now();i.unstable_now=function(){return c.now()-p}}var m=[],g=[],v=1,w=null,_=3,S=!1,k=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(q){for(var ne=n(g);ne!==null;){if(ne.callback===null)o(g);else if(ne.startTime<=q)o(g),ne.sortIndex=ne.expirationTime,r(m,ne);else break;ne=n(g)}}function D(q){if(N=!1,E(q),!k)if(n(m)!==null)k=!0,Ue(K);else{var ne=n(g);ne!==null&&_e(D,ne.startTime-q)}}function K(q,ne){k=!1,N&&(N=!1,L(xe),xe=-1),S=!0;var G=_;try{for(E(ne),w=n(m);w!==null&&(!(w.expirationTime>ne)||q&&!kt());){var P=w.callback;if(typeof P=="function"){w.callback=null,_=w.priorityLevel;var M=P(w.expirationTime<=ne);ne=i.unstable_now(),typeof M=="function"?w.callback=M:w===n(m)&&o(m),E(ne)}else o(m);w=n(m)}if(w!==null)var ue=!0;else{var de=n(g);de!==null&&_e(D,de.startTime-ne),ue=!1}return ue}finally{w=null,_=G,S=!1}}var J=!1,ae=null,xe=-1,Ee=5,qe=-1;function kt(){return!(i.unstable_now()-qe<Ee)}function $(){if(ae!==null){var q=i.unstable_now();qe=q;var ne=!0;try{ne=ae(!0,q)}finally{ne?B():(J=!1,ae=null)}}else J=!1}var B;if(typeof A=="function")B=function(){A($)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,he=oe.port2;oe.port1.onmessage=$,B=function(){he.postMessage(null)}}else B=function(){C($,0)};function Ue(q){ae=q,J||(J=!0,B())}function _e(q,ne){xe=C(function(){q(i.unstable_now())},ne)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_continueExecution=function(){k||S||(k=!0,Ue(K))},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_getFirstCallbackNode=function(){return n(m)},i.unstable_next=function(q){switch(_){case 1:case 2:case 3:var ne=3;break;default:ne=_}var G=_;_=ne;try{return q()}finally{_=G}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(q,ne){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var G=_;_=q;try{return ne()}finally{_=G}},i.unstable_scheduleCallback=function(q,ne,G){var P=i.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?P+G:P):G=P,q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=G+M,q={id:v++,callback:ne,priorityLevel:q,startTime:G,expirationTime:M,sortIndex:-1},G>P?(q.sortIndex=G,r(g,q),n(m)===null&&q===n(g)&&(N?(L(xe),xe=-1):N=!0,_e(D,G-P))):(q.sortIndex=M,r(m,q),k||S||(k=!0,Ue(K))),q},i.unstable_shouldYield=kt,i.unstable_wrapCallback=function(q){var ne=_;return function(){var G=_;_=ne;try{return q.apply(this,arguments)}finally{_=G}}}}(ml)),ml}var lh;function _g(){return lh||(lh=1,pl.exports=xg()),pl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh;function bg(){if(uh)return ut;uh=1;var i=ql(),r=_g();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function _(e){return m.call(w,e)?!0:m.call(v,e)?!1:g.test(e)?w[e]=!0:(v[e]=!0,!1)}function S(e,t,s,a){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k(e,t,s,a){if(t===null||typeof t>"u"||S(e,t,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,s,a,d,f,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=d,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=y}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];C[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(L,A);C[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(L,A);C[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(L,A);C[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function E(e,t,s,a){var d=C.hasOwnProperty(t)?C[t]:null;(d!==null?d.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(k(t,s,d,a)&&(s=null),a||d===null?_(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):d.mustUseProperty?e[d.propertyName]=s===null?d.type===3?!1:"":s:(t=d.attributeName,a=d.attributeNamespace,s===null?e.removeAttribute(t):(d=d.type,s=d===3||d===4&&s===!0?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}var D=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),J=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),xe=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),qe=Symbol.for("react.provider"),kt=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),Ue=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),q=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var G=Object.assign,P;function M(e){if(P===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return`
`+P+e}var ue=!1;function de(e,t){if(!e||ue)return"";ue=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(R){var a=R}Reflect.construct(e,[],t)}else{try{t.call()}catch(R){a=R}e.call(t.prototype)}else{try{throw Error()}catch(R){a=R}e()}}catch(R){if(R&&a&&typeof R.stack=="string"){for(var d=R.stack.split(`
`),f=a.stack.split(`
`),y=d.length-1,x=f.length-1;1<=y&&0<=x&&d[y]!==f[x];)x--;for(;1<=y&&0<=x;y--,x--)if(d[y]!==f[x]){if(y!==1||x!==1)do if(y--,x--,0>x||d[y]!==f[x]){var b=`
`+d[y].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=y&&0<=x);break}}}finally{ue=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?M(e):""}function pe(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=de(e.type,!1),e;case 11:return e=de(e.type.render,!1),e;case 1:return e=de(e.type,!0),e;default:return""}}function me(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ae:return"Fragment";case J:return"Portal";case Ee:return"Profiler";case xe:return"StrictMode";case B:return"Suspense";case oe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kt:return(e.displayName||"Context")+".Consumer";case qe:return(e._context.displayName||"Context")+".Provider";case $:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case he:return t=e.displayName||null,t!==null?t:me(e.type)||"Memo";case Ue:t=e._payload,e=e._init;try{return me(e(t))}catch{}}return null}function ke(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(t);case 8:return t===xe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ye(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ct(e){var t=Pe(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,f=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ms(e){e._valueTracker||(e._valueTracker=ct(e))}function uu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=Pe(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function Fs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vo(e,t){var s=t.checked;return G({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function cu(e,t){var s=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;s=ye(t.value!=null?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function du(e,t){t=t.checked,t!=null&&E(e,"checked",t,!1)}function wo(e,t){du(e,t);var s=ye(t.value),a=t.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xo(e,t.type,s):t.hasOwnProperty("defaultValue")&&xo(e,t.type,ye(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hu(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function xo(e,t,s){(t!=="number"||Fs(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Ln=Array.isArray;function Hr(e,t,s,a){if(e=e.options,t){t={};for(var d=0;d<s.length;d++)t["$"+s[d]]=!0;for(s=0;s<e.length;s++)d=t.hasOwnProperty("$"+e[s].value),e[s].selected!==d&&(e[s].selected=d),d&&a&&(e[s].defaultSelected=!0)}else{for(s=""+ye(s),t=null,d=0;d<e.length;d++){if(e[d].value===s){e[d].selected=!0,a&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function _o(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fu(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(n(92));if(Ln(s)){if(1<s.length)throw Error(n(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:ye(s)}}function pu(e,t){var s=ye(t.value),a=ye(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function mu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bs,yu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,a,d){MSApp.execUnsafeLocalFunction(function(){return e(t,s,a,d)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bs=Bs||document.createElement("div"),Bs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Dn(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var $n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xp=["Webkit","ms","Moz","O"];Object.keys($n).forEach(function(e){xp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$n[t]=$n[e]})});function vu(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||$n.hasOwnProperty(e)&&$n[e]?(""+t).trim():t+"px"}function wu(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var a=s.indexOf("--")===0,d=vu(s,t[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,d):e[s]=d}}var _p=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ko(e,t){if(t){if(_p[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function So(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jo=null;function Eo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var No=null,Kr=null,Gr=null;function xu(e){if(e=is(e)){if(typeof No!="function")throw Error(n(280));var t=e.stateNode;t&&(t=ci(t),No(e.stateNode,e.type,t))}}function _u(e){Kr?Gr?Gr.push(e):Gr=[e]:Kr=e}function bu(){if(Kr){var e=Kr,t=Gr;if(Gr=Kr=null,xu(e),t)for(e=0;e<t.length;e++)xu(t[e])}}function ku(e,t){return e(t)}function Su(){}var Co=!1;function ju(e,t,s){if(Co)return e(t,s);Co=!0;try{return ku(e,t,s)}finally{Co=!1,(Kr!==null||Gr!==null)&&(Su(),bu())}}function Un(e,t){var s=e.stateNode;if(s===null)return null;var a=ci(s);if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(n(231,t,typeof s));return s}var Po=!1;if(p)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){Po=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{Po=!1}function bp(e,t,s,a,d,f,y,x,b){var R=Array.prototype.slice.call(arguments,3);try{t.apply(s,R)}catch(F){this.onError(F)}}var Fn=!1,zs=null,Ws=!1,Oo=null,kp={onError:function(e){Fn=!0,zs=e}};function Sp(e,t,s,a,d,f,y,x,b){Fn=!1,zs=null,bp.apply(kp,arguments)}function jp(e,t,s,a,d,f,y,x,b){if(Sp.apply(this,arguments),Fn){if(Fn){var R=zs;Fn=!1,zs=null}else throw Error(n(198));Ws||(Ws=!0,Oo=R)}}function Sr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Eu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nu(e){if(Sr(e)!==e)throw Error(n(188))}function Ep(e){var t=e.alternate;if(!t){if(t=Sr(e),t===null)throw Error(n(188));return t!==e?null:e}for(var s=e,a=t;;){var d=s.return;if(d===null)break;var f=d.alternate;if(f===null){if(a=d.return,a!==null){s=a;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===s)return Nu(d),e;if(f===a)return Nu(d),t;f=f.sibling}throw Error(n(188))}if(s.return!==a.return)s=d,a=f;else{for(var y=!1,x=d.child;x;){if(x===s){y=!0,s=d,a=f;break}if(x===a){y=!0,a=d,s=f;break}x=x.sibling}if(!y){for(x=f.child;x;){if(x===s){y=!0,s=f,a=d;break}if(x===a){y=!0,a=f,s=d;break}x=x.sibling}if(!y)throw Error(n(189))}}if(s.alternate!==a)throw Error(n(190))}if(s.tag!==3)throw Error(n(188));return s.stateNode.current===s?e:t}function Cu(e){return e=Ep(e),e!==null?Pu(e):null}function Pu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pu(e);if(t!==null)return t;e=e.sibling}return null}var Ou=r.unstable_scheduleCallback,Tu=r.unstable_cancelCallback,Np=r.unstable_shouldYield,Cp=r.unstable_requestPaint,Le=r.unstable_now,Pp=r.unstable_getCurrentPriorityLevel,To=r.unstable_ImmediatePriority,Ru=r.unstable_UserBlockingPriority,qs=r.unstable_NormalPriority,Op=r.unstable_LowPriority,Au=r.unstable_IdlePriority,Vs=null,$t=null;function Tp(e){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Vs,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Ip,Rp=Math.log,Ap=Math.LN2;function Ip(e){return e>>>=0,e===0?32:31-(Rp(e)/Ap|0)|0}var Hs=64,Ks=4194304;function Bn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gs(e,t){var s=e.pendingLanes;if(s===0)return 0;var a=0,d=e.suspendedLanes,f=e.pingedLanes,y=s&268435455;if(y!==0){var x=y&~d;x!==0?a=Bn(x):(f&=y,f!==0&&(a=Bn(f)))}else y=s&~d,y!==0?a=Bn(y):f!==0&&(a=Bn(f));if(a===0)return 0;if(t!==0&&t!==a&&(t&d)===0&&(d=a&-a,f=t&-t,d>=f||d===16&&(f&4194240)!==0))return t;if((a&4)!==0&&(a|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)s=31-St(t),d=1<<s,a|=e[s],t&=~d;return a}function Lp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dp(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var y=31-St(f),x=1<<y,b=d[y];b===-1?((x&s)===0||(x&a)!==0)&&(d[y]=Lp(x,t)):b<=t&&(e.expiredLanes|=x),f&=~x}}function Ro(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Iu(){var e=Hs;return Hs<<=1,(Hs&4194240)===0&&(Hs=64),e}function Ao(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function zn(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=s}function $p(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var d=31-St(s),f=1<<d;t[d]=0,a[d]=-1,e[d]=-1,s&=~f}}function Io(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-St(s),d=1<<a;d&t|e[a]&t&&(e[a]|=t),s&=~d}}var ve=0;function Lu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Du,Lo,$u,Uu,Mu,Do=!1,Js=[],Xt=null,Zt=null,er=null,Wn=new Map,qn=new Map,tr=[],Up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fu(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Wn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qn.delete(t.pointerId)}}function Vn(e,t,s,a,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:f,targetContainers:[d]},t!==null&&(t=is(t),t!==null&&Lo(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function Mp(e,t,s,a,d){switch(t){case"focusin":return Xt=Vn(Xt,e,t,s,a,d),!0;case"dragenter":return Zt=Vn(Zt,e,t,s,a,d),!0;case"mouseover":return er=Vn(er,e,t,s,a,d),!0;case"pointerover":var f=d.pointerId;return Wn.set(f,Vn(Wn.get(f)||null,e,t,s,a,d)),!0;case"gotpointercapture":return f=d.pointerId,qn.set(f,Vn(qn.get(f)||null,e,t,s,a,d)),!0}return!1}function Bu(e){var t=jr(e.target);if(t!==null){var s=Sr(t);if(s!==null){if(t=s.tag,t===13){if(t=Eu(s),t!==null){e.blockedOn=t,Mu(e.priority,function(){$u(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Uo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);jo=a,s.target.dispatchEvent(a),jo=null}else return t=is(s),t!==null&&Lo(t),e.blockedOn=s,!1;t.shift()}return!0}function zu(e,t,s){Qs(e)&&s.delete(t)}function Fp(){Do=!1,Xt!==null&&Qs(Xt)&&(Xt=null),Zt!==null&&Qs(Zt)&&(Zt=null),er!==null&&Qs(er)&&(er=null),Wn.forEach(zu),qn.forEach(zu)}function Hn(e,t){e.blockedOn===t&&(e.blockedOn=null,Do||(Do=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Fp)))}function Kn(e){function t(d){return Hn(d,e)}if(0<Js.length){Hn(Js[0],e);for(var s=1;s<Js.length;s++){var a=Js[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Xt!==null&&Hn(Xt,e),Zt!==null&&Hn(Zt,e),er!==null&&Hn(er,e),Wn.forEach(t),qn.forEach(t),s=0;s<tr.length;s++)a=tr[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<tr.length&&(s=tr[0],s.blockedOn===null);)Bu(s),s.blockedOn===null&&tr.shift()}var Jr=D.ReactCurrentBatchConfig,Ys=!0;function Bp(e,t,s,a){var d=ve,f=Jr.transition;Jr.transition=null;try{ve=1,$o(e,t,s,a)}finally{ve=d,Jr.transition=f}}function zp(e,t,s,a){var d=ve,f=Jr.transition;Jr.transition=null;try{ve=4,$o(e,t,s,a)}finally{ve=d,Jr.transition=f}}function $o(e,t,s,a){if(Ys){var d=Uo(e,t,s,a);if(d===null)ta(e,t,a,Xs,s),Fu(e,a);else if(Mp(d,e,t,s,a))a.stopPropagation();else if(Fu(e,a),t&4&&-1<Up.indexOf(e)){for(;d!==null;){var f=is(d);if(f!==null&&Du(f),f=Uo(e,t,s,a),f===null&&ta(e,t,a,Xs,s),f===d)break;d=f}d!==null&&a.stopPropagation()}else ta(e,t,a,null,s)}}var Xs=null;function Uo(e,t,s,a){if(Xs=null,e=Eo(a),e=jr(e),e!==null)if(t=Sr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Eu(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xs=e,null}function Wu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pp()){case To:return 1;case Ru:return 4;case qs:case Op:return 16;case Au:return 536870912;default:return 16}default:return 16}}var rr=null,Mo=null,Zs=null;function qu(){if(Zs)return Zs;var e,t=Mo,s=t.length,a,d="value"in rr?rr.value:rr.textContent,f=d.length;for(e=0;e<s&&t[e]===d[e];e++);var y=s-e;for(a=1;a<=y&&t[s-a]===d[f-a];a++);return Zs=d.slice(e,1<a?1-a:void 0)}function ei(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ti(){return!0}function Vu(){return!1}function dt(e){function t(s,a,d,f,y){this._reactName=s,this._targetInst=d,this.type=a,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(s=e[x],this[x]=s?s(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ti:Vu,this.isPropagationStopped=Vu,this}return G(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),t}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=dt(Qr),Gn=G({},Qr,{view:0,detail:0}),Wp=dt(Gn),Bo,zo,Jn,ri=G({},Gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jn&&(Jn&&e.type==="mousemove"?(Bo=e.screenX-Jn.screenX,zo=e.screenY-Jn.screenY):zo=Bo=0,Jn=e),Bo)},movementY:function(e){return"movementY"in e?e.movementY:zo}}),Hu=dt(ri),qp=G({},ri,{dataTransfer:0}),Vp=dt(qp),Hp=G({},Gn,{relatedTarget:0}),Wo=dt(Hp),Kp=G({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Gp=dt(Kp),Jp=G({},Qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qp=dt(Jp),Yp=G({},Qr,{data:0}),Ku=dt(Yp),Xp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},em={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=em[e])?!!t[e]:!1}function qo(){return tm}var rm=G({},Gn,{key:function(e){if(e.key){var t=Xp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ei(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qo,charCode:function(e){return e.type==="keypress"?ei(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ei(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nm=dt(rm),sm=G({},ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gu=dt(sm),im=G({},Gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qo}),om=dt(im),am=G({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),lm=dt(am),um=G({},ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cm=dt(um),dm=[9,13,27,32],Vo=p&&"CompositionEvent"in window,Qn=null;p&&"documentMode"in document&&(Qn=document.documentMode);var hm=p&&"TextEvent"in window&&!Qn,Ju=p&&(!Vo||Qn&&8<Qn&&11>=Qn),Qu=" ",Yu=!1;function Xu(e,t){switch(e){case"keyup":return dm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yr=!1;function fm(e,t){switch(e){case"compositionend":return Zu(t);case"keypress":return t.which!==32?null:(Yu=!0,Qu);case"textInput":return e=t.data,e===Qu&&Yu?null:e;default:return null}}function pm(e,t){if(Yr)return e==="compositionend"||!Vo&&Xu(e,t)?(e=qu(),Zs=Mo=rr=null,Yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ju&&t.locale!=="ko"?null:t.data;default:return null}}var mm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mm[e.type]:t==="textarea"}function tc(e,t,s,a){_u(a),t=ai(t,"onChange"),0<t.length&&(s=new Fo("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var Yn=null,Xn=null;function gm(e){wc(e,0)}function ni(e){var t=rn(e);if(uu(t))return e}function ym(e,t){if(e==="change")return t}var rc=!1;if(p){var Ho;if(p){var Ko="oninput"in document;if(!Ko){var nc=document.createElement("div");nc.setAttribute("oninput","return;"),Ko=typeof nc.oninput=="function"}Ho=Ko}else Ho=!1;rc=Ho&&(!document.documentMode||9<document.documentMode)}function sc(){Yn&&(Yn.detachEvent("onpropertychange",ic),Xn=Yn=null)}function ic(e){if(e.propertyName==="value"&&ni(Xn)){var t=[];tc(t,Xn,e,Eo(e)),ju(gm,t)}}function vm(e,t,s){e==="focusin"?(sc(),Yn=t,Xn=s,Yn.attachEvent("onpropertychange",ic)):e==="focusout"&&sc()}function wm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ni(Xn)}function xm(e,t){if(e==="click")return ni(t)}function _m(e,t){if(e==="input"||e==="change")return ni(t)}function bm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:bm;function Zn(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var d=s[a];if(!m.call(t,d)||!jt(e[d],t[d]))return!1}return!0}function oc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ac(e,t){var s=oc(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=oc(s)}}function lc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uc(){for(var e=window,t=Fs();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Fs(e.document)}return t}function Go(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function km(e){var t=uc(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&lc(s.ownerDocument.documentElement,s)){if(a!==null&&Go(s)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=s.textContent.length,f=Math.min(a.start,d);a=a.end===void 0?f:Math.min(a.end,d),!e.extend&&f>a&&(d=a,a=f,f=d),d=ac(s,f);var y=ac(s,a);d&&y&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),f>a?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sm=p&&"documentMode"in document&&11>=document.documentMode,Xr=null,Jo=null,es=null,Qo=!1;function cc(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Qo||Xr==null||Xr!==Fs(a)||(a=Xr,"selectionStart"in a&&Go(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),es&&Zn(es,a)||(es=a,a=ai(Jo,"onSelect"),0<a.length&&(t=new Fo("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=Xr)))}function si(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Zr={animationend:si("Animation","AnimationEnd"),animationiteration:si("Animation","AnimationIteration"),animationstart:si("Animation","AnimationStart"),transitionend:si("Transition","TransitionEnd")},Yo={},dc={};p&&(dc=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function ii(e){if(Yo[e])return Yo[e];if(!Zr[e])return e;var t=Zr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in dc)return Yo[e]=t[s];return e}var hc=ii("animationend"),fc=ii("animationiteration"),pc=ii("animationstart"),mc=ii("transitionend"),gc=new Map,yc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(e,t){gc.set(e,t),u(t,[e])}for(var Xo=0;Xo<yc.length;Xo++){var Zo=yc[Xo],jm=Zo.toLowerCase(),Em=Zo[0].toUpperCase()+Zo.slice(1);nr(jm,"on"+Em)}nr(hc,"onAnimationEnd"),nr(fc,"onAnimationIteration"),nr(pc,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(mc,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nm=new Set("cancel close invalid load scroll toggle".split(" ").concat(ts));function vc(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,jp(a,t,void 0,e),e.currentTarget=null}function wc(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],d=a.event;a=a.listeners;e:{var f=void 0;if(t)for(var y=a.length-1;0<=y;y--){var x=a[y],b=x.instance,R=x.currentTarget;if(x=x.listener,b!==f&&d.isPropagationStopped())break e;vc(d,x,R),f=b}else for(y=0;y<a.length;y++){if(x=a[y],b=x.instance,R=x.currentTarget,x=x.listener,b!==f&&d.isPropagationStopped())break e;vc(d,x,R),f=b}}}if(Ws)throw e=Oo,Ws=!1,Oo=null,e}function Ne(e,t){var s=t[aa];s===void 0&&(s=t[aa]=new Set);var a=e+"__bubble";s.has(a)||(xc(t,e,2,!1),s.add(a))}function ea(e,t,s){var a=0;t&&(a|=4),xc(s,e,a,t)}var oi="_reactListening"+Math.random().toString(36).slice(2);function rs(e){if(!e[oi]){e[oi]=!0,o.forEach(function(s){s!=="selectionchange"&&(Nm.has(s)||ea(s,!1,e),ea(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oi]||(t[oi]=!0,ea("selectionchange",!1,t))}}function xc(e,t,s,a){switch(Wu(t)){case 1:var d=Bp;break;case 4:d=zp;break;default:d=$o}s=d.bind(null,t,s,e),d=void 0,!Po||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),a?d!==void 0?e.addEventListener(t,s,{capture:!0,passive:d}):e.addEventListener(t,s,!0):d!==void 0?e.addEventListener(t,s,{passive:d}):e.addEventListener(t,s,!1)}function ta(e,t,s,a,d){var f=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var y=a.tag;if(y===3||y===4){var x=a.stateNode.containerInfo;if(x===d||x.nodeType===8&&x.parentNode===d)break;if(y===4)for(y=a.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===d||b.nodeType===8&&b.parentNode===d))return;y=y.return}for(;x!==null;){if(y=jr(x),y===null)return;if(b=y.tag,b===5||b===6){a=f=y;continue e}x=x.parentNode}}a=a.return}ju(function(){var R=f,F=Eo(s),z=[];e:{var U=gc.get(e);if(U!==void 0){var V=Fo,Q=e;switch(e){case"keypress":if(ei(s)===0)break e;case"keydown":case"keyup":V=nm;break;case"focusin":Q="focus",V=Wo;break;case"focusout":Q="blur",V=Wo;break;case"beforeblur":case"afterblur":V=Wo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Vp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=om;break;case hc:case fc:case pc:V=Gp;break;case mc:V=lm;break;case"scroll":V=Wp;break;case"wheel":V=cm;break;case"copy":case"cut":case"paste":V=Qp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Gu}var Y=(t&4)!==0,De=!Y&&e==="scroll",O=Y?U!==null?U+"Capture":null:U;Y=[];for(var j=R,T;j!==null;){T=j;var W=T.stateNode;if(T.tag===5&&W!==null&&(T=W,O!==null&&(W=Un(j,O),W!=null&&Y.push(ns(j,W,T)))),De)break;j=j.return}0<Y.length&&(U=new V(U,Q,null,s,F),z.push({event:U,listeners:Y}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",U&&s!==jo&&(Q=s.relatedTarget||s.fromElement)&&(jr(Q)||Q[zt]))break e;if((V||U)&&(U=F.window===F?F:(U=F.ownerDocument)?U.defaultView||U.parentWindow:window,V?(Q=s.relatedTarget||s.toElement,V=R,Q=Q?jr(Q):null,Q!==null&&(De=Sr(Q),Q!==De||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(V=null,Q=R),V!==Q)){if(Y=Hu,W="onMouseLeave",O="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(Y=Gu,W="onPointerLeave",O="onPointerEnter",j="pointer"),De=V==null?U:rn(V),T=Q==null?U:rn(Q),U=new Y(W,j+"leave",V,s,F),U.target=De,U.relatedTarget=T,W=null,jr(F)===R&&(Y=new Y(O,j+"enter",Q,s,F),Y.target=T,Y.relatedTarget=De,W=Y),De=W,V&&Q)t:{for(Y=V,O=Q,j=0,T=Y;T;T=en(T))j++;for(T=0,W=O;W;W=en(W))T++;for(;0<j-T;)Y=en(Y),j--;for(;0<T-j;)O=en(O),T--;for(;j--;){if(Y===O||O!==null&&Y===O.alternate)break t;Y=en(Y),O=en(O)}Y=null}else Y=null;V!==null&&_c(z,U,V,Y,!1),Q!==null&&De!==null&&_c(z,De,Q,Y,!0)}}e:{if(U=R?rn(R):window,V=U.nodeName&&U.nodeName.toLowerCase(),V==="select"||V==="input"&&U.type==="file")var Z=ym;else if(ec(U))if(rc)Z=_m;else{Z=wm;var te=vm}else(V=U.nodeName)&&V.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(Z=xm);if(Z&&(Z=Z(e,R))){tc(z,Z,s,F);break e}te&&te(e,U,R),e==="focusout"&&(te=U._wrapperState)&&te.controlled&&U.type==="number"&&xo(U,"number",U.value)}switch(te=R?rn(R):window,e){case"focusin":(ec(te)||te.contentEditable==="true")&&(Xr=te,Jo=R,es=null);break;case"focusout":es=Jo=Xr=null;break;case"mousedown":Qo=!0;break;case"contextmenu":case"mouseup":case"dragend":Qo=!1,cc(z,s,F);break;case"selectionchange":if(Sm)break;case"keydown":case"keyup":cc(z,s,F)}var re;if(Vo)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else Yr?Xu(e,s)&&(ie="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ie="onCompositionStart");ie&&(Ju&&s.locale!=="ko"&&(Yr||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&Yr&&(re=qu()):(rr=F,Mo="value"in rr?rr.value:rr.textContent,Yr=!0)),te=ai(R,ie),0<te.length&&(ie=new Ku(ie,e,null,s,F),z.push({event:ie,listeners:te}),re?ie.data=re:(re=Zu(s),re!==null&&(ie.data=re)))),(re=hm?fm(e,s):pm(e,s))&&(R=ai(R,"onBeforeInput"),0<R.length&&(F=new Ku("onBeforeInput","beforeinput",null,s,F),z.push({event:F,listeners:R}),F.data=re))}wc(z,t)})}function ns(e,t,s){return{instance:e,listener:t,currentTarget:s}}function ai(e,t){for(var s=t+"Capture",a=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Un(e,s),f!=null&&a.unshift(ns(e,f,d)),f=Un(e,t),f!=null&&a.push(ns(e,f,d))),e=e.return}return a}function en(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _c(e,t,s,a,d){for(var f=t._reactName,y=[];s!==null&&s!==a;){var x=s,b=x.alternate,R=x.stateNode;if(b!==null&&b===a)break;x.tag===5&&R!==null&&(x=R,d?(b=Un(s,f),b!=null&&y.unshift(ns(s,b,x))):d||(b=Un(s,f),b!=null&&y.push(ns(s,b,x)))),s=s.return}y.length!==0&&e.push({event:t,listeners:y})}var Cm=/\r\n?/g,Pm=/\u0000|\uFFFD/g;function bc(e){return(typeof e=="string"?e:""+e).replace(Cm,`
`).replace(Pm,"")}function li(e,t,s){if(t=bc(t),bc(e)!==t&&s)throw Error(n(425))}function ui(){}var ra=null,na=null;function sa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ia=typeof setTimeout=="function"?setTimeout:void 0,Om=typeof clearTimeout=="function"?clearTimeout:void 0,kc=typeof Promise=="function"?Promise:void 0,Tm=typeof queueMicrotask=="function"?queueMicrotask:typeof kc<"u"?function(e){return kc.resolve(null).then(e).catch(Rm)}:ia;function Rm(e){setTimeout(function(){throw e})}function oa(e,t){var s=t,a=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(a===0){e.removeChild(d),Kn(t);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=d}while(s);Kn(t)}function sr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var tn=Math.random().toString(36).slice(2),Ut="__reactFiber$"+tn,ss="__reactProps$"+tn,zt="__reactContainer$"+tn,aa="__reactEvents$"+tn,Am="__reactListeners$"+tn,Im="__reactHandles$"+tn;function jr(e){var t=e[Ut];if(t)return t;for(var s=e.parentNode;s;){if(t=s[zt]||s[Ut]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Sc(e);e!==null;){if(s=e[Ut])return s;e=Sc(e)}return t}e=s,s=e.parentNode}return null}function is(e){return e=e[Ut]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function ci(e){return e[ss]||null}var la=[],nn=-1;function ir(e){return{current:e}}function Ce(e){0>nn||(e.current=la[nn],la[nn]=null,nn--)}function Se(e,t){nn++,la[nn]=e.current,e.current=t}var or={},Qe=ir(or),st=ir(!1),Er=or;function sn(e,t){var s=e.type.contextTypes;if(!s)return or;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in s)d[f]=t[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function it(e){return e=e.childContextTypes,e!=null}function di(){Ce(st),Ce(Qe)}function jc(e,t,s){if(Qe.current!==or)throw Error(n(168));Se(Qe,t),Se(st,s)}function Ec(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var d in a)if(!(d in t))throw Error(n(108,ke(e)||"Unknown",d));return G({},s,a)}function hi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||or,Er=Qe.current,Se(Qe,e),Se(st,st.current),!0}function Nc(e,t,s){var a=e.stateNode;if(!a)throw Error(n(169));s?(e=Ec(e,t,Er),a.__reactInternalMemoizedMergedChildContext=e,Ce(st),Ce(Qe),Se(Qe,e)):Ce(st),Se(st,s)}var Wt=null,fi=!1,ua=!1;function Cc(e){Wt===null?Wt=[e]:Wt.push(e)}function Lm(e){fi=!0,Cc(e)}function ar(){if(!ua&&Wt!==null){ua=!0;var e=0,t=ve;try{var s=Wt;for(ve=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}Wt=null,fi=!1}catch(d){throw Wt!==null&&(Wt=Wt.slice(e+1)),Ou(To,ar),d}finally{ve=t,ua=!1}}return null}var on=[],an=0,pi=null,mi=0,yt=[],vt=0,Nr=null,qt=1,Vt="";function Cr(e,t){on[an++]=mi,on[an++]=pi,pi=e,mi=t}function Pc(e,t,s){yt[vt++]=qt,yt[vt++]=Vt,yt[vt++]=Nr,Nr=e;var a=qt;e=Vt;var d=32-St(a)-1;a&=~(1<<d),s+=1;var f=32-St(t)+d;if(30<f){var y=d-d%5;f=(a&(1<<y)-1).toString(32),a>>=y,d-=y,qt=1<<32-St(t)+d|s<<d|a,Vt=f+e}else qt=1<<f|s<<d|a,Vt=e}function ca(e){e.return!==null&&(Cr(e,1),Pc(e,1,0))}function da(e){for(;e===pi;)pi=on[--an],on[an]=null,mi=on[--an],on[an]=null;for(;e===Nr;)Nr=yt[--vt],yt[vt]=null,Vt=yt[--vt],yt[vt]=null,qt=yt[--vt],yt[vt]=null}var ht=null,ft=null,Oe=!1,Et=null;function Oc(e,t){var s=bt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Tc(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ht=e,ft=sr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ht=e,ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Nr!==null?{id:qt,overflow:Vt}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=bt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,ht=e,ft=null,!0):!1;default:return!1}}function ha(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fa(e){if(Oe){var t=ft;if(t){var s=t;if(!Tc(e,t)){if(ha(e))throw Error(n(418));t=sr(s.nextSibling);var a=ht;t&&Tc(e,t)?Oc(a,s):(e.flags=e.flags&-4097|2,Oe=!1,ht=e)}}else{if(ha(e))throw Error(n(418));e.flags=e.flags&-4097|2,Oe=!1,ht=e}}}function Rc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ht=e}function gi(e){if(e!==ht)return!1;if(!Oe)return Rc(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sa(e.type,e.memoizedProps)),t&&(t=ft)){if(ha(e))throw Ac(),Error(n(418));for(;t;)Oc(e,t),t=sr(t.nextSibling)}if(Rc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){ft=sr(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}ft=null}}else ft=ht?sr(e.stateNode.nextSibling):null;return!0}function Ac(){for(var e=ft;e;)e=sr(e.nextSibling)}function ln(){ft=ht=null,Oe=!1}function pa(e){Et===null?Et=[e]:Et.push(e)}var Dm=D.ReactCurrentBatchConfig;function os(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(n(309));var a=s.stateNode}if(!a)throw Error(n(147,e));var d=a,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(y){var x=d.refs;y===null?delete x[f]:x[f]=y},t._stringRef=f,t)}if(typeof e!="string")throw Error(n(284));if(!s._owner)throw Error(n(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ic(e){var t=e._init;return t(e._payload)}function Lc(e){function t(O,j){if(e){var T=O.deletions;T===null?(O.deletions=[j],O.flags|=16):T.push(j)}}function s(O,j){if(!e)return null;for(;j!==null;)t(O,j),j=j.sibling;return null}function a(O,j){for(O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function d(O,j){return O=mr(O,j),O.index=0,O.sibling=null,O}function f(O,j,T){return O.index=T,e?(T=O.alternate,T!==null?(T=T.index,T<j?(O.flags|=2,j):T):(O.flags|=2,j)):(O.flags|=1048576,j)}function y(O){return e&&O.alternate===null&&(O.flags|=2),O}function x(O,j,T,W){return j===null||j.tag!==6?(j=il(T,O.mode,W),j.return=O,j):(j=d(j,T),j.return=O,j)}function b(O,j,T,W){var Z=T.type;return Z===ae?F(O,j,T.props.children,W,T.key):j!==null&&(j.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Ue&&Ic(Z)===j.type)?(W=d(j,T.props),W.ref=os(O,j,T),W.return=O,W):(W=Bi(T.type,T.key,T.props,null,O.mode,W),W.ref=os(O,j,T),W.return=O,W)}function R(O,j,T,W){return j===null||j.tag!==4||j.stateNode.containerInfo!==T.containerInfo||j.stateNode.implementation!==T.implementation?(j=ol(T,O.mode,W),j.return=O,j):(j=d(j,T.children||[]),j.return=O,j)}function F(O,j,T,W,Z){return j===null||j.tag!==7?(j=Dr(T,O.mode,W,Z),j.return=O,j):(j=d(j,T),j.return=O,j)}function z(O,j,T){if(typeof j=="string"&&j!==""||typeof j=="number")return j=il(""+j,O.mode,T),j.return=O,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case K:return T=Bi(j.type,j.key,j.props,null,O.mode,T),T.ref=os(O,null,j),T.return=O,T;case J:return j=ol(j,O.mode,T),j.return=O,j;case Ue:var W=j._init;return z(O,W(j._payload),T)}if(Ln(j)||ne(j))return j=Dr(j,O.mode,T,null),j.return=O,j;yi(O,j)}return null}function U(O,j,T,W){var Z=j!==null?j.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return Z!==null?null:x(O,j,""+T,W);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case K:return T.key===Z?b(O,j,T,W):null;case J:return T.key===Z?R(O,j,T,W):null;case Ue:return Z=T._init,U(O,j,Z(T._payload),W)}if(Ln(T)||ne(T))return Z!==null?null:F(O,j,T,W,null);yi(O,T)}return null}function V(O,j,T,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number")return O=O.get(T)||null,x(j,O,""+W,Z);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case K:return O=O.get(W.key===null?T:W.key)||null,b(j,O,W,Z);case J:return O=O.get(W.key===null?T:W.key)||null,R(j,O,W,Z);case Ue:var te=W._init;return V(O,j,T,te(W._payload),Z)}if(Ln(W)||ne(W))return O=O.get(T)||null,F(j,O,W,Z,null);yi(j,W)}return null}function Q(O,j,T,W){for(var Z=null,te=null,re=j,ie=j=0,Ke=null;re!==null&&ie<T.length;ie++){re.index>ie?(Ke=re,re=null):Ke=re.sibling;var ge=U(O,re,T[ie],W);if(ge===null){re===null&&(re=Ke);break}e&&re&&ge.alternate===null&&t(O,re),j=f(ge,j,ie),te===null?Z=ge:te.sibling=ge,te=ge,re=Ke}if(ie===T.length)return s(O,re),Oe&&Cr(O,ie),Z;if(re===null){for(;ie<T.length;ie++)re=z(O,T[ie],W),re!==null&&(j=f(re,j,ie),te===null?Z=re:te.sibling=re,te=re);return Oe&&Cr(O,ie),Z}for(re=a(O,re);ie<T.length;ie++)Ke=V(re,O,ie,T[ie],W),Ke!==null&&(e&&Ke.alternate!==null&&re.delete(Ke.key===null?ie:Ke.key),j=f(Ke,j,ie),te===null?Z=Ke:te.sibling=Ke,te=Ke);return e&&re.forEach(function(gr){return t(O,gr)}),Oe&&Cr(O,ie),Z}function Y(O,j,T,W){var Z=ne(T);if(typeof Z!="function")throw Error(n(150));if(T=Z.call(T),T==null)throw Error(n(151));for(var te=Z=null,re=j,ie=j=0,Ke=null,ge=T.next();re!==null&&!ge.done;ie++,ge=T.next()){re.index>ie?(Ke=re,re=null):Ke=re.sibling;var gr=U(O,re,ge.value,W);if(gr===null){re===null&&(re=Ke);break}e&&re&&gr.alternate===null&&t(O,re),j=f(gr,j,ie),te===null?Z=gr:te.sibling=gr,te=gr,re=Ke}if(ge.done)return s(O,re),Oe&&Cr(O,ie),Z;if(re===null){for(;!ge.done;ie++,ge=T.next())ge=z(O,ge.value,W),ge!==null&&(j=f(ge,j,ie),te===null?Z=ge:te.sibling=ge,te=ge);return Oe&&Cr(O,ie),Z}for(re=a(O,re);!ge.done;ie++,ge=T.next())ge=V(re,O,ie,ge.value,W),ge!==null&&(e&&ge.alternate!==null&&re.delete(ge.key===null?ie:ge.key),j=f(ge,j,ie),te===null?Z=ge:te.sibling=ge,te=ge);return e&&re.forEach(function(mg){return t(O,mg)}),Oe&&Cr(O,ie),Z}function De(O,j,T,W){if(typeof T=="object"&&T!==null&&T.type===ae&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case K:e:{for(var Z=T.key,te=j;te!==null;){if(te.key===Z){if(Z=T.type,Z===ae){if(te.tag===7){s(O,te.sibling),j=d(te,T.props.children),j.return=O,O=j;break e}}else if(te.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Ue&&Ic(Z)===te.type){s(O,te.sibling),j=d(te,T.props),j.ref=os(O,te,T),j.return=O,O=j;break e}s(O,te);break}else t(O,te);te=te.sibling}T.type===ae?(j=Dr(T.props.children,O.mode,W,T.key),j.return=O,O=j):(W=Bi(T.type,T.key,T.props,null,O.mode,W),W.ref=os(O,j,T),W.return=O,O=W)}return y(O);case J:e:{for(te=T.key;j!==null;){if(j.key===te)if(j.tag===4&&j.stateNode.containerInfo===T.containerInfo&&j.stateNode.implementation===T.implementation){s(O,j.sibling),j=d(j,T.children||[]),j.return=O,O=j;break e}else{s(O,j);break}else t(O,j);j=j.sibling}j=ol(T,O.mode,W),j.return=O,O=j}return y(O);case Ue:return te=T._init,De(O,j,te(T._payload),W)}if(Ln(T))return Q(O,j,T,W);if(ne(T))return Y(O,j,T,W);yi(O,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,j!==null&&j.tag===6?(s(O,j.sibling),j=d(j,T),j.return=O,O=j):(s(O,j),j=il(T,O.mode,W),j.return=O,O=j),y(O)):s(O,j)}return De}var un=Lc(!0),Dc=Lc(!1),vi=ir(null),wi=null,cn=null,ma=null;function ga(){ma=cn=wi=null}function ya(e){var t=vi.current;Ce(vi),e._currentValue=t}function va(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function dn(e,t){wi=e,ma=cn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ot=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(ma!==e)if(e={context:e,memoizedValue:t,next:null},cn===null){if(wi===null)throw Error(n(308));cn=e,wi.dependencies={lanes:0,firstContext:e}}else cn=cn.next=e;return t}var Pr=null;function wa(e){Pr===null?Pr=[e]:Pr.push(e)}function $c(e,t,s,a){var d=t.interleaved;return d===null?(s.next=s,wa(t)):(s.next=d.next,d.next=s),t.interleaved=s,Ht(e,a)}function Ht(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var lr=!1;function xa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ur(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(fe&2)!==0){var d=a.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),a.pending=t,Ht(e,s)}return d=a.interleaved,d===null?(t.next=t,wa(a)):(t.next=d.next,d.next=t),a.interleaved=t,Ht(e,s)}function xi(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,Io(e,s)}}function Mc(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var d=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};f===null?d=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?d=f=t:f=f.next=t}else d=f=t;s={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function _i(e,t,s,a){var d=e.updateQueue;lr=!1;var f=d.firstBaseUpdate,y=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var b=x,R=b.next;b.next=null,y===null?f=R:y.next=R,y=b;var F=e.alternate;F!==null&&(F=F.updateQueue,x=F.lastBaseUpdate,x!==y&&(x===null?F.firstBaseUpdate=R:x.next=R,F.lastBaseUpdate=b))}if(f!==null){var z=d.baseState;y=0,F=R=b=null,x=f;do{var U=x.lane,V=x.eventTime;if((a&U)===U){F!==null&&(F=F.next={eventTime:V,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var Q=e,Y=x;switch(U=t,V=s,Y.tag){case 1:if(Q=Y.payload,typeof Q=="function"){z=Q.call(V,z,U);break e}z=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=Y.payload,U=typeof Q=="function"?Q.call(V,z,U):Q,U==null)break e;z=G({},z,U);break e;case 2:lr=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,U=d.effects,U===null?d.effects=[x]:U.push(x))}else V={eventTime:V,lane:U,tag:x.tag,payload:x.payload,callback:x.callback,next:null},F===null?(R=F=V,b=z):F=F.next=V,y|=U;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;U=x,x=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);if(F===null&&(b=z),d.baseState=b,d.firstBaseUpdate=R,d.lastBaseUpdate=F,t=d.shared.interleaved,t!==null){d=t;do y|=d.lane,d=d.next;while(d!==t)}else f===null&&(d.shared.lanes=0);Rr|=y,e.lanes=y,e.memoizedState=z}}function Fc(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],d=a.callback;if(d!==null){if(a.callback=null,a=s,typeof d!="function")throw Error(n(191,d));d.call(a)}}}var as={},Mt=ir(as),ls=ir(as),us=ir(as);function Or(e){if(e===as)throw Error(n(174));return e}function _a(e,t){switch(Se(us,t),Se(ls,e),Se(Mt,as),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bo(t,e)}Ce(Mt),Se(Mt,t)}function hn(){Ce(Mt),Ce(ls),Ce(us)}function Bc(e){Or(us.current);var t=Or(Mt.current),s=bo(t,e.type);t!==s&&(Se(ls,e),Se(Mt,s))}function ba(e){ls.current===e&&(Ce(Mt),Ce(ls))}var Te=ir(0);function bi(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ka=[];function Sa(){for(var e=0;e<ka.length;e++)ka[e]._workInProgressVersionPrimary=null;ka.length=0}var ki=D.ReactCurrentDispatcher,ja=D.ReactCurrentBatchConfig,Tr=0,Re=null,Be=null,Ve=null,Si=!1,cs=!1,ds=0,$m=0;function Ye(){throw Error(n(321))}function Ea(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!jt(e[s],t[s]))return!1;return!0}function Na(e,t,s,a,d,f){if(Tr=f,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ki.current=e===null||e.memoizedState===null?Bm:zm,e=s(a,d),cs){f=0;do{if(cs=!1,ds=0,25<=f)throw Error(n(301));f+=1,Ve=Be=null,t.updateQueue=null,ki.current=Wm,e=s(a,d)}while(cs)}if(ki.current=Ni,t=Be!==null&&Be.next!==null,Tr=0,Ve=Be=Re=null,Si=!1,t)throw Error(n(300));return e}function Ca(){var e=ds!==0;return ds=0,e}function Ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Re.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function xt(){if(Be===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Ve===null?Re.memoizedState:Ve.next;if(t!==null)Ve=t,Be=e;else{if(e===null)throw Error(n(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ve===null?Re.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function hs(e,t){return typeof t=="function"?t(e):t}function Pa(e){var t=xt(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var a=Be,d=a.baseQueue,f=s.pending;if(f!==null){if(d!==null){var y=d.next;d.next=f.next,f.next=y}a.baseQueue=d=f,s.pending=null}if(d!==null){f=d.next,a=a.baseState;var x=y=null,b=null,R=f;do{var F=R.lane;if((Tr&F)===F)b!==null&&(b=b.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),a=R.hasEagerState?R.eagerState:e(a,R.action);else{var z={lane:F,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};b===null?(x=b=z,y=a):b=b.next=z,Re.lanes|=F,Rr|=F}R=R.next}while(R!==null&&R!==f);b===null?y=a:b.next=x,jt(a,t.memoizedState)||(ot=!0),t.memoizedState=a,t.baseState=y,t.baseQueue=b,s.lastRenderedState=a}if(e=s.interleaved,e!==null){d=e;do f=d.lane,Re.lanes|=f,Rr|=f,d=d.next;while(d!==e)}else d===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Oa(e){var t=xt(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var a=s.dispatch,d=s.pending,f=t.memoizedState;if(d!==null){s.pending=null;var y=d=d.next;do f=e(f,y.action),y=y.next;while(y!==d);jt(f,t.memoizedState)||(ot=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),s.lastRenderedState=f}return[f,a]}function zc(){}function Wc(e,t){var s=Re,a=xt(),d=t(),f=!jt(a.memoizedState,d);if(f&&(a.memoizedState=d,ot=!0),a=a.queue,Ta(Hc.bind(null,s,a,e),[e]),a.getSnapshot!==t||f||Ve!==null&&Ve.memoizedState.tag&1){if(s.flags|=2048,fs(9,Vc.bind(null,s,a,d,t),void 0,null),He===null)throw Error(n(349));(Tr&30)!==0||qc(s,t,d)}return d}function qc(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Vc(e,t,s,a){t.value=s,t.getSnapshot=a,Kc(t)&&Gc(e)}function Hc(e,t,s){return s(function(){Kc(t)&&Gc(e)})}function Kc(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!jt(e,s)}catch{return!0}}function Gc(e){var t=Ht(e,1);t!==null&&Ot(t,e,1,-1)}function Jc(e){var t=Ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:e},t.queue=e,e=e.dispatch=Fm.bind(null,Re,e),[t.memoizedState,e]}function fs(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e)),e}function Qc(){return xt().memoizedState}function ji(e,t,s,a){var d=Ft();Re.flags|=e,d.memoizedState=fs(1|t,s,void 0,a===void 0?null:a)}function Ei(e,t,s,a){var d=xt();a=a===void 0?null:a;var f=void 0;if(Be!==null){var y=Be.memoizedState;if(f=y.destroy,a!==null&&Ea(a,y.deps)){d.memoizedState=fs(t,s,f,a);return}}Re.flags|=e,d.memoizedState=fs(1|t,s,f,a)}function Yc(e,t){return ji(8390656,8,e,t)}function Ta(e,t){return Ei(2048,8,e,t)}function Xc(e,t){return Ei(4,2,e,t)}function Zc(e,t){return Ei(4,4,e,t)}function ed(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function td(e,t,s){return s=s!=null?s.concat([e]):null,Ei(4,4,ed.bind(null,t,e),s)}function Ra(){}function rd(e,t){var s=xt();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&Ea(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function nd(e,t){var s=xt();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&Ea(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function sd(e,t,s){return(Tr&21)===0?(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=s):(jt(s,t)||(s=Iu(),Re.lanes|=s,Rr|=s,e.baseState=!0),t)}function Um(e,t){var s=ve;ve=s!==0&&4>s?s:4,e(!0);var a=ja.transition;ja.transition={};try{e(!1),t()}finally{ve=s,ja.transition=a}}function id(){return xt().memoizedState}function Mm(e,t,s){var a=fr(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},od(e))ad(t,s);else if(s=$c(e,t,s,a),s!==null){var d=rt();Ot(s,e,a,d),ld(s,t,a)}}function Fm(e,t,s){var a=fr(e),d={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(od(e))ad(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,x=f(y,s);if(d.hasEagerState=!0,d.eagerState=x,jt(x,y)){var b=t.interleaved;b===null?(d.next=d,wa(t)):(d.next=b.next,b.next=d),t.interleaved=d;return}}catch{}finally{}s=$c(e,t,d,a),s!==null&&(d=rt(),Ot(s,e,a,d),ld(s,t,a))}}function od(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function ad(e,t){cs=Si=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function ld(e,t,s){if((s&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,Io(e,s)}}var Ni={readContext:wt,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},Bm={readContext:wt,useCallback:function(e,t){return Ft().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:Yc,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,ji(4194308,4,ed.bind(null,t,e),s)},useLayoutEffect:function(e,t){return ji(4194308,4,e,t)},useInsertionEffect:function(e,t){return ji(4,2,e,t)},useMemo:function(e,t){var s=Ft();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=Ft();return t=s!==void 0?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Mm.bind(null,Re,e),[a.memoizedState,e]},useRef:function(e){var t=Ft();return e={current:e},t.memoizedState=e},useState:Jc,useDebugValue:Ra,useDeferredValue:function(e){return Ft().memoizedState=e},useTransition:function(){var e=Jc(!1),t=e[0];return e=Um.bind(null,e[1]),Ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=Re,d=Ft();if(Oe){if(s===void 0)throw Error(n(407));s=s()}else{if(s=t(),He===null)throw Error(n(349));(Tr&30)!==0||qc(a,t,s)}d.memoizedState=s;var f={value:s,getSnapshot:t};return d.queue=f,Yc(Hc.bind(null,a,f,e),[e]),a.flags|=2048,fs(9,Vc.bind(null,a,f,s,t),void 0,null),s},useId:function(){var e=Ft(),t=He.identifierPrefix;if(Oe){var s=Vt,a=qt;s=(a&~(1<<32-St(a)-1)).toString(32)+s,t=":"+t+"R"+s,s=ds++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=$m++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zm={readContext:wt,useCallback:rd,useContext:wt,useEffect:Ta,useImperativeHandle:td,useInsertionEffect:Xc,useLayoutEffect:Zc,useMemo:nd,useReducer:Pa,useRef:Qc,useState:function(){return Pa(hs)},useDebugValue:Ra,useDeferredValue:function(e){var t=xt();return sd(t,Be.memoizedState,e)},useTransition:function(){var e=Pa(hs)[0],t=xt().memoizedState;return[e,t]},useMutableSource:zc,useSyncExternalStore:Wc,useId:id,unstable_isNewReconciler:!1},Wm={readContext:wt,useCallback:rd,useContext:wt,useEffect:Ta,useImperativeHandle:td,useInsertionEffect:Xc,useLayoutEffect:Zc,useMemo:nd,useReducer:Oa,useRef:Qc,useState:function(){return Oa(hs)},useDebugValue:Ra,useDeferredValue:function(e){var t=xt();return Be===null?t.memoizedState=e:sd(t,Be.memoizedState,e)},useTransition:function(){var e=Oa(hs)[0],t=xt().memoizedState;return[e,t]},useMutableSource:zc,useSyncExternalStore:Wc,useId:id,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=G({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Aa(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:G({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ci={isMounted:function(e){return(e=e._reactInternals)?Sr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=rt(),d=fr(e),f=Kt(a,d);f.payload=t,s!=null&&(f.callback=s),t=ur(e,f,d),t!==null&&(Ot(t,e,d,a),xi(t,e,d))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=rt(),d=fr(e),f=Kt(a,d);f.tag=1,f.payload=t,s!=null&&(f.callback=s),t=ur(e,f,d),t!==null&&(Ot(t,e,d,a),xi(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=rt(),a=fr(e),d=Kt(s,a);d.tag=2,t!=null&&(d.callback=t),t=ur(e,d,a),t!==null&&(Ot(t,e,a,s),xi(t,e,a))}};function ud(e,t,s,a,d,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,y):t.prototype&&t.prototype.isPureReactComponent?!Zn(s,a)||!Zn(d,f):!0}function cd(e,t,s){var a=!1,d=or,f=t.contextType;return typeof f=="object"&&f!==null?f=wt(f):(d=it(t)?Er:Qe.current,a=t.contextTypes,f=(a=a!=null)?sn(e,d):or),t=new t(s,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ci,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),t}function dd(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&Ci.enqueueReplaceState(t,t.state,null)}function Ia(e,t,s,a){var d=e.stateNode;d.props=s,d.state=e.memoizedState,d.refs={},xa(e);var f=t.contextType;typeof f=="object"&&f!==null?d.context=wt(f):(f=it(t)?Er:Qe.current,d.context=sn(e,f)),d.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Aa(e,t,f,s),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Ci.enqueueReplaceState(d,d.state,null),_i(e,s,d,a),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function fn(e,t){try{var s="",a=t;do s+=pe(a),a=a.return;while(a);var d=s}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:d,digest:null}}function La(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Da(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var qm=typeof WeakMap=="function"?WeakMap:Map;function hd(e,t,s){s=Kt(-1,s),s.tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){Li||(Li=!0,Ya=a),Da(e,t)},s}function fd(e,t,s){s=Kt(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var d=t.value;s.payload=function(){return a(d)},s.callback=function(){Da(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(s.callback=function(){Da(e,t),typeof a!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),s}function pd(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new qm;var d=new Set;a.set(t,d)}else d=a.get(t),d===void 0&&(d=new Set,a.set(t,d));d.has(s)||(d.add(s),e=sg.bind(null,e,t,s),t.then(e,e))}function md(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gd(e,t,s,a,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Kt(-1,1),t.tag=2,ur(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Vm=D.ReactCurrentOwner,ot=!1;function tt(e,t,s,a){t.child=e===null?Dc(t,null,s,a):un(t,e.child,s,a)}function yd(e,t,s,a,d){s=s.render;var f=t.ref;return dn(t,d),a=Na(e,t,s,a,f,d),s=Ca(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Gt(e,t,d)):(Oe&&s&&ca(t),t.flags|=1,tt(e,t,a,d),t.child)}function vd(e,t,s,a,d){if(e===null){var f=s.type;return typeof f=="function"&&!sl(f)&&f.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=f,wd(e,t,f,a,d)):(e=Bi(s.type,null,a,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&d)===0){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:Zn,s(y,a)&&e.ref===t.ref)return Gt(e,t,d)}return t.flags|=1,e=mr(f,a),e.ref=t.ref,e.return=t,t.child=e}function wd(e,t,s,a,d){if(e!==null){var f=e.memoizedProps;if(Zn(f,a)&&e.ref===t.ref)if(ot=!1,t.pendingProps=a=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(ot=!0);else return t.lanes=e.lanes,Gt(e,t,d)}return $a(e,t,s,a,d)}function xd(e,t,s){var a=t.pendingProps,d=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(mn,pt),pt|=s;else{if((s&1073741824)===0)return e=f!==null?f.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(mn,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:s,Se(mn,pt),pt|=a}else f!==null?(a=f.baseLanes|s,t.memoizedState=null):a=s,Se(mn,pt),pt|=a;return tt(e,t,d,s),t.child}function _d(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function $a(e,t,s,a,d){var f=it(s)?Er:Qe.current;return f=sn(t,f),dn(t,d),s=Na(e,t,s,a,f,d),a=Ca(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Gt(e,t,d)):(Oe&&a&&ca(t),t.flags|=1,tt(e,t,s,d),t.child)}function bd(e,t,s,a,d){if(it(s)){var f=!0;hi(t)}else f=!1;if(dn(t,d),t.stateNode===null)Oi(e,t),cd(t,s,a),Ia(t,s,a,d),a=!0;else if(e===null){var y=t.stateNode,x=t.memoizedProps;y.props=x;var b=y.context,R=s.contextType;typeof R=="object"&&R!==null?R=wt(R):(R=it(s)?Er:Qe.current,R=sn(t,R));var F=s.getDerivedStateFromProps,z=typeof F=="function"||typeof y.getSnapshotBeforeUpdate=="function";z||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==a||b!==R)&&dd(t,y,a,R),lr=!1;var U=t.memoizedState;y.state=U,_i(t,a,y,d),b=t.memoizedState,x!==a||U!==b||st.current||lr?(typeof F=="function"&&(Aa(t,s,F,a),b=t.memoizedState),(x=lr||ud(t,s,x,a,U,b,R))?(z||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=b),y.props=a,y.state=b,y.context=R,a=x):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{y=t.stateNode,Uc(e,t),x=t.memoizedProps,R=t.type===t.elementType?x:Nt(t.type,x),y.props=R,z=t.pendingProps,U=y.context,b=s.contextType,typeof b=="object"&&b!==null?b=wt(b):(b=it(s)?Er:Qe.current,b=sn(t,b));var V=s.getDerivedStateFromProps;(F=typeof V=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==z||U!==b)&&dd(t,y,a,b),lr=!1,U=t.memoizedState,y.state=U,_i(t,a,y,d);var Q=t.memoizedState;x!==z||U!==Q||st.current||lr?(typeof V=="function"&&(Aa(t,s,V,a),Q=t.memoizedState),(R=lr||ud(t,s,R,a,U,Q,b)||!1)?(F||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(a,Q,b),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(a,Q,b)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Q),y.props=a,y.state=Q,y.context=b,a=R):(typeof y.componentDidUpdate!="function"||x===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),a=!1)}return Ua(e,t,s,a,f,d)}function Ua(e,t,s,a,d,f){_d(e,t);var y=(t.flags&128)!==0;if(!a&&!y)return d&&Nc(t,s,!1),Gt(e,t,f);a=t.stateNode,Vm.current=t;var x=y&&typeof s.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&y?(t.child=un(t,e.child,null,f),t.child=un(t,null,x,f)):tt(e,t,x,f),t.memoizedState=a.state,d&&Nc(t,s,!0),t.child}function kd(e){var t=e.stateNode;t.pendingContext?jc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jc(e,t.context,!1),_a(e,t.containerInfo)}function Sd(e,t,s,a,d){return ln(),pa(d),t.flags|=256,tt(e,t,s,a),t.child}var Ma={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function jd(e,t,s){var a=t.pendingProps,d=Te.current,f=!1,y=(t.flags&128)!==0,x;if((x=y)||(x=e!==null&&e.memoizedState===null?!1:(d&2)!==0),x?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),Se(Te,d&1),e===null)return fa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(y=a.children,e=a.fallback,f?(a=t.mode,f=t.child,y={mode:"hidden",children:y},(a&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=y):f=zi(y,a,0,null),e=Dr(e,a,s,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Fa(s),t.memoizedState=Ma,e):Ba(t,y));if(d=e.memoizedState,d!==null&&(x=d.dehydrated,x!==null))return Hm(e,t,y,a,x,d,s);if(f){f=a.fallback,y=t.mode,d=e.child,x=d.sibling;var b={mode:"hidden",children:a.children};return(y&1)===0&&t.child!==d?(a=t.child,a.childLanes=0,a.pendingProps=b,t.deletions=null):(a=mr(d,b),a.subtreeFlags=d.subtreeFlags&14680064),x!==null?f=mr(x,f):(f=Dr(f,y,s,null),f.flags|=2),f.return=t,a.return=t,a.sibling=f,t.child=a,a=f,f=t.child,y=e.child.memoizedState,y=y===null?Fa(s):{baseLanes:y.baseLanes|s,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=e.childLanes&~s,t.memoizedState=Ma,a}return f=e.child,e=f.sibling,a=mr(f,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=s),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function Ba(e,t){return t=zi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pi(e,t,s,a){return a!==null&&pa(a),un(t,e.child,null,s),e=Ba(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hm(e,t,s,a,d,f,y){if(s)return t.flags&256?(t.flags&=-257,a=La(Error(n(422))),Pi(e,t,y,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=a.fallback,d=t.mode,a=zi({mode:"visible",children:a.children},d,0,null),f=Dr(f,d,y,null),f.flags|=2,a.return=t,f.return=t,a.sibling=f,t.child=a,(t.mode&1)!==0&&un(t,e.child,null,y),t.child.memoizedState=Fa(y),t.memoizedState=Ma,f);if((t.mode&1)===0)return Pi(e,t,y,null);if(d.data==="$!"){if(a=d.nextSibling&&d.nextSibling.dataset,a)var x=a.dgst;return a=x,f=Error(n(419)),a=La(f,a,void 0),Pi(e,t,y,a)}if(x=(y&e.childLanes)!==0,ot||x){if(a=He,a!==null){switch(y&-y){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(a.suspendedLanes|y))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,Ht(e,d),Ot(a,e,d,-1))}return nl(),a=La(Error(n(421))),Pi(e,t,y,a)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=ig.bind(null,e),d._reactRetry=t,null):(e=f.treeContext,ft=sr(d.nextSibling),ht=t,Oe=!0,Et=null,e!==null&&(yt[vt++]=qt,yt[vt++]=Vt,yt[vt++]=Nr,qt=e.id,Vt=e.overflow,Nr=t),t=Ba(t,a.children),t.flags|=4096,t)}function Ed(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),va(e.return,t,s)}function za(e,t,s,a,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:d}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=s,f.tailMode=d)}function Nd(e,t,s){var a=t.pendingProps,d=a.revealOrder,f=a.tail;if(tt(e,t,a.children,s),a=Te.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ed(e,s,t);else if(e.tag===19)Ed(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Se(Te,a),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(s=t.child,d=null;s!==null;)e=s.alternate,e!==null&&bi(e)===null&&(d=s),s=s.sibling;s=d,s===null?(d=t.child,t.child=null):(d=s.sibling,s.sibling=null),za(t,!1,d,s,f);break;case"backwards":for(s=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&bi(e)===null){t.child=d;break}e=d.sibling,d.sibling=s,s=d,d=e}za(t,!0,s,null,f);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Rr|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,s=mr(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=mr(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Km(e,t,s){switch(t.tag){case 3:kd(t),ln();break;case 5:Bc(t);break;case 1:it(t.type)&&hi(t);break;case 4:_a(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,d=t.memoizedProps.value;Se(vi,a._currentValue),a._currentValue=d;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Se(Te,Te.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?jd(e,t,s):(Se(Te,Te.current&1),e=Gt(e,t,s),e!==null?e.sibling:null);Se(Te,Te.current&1);break;case 19:if(a=(s&t.childLanes)!==0,(e.flags&128)!==0){if(a)return Nd(e,t,s);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Se(Te,Te.current),a)break;return null;case 22:case 23:return t.lanes=0,xd(e,t,s)}return Gt(e,t,s)}var Cd,Wa,Pd,Od;Cd=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Wa=function(){},Pd=function(e,t,s,a){var d=e.memoizedProps;if(d!==a){e=t.stateNode,Or(Mt.current);var f=null;switch(s){case"input":d=vo(e,d),a=vo(e,a),f=[];break;case"select":d=G({},d,{value:void 0}),a=G({},a,{value:void 0}),f=[];break;case"textarea":d=_o(e,d),a=_o(e,a),f=[];break;default:typeof d.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=ui)}ko(s,a);var y;s=null;for(R in d)if(!a.hasOwnProperty(R)&&d.hasOwnProperty(R)&&d[R]!=null)if(R==="style"){var x=d[R];for(y in x)x.hasOwnProperty(y)&&(s||(s={}),s[y]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(l.hasOwnProperty(R)?f||(f=[]):(f=f||[]).push(R,null));for(R in a){var b=a[R];if(x=d!=null?d[R]:void 0,a.hasOwnProperty(R)&&b!==x&&(b!=null||x!=null))if(R==="style")if(x){for(y in x)!x.hasOwnProperty(y)||b&&b.hasOwnProperty(y)||(s||(s={}),s[y]="");for(y in b)b.hasOwnProperty(y)&&x[y]!==b[y]&&(s||(s={}),s[y]=b[y])}else s||(f||(f=[]),f.push(R,s)),s=b;else R==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,x=x?x.__html:void 0,b!=null&&x!==b&&(f=f||[]).push(R,b)):R==="children"?typeof b!="string"&&typeof b!="number"||(f=f||[]).push(R,""+b):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(l.hasOwnProperty(R)?(b!=null&&R==="onScroll"&&Ne("scroll",e),f||x===b||(f=[])):(f=f||[]).push(R,b))}s&&(f=f||[]).push("style",s);var R=f;(t.updateQueue=R)&&(t.flags|=4)}},Od=function(e,t,s,a){s!==a&&(t.flags|=4)};function ps(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var d=e.child;d!==null;)s|=d.lanes|d.childLanes,a|=d.subtreeFlags&14680064,a|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)s|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function Gm(e,t,s){var a=t.pendingProps;switch(da(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return it(t.type)&&di(),Xe(t),null;case 3:return a=t.stateNode,hn(),Ce(st),Ce(Qe),Sa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(gi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Et!==null&&(el(Et),Et=null))),Wa(e,t),Xe(t),null;case 5:ba(t);var d=Or(us.current);if(s=t.type,e!==null&&t.stateNode!=null)Pd(e,t,s,a,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(n(166));return Xe(t),null}if(e=Or(Mt.current),gi(t)){a=t.stateNode,s=t.type;var f=t.memoizedProps;switch(a[Ut]=t,a[ss]=f,e=(t.mode&1)!==0,s){case"dialog":Ne("cancel",a),Ne("close",a);break;case"iframe":case"object":case"embed":Ne("load",a);break;case"video":case"audio":for(d=0;d<ts.length;d++)Ne(ts[d],a);break;case"source":Ne("error",a);break;case"img":case"image":case"link":Ne("error",a),Ne("load",a);break;case"details":Ne("toggle",a);break;case"input":cu(a,f),Ne("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Ne("invalid",a);break;case"textarea":fu(a,f),Ne("invalid",a)}ko(s,f),d=null;for(var y in f)if(f.hasOwnProperty(y)){var x=f[y];y==="children"?typeof x=="string"?a.textContent!==x&&(f.suppressHydrationWarning!==!0&&li(a.textContent,x,e),d=["children",x]):typeof x=="number"&&a.textContent!==""+x&&(f.suppressHydrationWarning!==!0&&li(a.textContent,x,e),d=["children",""+x]):l.hasOwnProperty(y)&&x!=null&&y==="onScroll"&&Ne("scroll",a)}switch(s){case"input":Ms(a),hu(a,f,!0);break;case"textarea":Ms(a),mu(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=ui)}a=d,t.updateQueue=a,a!==null&&(t.flags|=4)}else{y=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gu(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=y.createElement(s,{is:a.is}):(e=y.createElement(s),s==="select"&&(y=e,a.multiple?y.multiple=!0:a.size&&(y.size=a.size))):e=y.createElementNS(e,s),e[Ut]=t,e[ss]=a,Cd(e,t,!1,!1),t.stateNode=e;e:{switch(y=So(s,a),s){case"dialog":Ne("cancel",e),Ne("close",e),d=a;break;case"iframe":case"object":case"embed":Ne("load",e),d=a;break;case"video":case"audio":for(d=0;d<ts.length;d++)Ne(ts[d],e);d=a;break;case"source":Ne("error",e),d=a;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),d=a;break;case"details":Ne("toggle",e),d=a;break;case"input":cu(e,a),d=vo(e,a),Ne("invalid",e);break;case"option":d=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},d=G({},a,{value:void 0}),Ne("invalid",e);break;case"textarea":fu(e,a),d=_o(e,a),Ne("invalid",e);break;default:d=a}ko(s,d),x=d;for(f in x)if(x.hasOwnProperty(f)){var b=x[f];f==="style"?wu(e,b):f==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&yu(e,b)):f==="children"?typeof b=="string"?(s!=="textarea"||b!=="")&&Dn(e,b):typeof b=="number"&&Dn(e,""+b):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?b!=null&&f==="onScroll"&&Ne("scroll",e):b!=null&&E(e,f,b,y))}switch(s){case"input":Ms(e),hu(e,a,!1);break;case"textarea":Ms(e),mu(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ye(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?Hr(e,!!a.multiple,f,!1):a.defaultValue!=null&&Hr(e,!!a.multiple,a.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=ui)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)Od(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(n(166));if(s=Or(us.current),Or(Mt.current),gi(t)){if(a=t.stateNode,s=t.memoizedProps,a[Ut]=t,(f=a.nodeValue!==s)&&(e=ht,e!==null))switch(e.tag){case 3:li(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&li(a.nodeValue,s,(e.mode&1)!==0)}f&&(t.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Ut]=t,t.stateNode=a}return Xe(t),null;case 13:if(Ce(Te),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&ft!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Ac(),ln(),t.flags|=98560,f=!1;else if(f=gi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(n(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[Ut]=t}else ln(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),f=!1}else Et!==null&&(el(Et),Et=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Te.current&1)!==0?ze===0&&(ze=3):nl())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return hn(),Wa(e,t),e===null&&rs(t.stateNode.containerInfo),Xe(t),null;case 10:return ya(t.type._context),Xe(t),null;case 17:return it(t.type)&&di(),Xe(t),null;case 19:if(Ce(Te),f=t.memoizedState,f===null)return Xe(t),null;if(a=(t.flags&128)!==0,y=f.rendering,y===null)if(a)ps(f,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(y=bi(e),y!==null){for(t.flags|=128,ps(f,!1),a=y.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;s!==null;)f=s,e=a,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,e=y.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Se(Te,Te.current&1|2),t.child}e=e.sibling}f.tail!==null&&Le()>gn&&(t.flags|=128,a=!0,ps(f,!1),t.lanes=4194304)}else{if(!a)if(e=bi(y),e!==null){if(t.flags|=128,a=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),ps(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Oe)return Xe(t),null}else 2*Le()-f.renderingStartTime>gn&&s!==1073741824&&(t.flags|=128,a=!0,ps(f,!1),t.lanes=4194304);f.isBackwards?(y.sibling=t.child,t.child=y):(s=f.last,s!==null?s.sibling=y:t.child=y,f.last=y)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Le(),t.sibling=null,s=Te.current,Se(Te,a?s&1|2:s&1),t):(Xe(t),null);case 22:case 23:return rl(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(pt&1073741824)!==0&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Jm(e,t){switch(da(t),t.tag){case 1:return it(t.type)&&di(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hn(),Ce(st),Ce(Qe),Sa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ba(t),null;case 13:if(Ce(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));ln()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Te),null;case 4:return hn(),null;case 10:return ya(t.type._context),null;case 22:case 23:return rl(),null;case 24:return null;default:return null}}var Ti=!1,Ze=!1,Qm=typeof WeakSet=="function"?WeakSet:Set,H=null;function pn(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){Ie(e,t,a)}else s.current=null}function qa(e,t,s){try{s()}catch(a){Ie(e,t,a)}}var Td=!1;function Ym(e,t){if(ra=Ys,e=uc(),Go(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var d=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var y=0,x=-1,b=-1,R=0,F=0,z=e,U=null;t:for(;;){for(var V;z!==s||d!==0&&z.nodeType!==3||(x=y+d),z!==f||a!==0&&z.nodeType!==3||(b=y+a),z.nodeType===3&&(y+=z.nodeValue.length),(V=z.firstChild)!==null;)U=z,z=V;for(;;){if(z===e)break t;if(U===s&&++R===d&&(x=y),U===f&&++F===a&&(b=y),(V=z.nextSibling)!==null)break;z=U,U=z.parentNode}z=V}s=x===-1||b===-1?null:{start:x,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(na={focusedElem:e,selectionRange:s},Ys=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var Q=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var Y=Q.memoizedProps,De=Q.memoizedState,O=t.stateNode,j=O.getSnapshotBeforeUpdate(t.elementType===t.type?Y:Nt(t.type,Y),De);O.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(W){Ie(t,t.return,W)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return Q=Td,Td=!1,Q}function ms(e,t,s){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&qa(t,s,f)}d=d.next}while(d!==a)}}function Ri(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function Va(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Rd(e){var t=e.alternate;t!==null&&(e.alternate=null,Rd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ut],delete t[ss],delete t[aa],delete t[Am],delete t[Im])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ad(e){return e.tag===5||e.tag===3||e.tag===4}function Id(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ad(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ha(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=ui));else if(a!==4&&(e=e.child,e!==null))for(Ha(e,t,s),e=e.sibling;e!==null;)Ha(e,t,s),e=e.sibling}function Ka(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Ka(e,t,s),e=e.sibling;e!==null;)Ka(e,t,s),e=e.sibling}var Ge=null,Ct=!1;function cr(e,t,s){for(s=s.child;s!==null;)Ld(e,t,s),s=s.sibling}function Ld(e,t,s){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Vs,s)}catch{}switch(s.tag){case 5:Ze||pn(s,t);case 6:var a=Ge,d=Ct;Ge=null,cr(e,t,s),Ge=a,Ct=d,Ge!==null&&(Ct?(e=Ge,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ge.removeChild(s.stateNode));break;case 18:Ge!==null&&(Ct?(e=Ge,s=s.stateNode,e.nodeType===8?oa(e.parentNode,s):e.nodeType===1&&oa(e,s),Kn(e)):oa(Ge,s.stateNode));break;case 4:a=Ge,d=Ct,Ge=s.stateNode.containerInfo,Ct=!0,cr(e,t,s),Ge=a,Ct=d;break;case 0:case 11:case 14:case 15:if(!Ze&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){d=a=a.next;do{var f=d,y=f.destroy;f=f.tag,y!==void 0&&((f&2)!==0||(f&4)!==0)&&qa(s,t,y),d=d.next}while(d!==a)}cr(e,t,s);break;case 1:if(!Ze&&(pn(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(x){Ie(s,t,x)}cr(e,t,s);break;case 21:cr(e,t,s);break;case 22:s.mode&1?(Ze=(a=Ze)||s.memoizedState!==null,cr(e,t,s),Ze=a):cr(e,t,s);break;default:cr(e,t,s)}}function Dd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Qm),t.forEach(function(a){var d=og.bind(null,e,a);s.has(a)||(s.add(a),a.then(d,d))})}}function Pt(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var d=s[a];try{var f=e,y=t,x=y;e:for(;x!==null;){switch(x.tag){case 5:Ge=x.stateNode,Ct=!1;break e;case 3:Ge=x.stateNode.containerInfo,Ct=!0;break e;case 4:Ge=x.stateNode.containerInfo,Ct=!0;break e}x=x.return}if(Ge===null)throw Error(n(160));Ld(f,y,d),Ge=null,Ct=!1;var b=d.alternate;b!==null&&(b.return=null),d.return=null}catch(R){Ie(d,t,R)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$d(t,e),t=t.sibling}function $d(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(t,e),Bt(e),a&4){try{ms(3,e,e.return),Ri(3,e)}catch(Y){Ie(e,e.return,Y)}try{ms(5,e,e.return)}catch(Y){Ie(e,e.return,Y)}}break;case 1:Pt(t,e),Bt(e),a&512&&s!==null&&pn(s,s.return);break;case 5:if(Pt(t,e),Bt(e),a&512&&s!==null&&pn(s,s.return),e.flags&32){var d=e.stateNode;try{Dn(d,"")}catch(Y){Ie(e,e.return,Y)}}if(a&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,y=s!==null?s.memoizedProps:f,x=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{x==="input"&&f.type==="radio"&&f.name!=null&&du(d,f),So(x,y);var R=So(x,f);for(y=0;y<b.length;y+=2){var F=b[y],z=b[y+1];F==="style"?wu(d,z):F==="dangerouslySetInnerHTML"?yu(d,z):F==="children"?Dn(d,z):E(d,F,z,R)}switch(x){case"input":wo(d,f);break;case"textarea":pu(d,f);break;case"select":var U=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var V=f.value;V!=null?Hr(d,!!f.multiple,V,!1):U!==!!f.multiple&&(f.defaultValue!=null?Hr(d,!!f.multiple,f.defaultValue,!0):Hr(d,!!f.multiple,f.multiple?[]:"",!1))}d[ss]=f}catch(Y){Ie(e,e.return,Y)}}break;case 6:if(Pt(t,e),Bt(e),a&4){if(e.stateNode===null)throw Error(n(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(Y){Ie(e,e.return,Y)}}break;case 3:if(Pt(t,e),Bt(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Kn(t.containerInfo)}catch(Y){Ie(e,e.return,Y)}break;case 4:Pt(t,e),Bt(e);break;case 13:Pt(t,e),Bt(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Qa=Le())),a&4&&Dd(e);break;case 22:if(F=s!==null&&s.memoizedState!==null,e.mode&1?(Ze=(R=Ze)||F,Pt(t,e),Ze=R):Pt(t,e),Bt(e),a&8192){if(R=e.memoizedState!==null,(e.stateNode.isHidden=R)&&!F&&(e.mode&1)!==0)for(H=e,F=e.child;F!==null;){for(z=H=F;H!==null;){switch(U=H,V=U.child,U.tag){case 0:case 11:case 14:case 15:ms(4,U,U.return);break;case 1:pn(U,U.return);var Q=U.stateNode;if(typeof Q.componentWillUnmount=="function"){a=U,s=U.return;try{t=a,Q.props=t.memoizedProps,Q.state=t.memoizedState,Q.componentWillUnmount()}catch(Y){Ie(a,s,Y)}}break;case 5:pn(U,U.return);break;case 22:if(U.memoizedState!==null){Fd(z);continue}}V!==null?(V.return=U,H=V):Fd(z)}F=F.sibling}e:for(F=null,z=e;;){if(z.tag===5){if(F===null){F=z;try{d=z.stateNode,R?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(x=z.stateNode,b=z.memoizedProps.style,y=b!=null&&b.hasOwnProperty("display")?b.display:null,x.style.display=vu("display",y))}catch(Y){Ie(e,e.return,Y)}}}else if(z.tag===6){if(F===null)try{z.stateNode.nodeValue=R?"":z.memoizedProps}catch(Y){Ie(e,e.return,Y)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===e)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===e)break e;for(;z.sibling===null;){if(z.return===null||z.return===e)break e;F===z&&(F=null),z=z.return}F===z&&(F=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:Pt(t,e),Bt(e),a&4&&Dd(e);break;case 21:break;default:Pt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Ad(s)){var a=s;break e}s=s.return}throw Error(n(160))}switch(a.tag){case 5:var d=a.stateNode;a.flags&32&&(Dn(d,""),a.flags&=-33);var f=Id(e);Ka(e,f,d);break;case 3:case 4:var y=a.stateNode.containerInfo,x=Id(e);Ha(e,x,y);break;default:throw Error(n(161))}}catch(b){Ie(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xm(e,t,s){H=e,Ud(e)}function Ud(e,t,s){for(var a=(e.mode&1)!==0;H!==null;){var d=H,f=d.child;if(d.tag===22&&a){var y=d.memoizedState!==null||Ti;if(!y){var x=d.alternate,b=x!==null&&x.memoizedState!==null||Ze;x=Ti;var R=Ze;if(Ti=y,(Ze=b)&&!R)for(H=d;H!==null;)y=H,b=y.child,y.tag===22&&y.memoizedState!==null?Bd(d):b!==null?(b.return=y,H=b):Bd(d);for(;f!==null;)H=f,Ud(f),f=f.sibling;H=d,Ti=x,Ze=R}Md(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,H=f):Md(e)}}function Md(e){for(;H!==null;){var t=H;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ze||Ri(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Ze)if(s===null)a.componentDidMount();else{var d=t.elementType===t.type?s.memoizedProps:Nt(t.type,s.memoizedProps);a.componentDidUpdate(d,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&Fc(t,f,a);break;case 3:var y=t.updateQueue;if(y!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Fc(t,y,s)}break;case 5:var x=t.stateNode;if(s===null&&t.flags&4){s=x;var b=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&s.focus();break;case"img":b.src&&(s.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var R=t.alternate;if(R!==null){var F=R.memoizedState;if(F!==null){var z=F.dehydrated;z!==null&&Kn(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ze||t.flags&512&&Va(t)}catch(U){Ie(t,t.return,U)}}if(t===e){H=null;break}if(s=t.sibling,s!==null){s.return=t.return,H=s;break}H=t.return}}function Fd(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var s=t.sibling;if(s!==null){s.return=t.return,H=s;break}H=t.return}}function Bd(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Ri(4,t)}catch(b){Ie(t,s,b)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var d=t.return;try{a.componentDidMount()}catch(b){Ie(t,d,b)}}var f=t.return;try{Va(t)}catch(b){Ie(t,f,b)}break;case 5:var y=t.return;try{Va(t)}catch(b){Ie(t,y,b)}}}catch(b){Ie(t,t.return,b)}if(t===e){H=null;break}var x=t.sibling;if(x!==null){x.return=t.return,H=x;break}H=t.return}}var Zm=Math.ceil,Ai=D.ReactCurrentDispatcher,Ga=D.ReactCurrentOwner,_t=D.ReactCurrentBatchConfig,fe=0,He=null,Me=null,Je=0,pt=0,mn=ir(0),ze=0,gs=null,Rr=0,Ii=0,Ja=0,ys=null,at=null,Qa=0,gn=1/0,Jt=null,Li=!1,Ya=null,dr=null,Di=!1,hr=null,$i=0,vs=0,Xa=null,Ui=-1,Mi=0;function rt(){return(fe&6)!==0?Le():Ui!==-1?Ui:Ui=Le()}function fr(e){return(e.mode&1)===0?1:(fe&2)!==0&&Je!==0?Je&-Je:Dm.transition!==null?(Mi===0&&(Mi=Iu()),Mi):(e=ve,e!==0||(e=window.event,e=e===void 0?16:Wu(e.type)),e)}function Ot(e,t,s,a){if(50<vs)throw vs=0,Xa=null,Error(n(185));zn(e,s,a),((fe&2)===0||e!==He)&&(e===He&&((fe&2)===0&&(Ii|=s),ze===4&&pr(e,Je)),lt(e,a),s===1&&fe===0&&(t.mode&1)===0&&(gn=Le()+500,fi&&ar()))}function lt(e,t){var s=e.callbackNode;Dp(e,t);var a=Gs(e,e===He?Je:0);if(a===0)s!==null&&Tu(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(s!=null&&Tu(s),t===1)e.tag===0?Lm(Wd.bind(null,e)):Cc(Wd.bind(null,e)),Tm(function(){(fe&6)===0&&ar()}),s=null;else{switch(Lu(a)){case 1:s=To;break;case 4:s=Ru;break;case 16:s=qs;break;case 536870912:s=Au;break;default:s=qs}s=Yd(s,zd.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function zd(e,t){if(Ui=-1,Mi=0,(fe&6)!==0)throw Error(n(327));var s=e.callbackNode;if(yn()&&e.callbackNode!==s)return null;var a=Gs(e,e===He?Je:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Fi(e,a);else{t=a;var d=fe;fe|=2;var f=Vd();(He!==e||Je!==t)&&(Jt=null,gn=Le()+500,Ir(e,t));do try{rg();break}catch(x){qd(e,x)}while(!0);ga(),Ai.current=f,fe=d,Me!==null?t=0:(He=null,Je=0,t=ze)}if(t!==0){if(t===2&&(d=Ro(e),d!==0&&(a=d,t=Za(e,d))),t===1)throw s=gs,Ir(e,0),pr(e,a),lt(e,Le()),s;if(t===6)pr(e,a);else{if(d=e.current.alternate,(a&30)===0&&!eg(d)&&(t=Fi(e,a),t===2&&(f=Ro(e),f!==0&&(a=f,t=Za(e,f))),t===1))throw s=gs,Ir(e,0),pr(e,a),lt(e,Le()),s;switch(e.finishedWork=d,e.finishedLanes=a,t){case 0:case 1:throw Error(n(345));case 2:Lr(e,at,Jt);break;case 3:if(pr(e,a),(a&130023424)===a&&(t=Qa+500-Le(),10<t)){if(Gs(e,0)!==0)break;if(d=e.suspendedLanes,(d&a)!==a){rt(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=ia(Lr.bind(null,e,at,Jt),t);break}Lr(e,at,Jt);break;case 4:if(pr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,d=-1;0<a;){var y=31-St(a);f=1<<y,y=t[y],y>d&&(d=y),a&=~f}if(a=d,a=Le()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Zm(a/1960))-a,10<a){e.timeoutHandle=ia(Lr.bind(null,e,at,Jt),a);break}Lr(e,at,Jt);break;case 5:Lr(e,at,Jt);break;default:throw Error(n(329))}}}return lt(e,Le()),e.callbackNode===s?zd.bind(null,e):null}function Za(e,t){var s=ys;return e.current.memoizedState.isDehydrated&&(Ir(e,t).flags|=256),e=Fi(e,t),e!==2&&(t=at,at=s,t!==null&&el(t)),e}function el(e){at===null?at=e:at.push.apply(at,e)}function eg(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var d=s[a],f=d.getSnapshot;d=d.value;try{if(!jt(f(),d))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pr(e,t){for(t&=~Ja,t&=~Ii,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-St(t),a=1<<s;e[s]=-1,t&=~a}}function Wd(e){if((fe&6)!==0)throw Error(n(327));yn();var t=Gs(e,0);if((t&1)===0)return lt(e,Le()),null;var s=Fi(e,t);if(e.tag!==0&&s===2){var a=Ro(e);a!==0&&(t=a,s=Za(e,a))}if(s===1)throw s=gs,Ir(e,0),pr(e,t),lt(e,Le()),s;if(s===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lr(e,at,Jt),lt(e,Le()),null}function tl(e,t){var s=fe;fe|=1;try{return e(t)}finally{fe=s,fe===0&&(gn=Le()+500,fi&&ar())}}function Ar(e){hr!==null&&hr.tag===0&&(fe&6)===0&&yn();var t=fe;fe|=1;var s=_t.transition,a=ve;try{if(_t.transition=null,ve=1,e)return e()}finally{ve=a,_t.transition=s,fe=t,(fe&6)===0&&ar()}}function rl(){pt=mn.current,Ce(mn)}function Ir(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Om(s)),Me!==null)for(s=Me.return;s!==null;){var a=s;switch(da(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&di();break;case 3:hn(),Ce(st),Ce(Qe),Sa();break;case 5:ba(a);break;case 4:hn();break;case 13:Ce(Te);break;case 19:Ce(Te);break;case 10:ya(a.type._context);break;case 22:case 23:rl()}s=s.return}if(He=e,Me=e=mr(e.current,null),Je=pt=t,ze=0,gs=null,Ja=Ii=Rr=0,at=ys=null,Pr!==null){for(t=0;t<Pr.length;t++)if(s=Pr[t],a=s.interleaved,a!==null){s.interleaved=null;var d=a.next,f=s.pending;if(f!==null){var y=f.next;f.next=d,a.next=y}s.pending=a}Pr=null}return e}function qd(e,t){do{var s=Me;try{if(ga(),ki.current=Ni,Si){for(var a=Re.memoizedState;a!==null;){var d=a.queue;d!==null&&(d.pending=null),a=a.next}Si=!1}if(Tr=0,Ve=Be=Re=null,cs=!1,ds=0,Ga.current=null,s===null||s.return===null){ze=1,gs=t,Me=null;break}e:{var f=e,y=s.return,x=s,b=t;if(t=Je,x.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var R=b,F=x,z=F.tag;if((F.mode&1)===0&&(z===0||z===11||z===15)){var U=F.alternate;U?(F.updateQueue=U.updateQueue,F.memoizedState=U.memoizedState,F.lanes=U.lanes):(F.updateQueue=null,F.memoizedState=null)}var V=md(y);if(V!==null){V.flags&=-257,gd(V,y,x,f,t),V.mode&1&&pd(f,R,t),t=V,b=R;var Q=t.updateQueue;if(Q===null){var Y=new Set;Y.add(b),t.updateQueue=Y}else Q.add(b);break e}else{if((t&1)===0){pd(f,R,t),nl();break e}b=Error(n(426))}}else if(Oe&&x.mode&1){var De=md(y);if(De!==null){(De.flags&65536)===0&&(De.flags|=256),gd(De,y,x,f,t),pa(fn(b,x));break e}}f=b=fn(b,x),ze!==4&&(ze=2),ys===null?ys=[f]:ys.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var O=hd(f,b,t);Mc(f,O);break e;case 1:x=b;var j=f.type,T=f.stateNode;if((f.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(dr===null||!dr.has(T)))){f.flags|=65536,t&=-t,f.lanes|=t;var W=fd(f,x,t);Mc(f,W);break e}}f=f.return}while(f!==null)}Kd(s)}catch(Z){t=Z,Me===s&&s!==null&&(Me=s=s.return);continue}break}while(!0)}function Vd(){var e=Ai.current;return Ai.current=Ni,e===null?Ni:e}function nl(){(ze===0||ze===3||ze===2)&&(ze=4),He===null||(Rr&268435455)===0&&(Ii&268435455)===0||pr(He,Je)}function Fi(e,t){var s=fe;fe|=2;var a=Vd();(He!==e||Je!==t)&&(Jt=null,Ir(e,t));do try{tg();break}catch(d){qd(e,d)}while(!0);if(ga(),fe=s,Ai.current=a,Me!==null)throw Error(n(261));return He=null,Je=0,ze}function tg(){for(;Me!==null;)Hd(Me)}function rg(){for(;Me!==null&&!Np();)Hd(Me)}function Hd(e){var t=Qd(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?Kd(e):Me=t,Ga.current=null}function Kd(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=Gm(s,t,pt),s!==null){Me=s;return}}else{if(s=Jm(s,t),s!==null){s.flags&=32767,Me=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Me=null;return}}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);ze===0&&(ze=5)}function Lr(e,t,s){var a=ve,d=_t.transition;try{_t.transition=null,ve=1,ng(e,t,s,a)}finally{_t.transition=d,ve=a}return null}function ng(e,t,s,a){do yn();while(hr!==null);if((fe&6)!==0)throw Error(n(327));s=e.finishedWork;var d=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var f=s.lanes|s.childLanes;if($p(e,f),e===He&&(Me=He=null,Je=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||Di||(Di=!0,Yd(qs,function(){return yn(),null})),f=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||f){f=_t.transition,_t.transition=null;var y=ve;ve=1;var x=fe;fe|=4,Ga.current=null,Ym(e,s),$d(s,e),km(na),Ys=!!ra,na=ra=null,e.current=s,Xm(s),Cp(),fe=x,ve=y,_t.transition=f}else e.current=s;if(Di&&(Di=!1,hr=e,$i=d),f=e.pendingLanes,f===0&&(dr=null),Tp(s.stateNode),lt(e,Le()),t!==null)for(a=e.onRecoverableError,s=0;s<t.length;s++)d=t[s],a(d.value,{componentStack:d.stack,digest:d.digest});if(Li)throw Li=!1,e=Ya,Ya=null,e;return($i&1)!==0&&e.tag!==0&&yn(),f=e.pendingLanes,(f&1)!==0?e===Xa?vs++:(vs=0,Xa=e):vs=0,ar(),null}function yn(){if(hr!==null){var e=Lu($i),t=_t.transition,s=ve;try{if(_t.transition=null,ve=16>e?16:e,hr===null)var a=!1;else{if(e=hr,hr=null,$i=0,(fe&6)!==0)throw Error(n(331));var d=fe;for(fe|=4,H=e.current;H!==null;){var f=H,y=f.child;if((H.flags&16)!==0){var x=f.deletions;if(x!==null){for(var b=0;b<x.length;b++){var R=x[b];for(H=R;H!==null;){var F=H;switch(F.tag){case 0:case 11:case 15:ms(8,F,f)}var z=F.child;if(z!==null)z.return=F,H=z;else for(;H!==null;){F=H;var U=F.sibling,V=F.return;if(Rd(F),F===R){H=null;break}if(U!==null){U.return=V,H=U;break}H=V}}}var Q=f.alternate;if(Q!==null){var Y=Q.child;if(Y!==null){Q.child=null;do{var De=Y.sibling;Y.sibling=null,Y=De}while(Y!==null)}}H=f}}if((f.subtreeFlags&2064)!==0&&y!==null)y.return=f,H=y;else e:for(;H!==null;){if(f=H,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:ms(9,f,f.return)}var O=f.sibling;if(O!==null){O.return=f.return,H=O;break e}H=f.return}}var j=e.current;for(H=j;H!==null;){y=H;var T=y.child;if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,H=T;else e:for(y=j;H!==null;){if(x=H,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:Ri(9,x)}}catch(Z){Ie(x,x.return,Z)}if(x===y){H=null;break e}var W=x.sibling;if(W!==null){W.return=x.return,H=W;break e}H=x.return}}if(fe=d,ar(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Vs,e)}catch{}a=!0}return a}finally{ve=s,_t.transition=t}}return!1}function Gd(e,t,s){t=fn(s,t),t=hd(e,t,1),e=ur(e,t,1),t=rt(),e!==null&&(zn(e,1,t),lt(e,t))}function Ie(e,t,s){if(e.tag===3)Gd(e,e,s);else for(;t!==null;){if(t.tag===3){Gd(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(dr===null||!dr.has(a))){e=fn(s,e),e=fd(t,e,1),t=ur(t,e,1),e=rt(),t!==null&&(zn(t,1,e),lt(t,e));break}}t=t.return}}function sg(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&s,He===e&&(Je&s)===s&&(ze===4||ze===3&&(Je&130023424)===Je&&500>Le()-Qa?Ir(e,0):Ja|=s),lt(e,t)}function Jd(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ks,Ks<<=1,(Ks&130023424)===0&&(Ks=4194304)));var s=rt();e=Ht(e,t),e!==null&&(zn(e,t,s),lt(e,s))}function ig(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Jd(e,s)}function og(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,d=e.memoizedState;d!==null&&(s=d.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(n(314))}a!==null&&a.delete(t),Jd(e,s)}var Qd;Qd=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)ot=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return ot=!1,Km(e,t,s);ot=(e.flags&131072)!==0}else ot=!1,Oe&&(t.flags&1048576)!==0&&Pc(t,mi,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Oi(e,t),e=t.pendingProps;var d=sn(t,Qe.current);dn(t,s),d=Na(null,t,a,e,d,s);var f=Ca();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(a)?(f=!0,hi(t)):f=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,xa(t),d.updater=Ci,t.stateNode=d,d._reactInternals=t,Ia(t,a,e,s),t=Ua(null,t,a,!0,f,s)):(t.tag=0,Oe&&f&&ca(t),tt(null,t,d,s),t=t.child),t;case 16:a=t.elementType;e:{switch(Oi(e,t),e=t.pendingProps,d=a._init,a=d(a._payload),t.type=a,d=t.tag=lg(a),e=Nt(a,e),d){case 0:t=$a(null,t,a,e,s);break e;case 1:t=bd(null,t,a,e,s);break e;case 11:t=yd(null,t,a,e,s);break e;case 14:t=vd(null,t,a,Nt(a.type,e),s);break e}throw Error(n(306,a,""))}return t;case 0:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:Nt(a,d),$a(e,t,a,d,s);case 1:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:Nt(a,d),bd(e,t,a,d,s);case 3:e:{if(kd(t),e===null)throw Error(n(387));a=t.pendingProps,f=t.memoizedState,d=f.element,Uc(e,t),_i(t,a,null,s);var y=t.memoizedState;if(a=y.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){d=fn(Error(n(423)),t),t=Sd(e,t,a,s,d);break e}else if(a!==d){d=fn(Error(n(424)),t),t=Sd(e,t,a,s,d);break e}else for(ft=sr(t.stateNode.containerInfo.firstChild),ht=t,Oe=!0,Et=null,s=Dc(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ln(),a===d){t=Gt(e,t,s);break e}tt(e,t,a,s)}t=t.child}return t;case 5:return Bc(t),e===null&&fa(t),a=t.type,d=t.pendingProps,f=e!==null?e.memoizedProps:null,y=d.children,sa(a,d)?y=null:f!==null&&sa(a,f)&&(t.flags|=32),_d(e,t),tt(e,t,y,s),t.child;case 6:return e===null&&fa(t),null;case 13:return jd(e,t,s);case 4:return _a(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=un(t,null,a,s):tt(e,t,a,s),t.child;case 11:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:Nt(a,d),yd(e,t,a,d,s);case 7:return tt(e,t,t.pendingProps,s),t.child;case 8:return tt(e,t,t.pendingProps.children,s),t.child;case 12:return tt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,d=t.pendingProps,f=t.memoizedProps,y=d.value,Se(vi,a._currentValue),a._currentValue=y,f!==null)if(jt(f.value,y)){if(f.children===d.children&&!st.current){t=Gt(e,t,s);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var x=f.dependencies;if(x!==null){y=f.child;for(var b=x.firstContext;b!==null;){if(b.context===a){if(f.tag===1){b=Kt(-1,s&-s),b.tag=2;var R=f.updateQueue;if(R!==null){R=R.shared;var F=R.pending;F===null?b.next=b:(b.next=F.next,F.next=b),R.pending=b}}f.lanes|=s,b=f.alternate,b!==null&&(b.lanes|=s),va(f.return,s,t),x.lanes|=s;break}b=b.next}}else if(f.tag===10)y=f.type===t.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(n(341));y.lanes|=s,x=y.alternate,x!==null&&(x.lanes|=s),va(y,s,t),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===t){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}tt(e,t,d.children,s),t=t.child}return t;case 9:return d=t.type,a=t.pendingProps.children,dn(t,s),d=wt(d),a=a(d),t.flags|=1,tt(e,t,a,s),t.child;case 14:return a=t.type,d=Nt(a,t.pendingProps),d=Nt(a.type,d),vd(e,t,a,d,s);case 15:return wd(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:Nt(a,d),Oi(e,t),t.tag=1,it(a)?(e=!0,hi(t)):e=!1,dn(t,s),cd(t,a,d),Ia(t,a,d,s),Ua(null,t,a,!0,e,s);case 19:return Nd(e,t,s);case 22:return xd(e,t,s)}throw Error(n(156,t.tag))};function Yd(e,t){return Ou(e,t)}function ag(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,s,a){return new ag(e,t,s,a)}function sl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lg(e){if(typeof e=="function")return sl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$)return 11;if(e===he)return 14}return 2}function mr(e,t){var s=e.alternate;return s===null?(s=bt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Bi(e,t,s,a,d,f){var y=2;if(a=e,typeof e=="function")sl(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case ae:return Dr(s.children,d,f,t);case xe:y=8,d|=8;break;case Ee:return e=bt(12,s,t,d|2),e.elementType=Ee,e.lanes=f,e;case B:return e=bt(13,s,t,d),e.elementType=B,e.lanes=f,e;case oe:return e=bt(19,s,t,d),e.elementType=oe,e.lanes=f,e;case _e:return zi(s,d,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qe:y=10;break e;case kt:y=9;break e;case $:y=11;break e;case he:y=14;break e;case Ue:y=16,a=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=bt(y,s,t,d),t.elementType=e,t.type=a,t.lanes=f,t}function Dr(e,t,s,a){return e=bt(7,e,a,t),e.lanes=s,e}function zi(e,t,s,a){return e=bt(22,e,a,t),e.elementType=_e,e.lanes=s,e.stateNode={isHidden:!1},e}function il(e,t,s){return e=bt(6,e,null,t),e.lanes=s,e}function ol(e,t,s){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ug(e,t,s,a,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ao(0),this.expirationTimes=Ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ao(0),this.identifierPrefix=a,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function al(e,t,s,a,d,f,y,x,b){return e=new ug(e,t,s,x,b),t===1?(t=1,f===!0&&(t|=8)):t=0,f=bt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},xa(f),e}function cg(e,t,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:a==null?null:""+a,children:e,containerInfo:t,implementation:s}}function Xd(e){if(!e)return or;e=e._reactInternals;e:{if(Sr(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var s=e.type;if(it(s))return Ec(e,s,t)}return t}function Zd(e,t,s,a,d,f,y,x,b){return e=al(s,a,!0,e,d,f,y,x,b),e.context=Xd(null),s=e.current,a=rt(),d=fr(s),f=Kt(a,d),f.callback=t??null,ur(s,f,d),e.current.lanes=d,zn(e,d,a),lt(e,a),e}function Wi(e,t,s,a){var d=t.current,f=rt(),y=fr(d);return s=Xd(s),t.context===null?t.context=s:t.pendingContext=s,t=Kt(f,y),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=ur(d,t,y),e!==null&&(Ot(e,d,y,f),xi(e,d,y)),y}function qi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function ll(e,t){eh(e,t),(e=e.alternate)&&eh(e,t)}function dg(){return null}var th=typeof reportError=="function"?reportError:function(e){console.error(e)};function ul(e){this._internalRoot=e}Vi.prototype.render=ul.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));Wi(e,t,null,null)},Vi.prototype.unmount=ul.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ar(function(){Wi(null,e,null,null)}),t[zt]=null}};function Vi(e){this._internalRoot=e}Vi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uu();e={blockedOn:null,target:e,priority:t};for(var s=0;s<tr.length&&t!==0&&t<tr[s].priority;s++);tr.splice(s,0,e),s===0&&Bu(e)}};function cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rh(){}function hg(e,t,s,a,d){if(d){if(typeof a=="function"){var f=a;a=function(){var R=qi(y);f.call(R)}}var y=Zd(t,a,e,0,null,!1,!1,"",rh);return e._reactRootContainer=y,e[zt]=y.current,rs(e.nodeType===8?e.parentNode:e),Ar(),y}for(;d=e.lastChild;)e.removeChild(d);if(typeof a=="function"){var x=a;a=function(){var R=qi(b);x.call(R)}}var b=al(e,0,!1,null,null,!1,!1,"",rh);return e._reactRootContainer=b,e[zt]=b.current,rs(e.nodeType===8?e.parentNode:e),Ar(function(){Wi(t,b,s,a)}),b}function Ki(e,t,s,a,d){var f=s._reactRootContainer;if(f){var y=f;if(typeof d=="function"){var x=d;d=function(){var b=qi(y);x.call(b)}}Wi(t,y,e,d)}else y=hg(s,t,e,d,a);return qi(y)}Du=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Bn(t.pendingLanes);s!==0&&(Io(t,s|1),lt(t,Le()),(fe&6)===0&&(gn=Le()+500,ar()))}break;case 13:Ar(function(){var a=Ht(e,1);if(a!==null){var d=rt();Ot(a,e,1,d)}}),ll(e,1)}},Lo=function(e){if(e.tag===13){var t=Ht(e,134217728);if(t!==null){var s=rt();Ot(t,e,134217728,s)}ll(e,134217728)}},$u=function(e){if(e.tag===13){var t=fr(e),s=Ht(e,t);if(s!==null){var a=rt();Ot(s,e,t,a)}ll(e,t)}},Uu=function(){return ve},Mu=function(e,t){var s=ve;try{return ve=e,t()}finally{ve=s}},No=function(e,t,s){switch(t){case"input":if(wo(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var d=ci(a);if(!d)throw Error(n(90));uu(a),wo(a,d)}}}break;case"textarea":pu(e,s);break;case"select":t=s.value,t!=null&&Hr(e,!!s.multiple,t,!1)}},ku=tl,Su=Ar;var fg={usingClientEntryPoint:!1,Events:[is,rn,ci,_u,bu,tl]},ws={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pg={bundleType:ws.bundleType,version:ws.version,rendererPackageName:ws.rendererPackageName,rendererConfig:ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cu(e),e===null?null:e.stateNode},findFiberByHostInstance:ws.findFiberByHostInstance||dg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gi.isDisabled&&Gi.supportsFiber)try{Vs=Gi.inject(pg),$t=Gi}catch{}}return ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fg,ut.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cl(t))throw Error(n(200));return cg(e,t,null,s)},ut.createRoot=function(e,t){if(!cl(e))throw Error(n(299));var s=!1,a="",d=th;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=al(e,1,!1,null,null,s,!1,a,d),e[zt]=t.current,rs(e.nodeType===8?e.parentNode:e),new ul(t)},ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=Cu(t),e=e===null?null:e.stateNode,e},ut.flushSync=function(e){return Ar(e)},ut.hydrate=function(e,t,s){if(!Hi(t))throw Error(n(200));return Ki(null,e,t,!0,s)},ut.hydrateRoot=function(e,t,s){if(!cl(e))throw Error(n(405));var a=s!=null&&s.hydratedSources||null,d=!1,f="",y=th;if(s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),t=Zd(t,null,e,1,s??null,d,!1,f,y),e[zt]=t.current,rs(e),a)for(e=0;e<a.length;e++)s=a[e],d=s._getVersion,d=d(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,d]:t.mutableSourceEagerHydrationData.push(s,d);return new Vi(t)},ut.render=function(e,t,s){if(!Hi(t))throw Error(n(200));return Ki(null,e,t,!1,s)},ut.unmountComponentAtNode=function(e){if(!Hi(e))throw Error(n(40));return e._reactRootContainer?(Ar(function(){Ki(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1},ut.unstable_batchedUpdates=tl,ut.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!Hi(s))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return Ki(e,t,s,!1,a)},ut.version="18.3.1-next-f1338f8080-20240426",ut}var ch;function af(){if(ch)return fl.exports;ch=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),fl.exports=bg(),fl.exports}var dh;function kg(){if(dh)return Ji;dh=1;var i=af();return Ji.createRoot=i.createRoot,Ji.hydrateRoot=i.hydrateRoot,Ji}var Sg=kg();const jg=i=>i instanceof Error?i.message+`
`+i.stack:JSON.stringify(i,null,2);class Eg extends of.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}render(){return this.state.hasError?h.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[h.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),h.jsx("pre",{className:"mt-2 text-sm",children:jg(this.state.error)})]}):this.props.children}}af();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},Cs.apply(this,arguments)}var xr;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(xr||(xr={}));const hh="popstate";function Ng(i){i===void 0&&(i={});function r(o,l){let{pathname:u,search:c,hash:p}=o.location;return Cl("",{pathname:u,search:c,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){return typeof l=="string"?l:io(l)}return Pg(r,n,null,i)}function $e(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}function lf(i,r){if(!i){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Cg(){return Math.random().toString(36).substr(2,8)}function fh(i,r){return{usr:i.state,key:i.key,idx:r}}function Cl(i,r,n,o){return n===void 0&&(n=null),Cs({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof r=="string"?Pn(r):r,{state:n,key:r&&r.key||o||Cg()})}function io(i){let{pathname:r="/",search:n="",hash:o=""}=i;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function Pn(i){let r={};if(i){let n=i.indexOf("#");n>=0&&(r.hash=i.substr(n),i=i.substr(0,n));let o=i.indexOf("?");o>=0&&(r.search=i.substr(o),i=i.substr(0,o)),i&&(r.pathname=i)}return r}function Pg(i,r,n,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:u=!1}=o,c=l.history,p=xr.Pop,m=null,g=v();g==null&&(g=0,c.replaceState(Cs({},c.state,{idx:g}),""));function v(){return(c.state||{idx:null}).idx}function w(){p=xr.Pop;let C=v(),L=C==null?null:C-g;g=C,m&&m({action:p,location:N.location,delta:L})}function _(C,L){p=xr.Push;let A=Cl(N.location,C,L);g=v()+1;let E=fh(A,g),D=N.createHref(A);try{c.pushState(E,"",D)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;l.location.assign(D)}u&&m&&m({action:p,location:N.location,delta:1})}function S(C,L){p=xr.Replace;let A=Cl(N.location,C,L);g=v();let E=fh(A,g),D=N.createHref(A);c.replaceState(E,"",D),u&&m&&m({action:p,location:N.location,delta:0})}function k(C){let L=l.location.origin!=="null"?l.location.origin:l.location.href,A=typeof C=="string"?C:io(C);return A=A.replace(/ $/,"%20"),$e(L,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,L)}let N={get action(){return p},get location(){return i(l,c)},listen(C){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(hh,w),m=C,()=>{l.removeEventListener(hh,w),m=null}},createHref(C){return r(l,C)},createURL:k,encodeLocation(C){let L=k(C);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:_,replace:S,go(C){return c.go(C)}};return N}var ph;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(ph||(ph={}));function Og(i,r,n){return n===void 0&&(n="/"),Tg(i,r,n)}function Tg(i,r,n,o){let l=typeof r=="string"?Pn(r):r,u=Vl(l.pathname||"/",n);if(u==null)return null;let c=uf(i);Rg(c);let p=null;for(let m=0;p==null&&m<c.length;++m){let g=qg(u);p=Bg(c[m],g)}return p}function uf(i,r,n,o){r===void 0&&(r=[]),n===void 0&&(n=[]),o===void 0&&(o="");let l=(u,c,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};m.relativePath.startsWith("/")&&($e(m.relativePath.startsWith(o),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(o.length));let g=_r([o,m.relativePath]),v=n.concat(m);u.children&&u.children.length>0&&($e(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),uf(u.children,r,v,g)),!(u.path==null&&!u.index)&&r.push({path:g,score:Mg(g,u.index),routesMeta:v})};return i.forEach((u,c)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))l(u,c);else for(let m of cf(u.path))l(u,c,m)}),r}function cf(i){let r=i.split("/");if(r.length===0)return[];let[n,...o]=r,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let c=cf(o.join("/")),p=[];return p.push(...c.map(m=>m===""?u:[u,m].join("/"))),l&&p.push(...c),p.map(m=>i.startsWith("/")&&m===""?"/":m)}function Rg(i){i.sort((r,n)=>r.score!==n.score?n.score-r.score:Fg(r.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const Ag=/^:[\w-]+$/,Ig=3,Lg=2,Dg=1,$g=10,Ug=-2,mh=i=>i==="*";function Mg(i,r){let n=i.split("/"),o=n.length;return n.some(mh)&&(o+=Ug),r&&(o+=Lg),n.filter(l=>!mh(l)).reduce((l,u)=>l+(Ag.test(u)?Ig:u===""?Dg:$g),o)}function Fg(i,r){return i.length===r.length&&i.slice(0,-1).every((o,l)=>o===r[l])?i[i.length-1]-r[r.length-1]:0}function Bg(i,r,n){let{routesMeta:o}=i,l={},u="/",c=[];for(let p=0;p<o.length;++p){let m=o[p],g=p===o.length-1,v=u==="/"?r:r.slice(u.length)||"/",w=zg({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),_=m.route;if(!w)return null;Object.assign(l,w.params),c.push({params:l,pathname:_r([u,w.pathname]),pathnameBase:Gg(_r([u,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(u=_r([u,w.pathnameBase]))}return c}function zg(i,r){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,o]=Wg(i.path,i.caseSensitive,i.end),l=r.match(n);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:o.reduce((g,v,w)=>{let{paramName:_,isOptional:S}=v;if(_==="*"){let N=p[w]||"";c=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const k=p[w];return S&&!k?g[_]=void 0:g[_]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:i}}function Wg(i,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),lf(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let o=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,p,m)=>(o.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),o]}function qg(i){try{return i.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return lf(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),i}}function Vl(i,r){if(r==="/")return i;if(!i.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,o=i.charAt(n);return o&&o!=="/"?null:i.slice(n)||"/"}function Vg(i,r){r===void 0&&(r="/");let{pathname:n,search:o="",hash:l=""}=typeof i=="string"?Pn(i):i;return{pathname:n?n.startsWith("/")?n:Hg(n,r):r,search:Jg(o),hash:Qg(l)}}function Hg(i,r){let n=r.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function gl(i,r,n,o){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kg(i){return i.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function Hl(i,r){let n=Kg(i);return r?n.map((o,l)=>l===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function Kl(i,r,n,o){o===void 0&&(o=!1);let l;typeof i=="string"?l=Pn(i):(l=Cs({},i),$e(!l.pathname||!l.pathname.includes("?"),gl("?","pathname","search",l)),$e(!l.pathname||!l.pathname.includes("#"),gl("#","pathname","hash",l)),$e(!l.search||!l.search.includes("#"),gl("#","search","hash",l)));let u=i===""||l.pathname==="",c=u?"/":l.pathname,p;if(c==null)p=n;else{let w=r.length-1;if(!o&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),w-=1;l.pathname=_.join("/")}p=w>=0?r[w]:"/"}let m=Vg(l,p),g=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}const _r=i=>i.join("/").replace(/\/\/+/g,"/"),Gg=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Jg=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Qg=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Yg(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const df=["post","put","patch","delete"];new Set(df);const Xg=["get",...df];new Set(Xg);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ps(){return Ps=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},Ps.apply(this,arguments)}const Gl=I.createContext(null),Zg=I.createContext(null),br=I.createContext(null),fo=I.createContext(null),Yt=I.createContext({outlet:null,matches:[],isDataRoute:!1}),hf=I.createContext(null);function ey(i,r){let{relative:n}=r===void 0?{}:r;On()||$e(!1);let{basename:o,navigator:l}=I.useContext(br),{hash:u,pathname:c,search:p}=pf(i,{relative:n}),m=c;return o!=="/"&&(m=c==="/"?o:_r([o,c])),l.createHref({pathname:m,search:p,hash:u})}function On(){return I.useContext(fo)!=null}function Tn(){return On()||$e(!1),I.useContext(fo).location}function ff(i){I.useContext(br).static||I.useLayoutEffect(i)}function Jl(){let{isDataRoute:i}=I.useContext(Yt);return i?my():ty()}function ty(){On()||$e(!1);let i=I.useContext(Gl),{basename:r,future:n,navigator:o}=I.useContext(br),{matches:l}=I.useContext(Yt),{pathname:u}=Tn(),c=JSON.stringify(Hl(l,n.v7_relativeSplatPath)),p=I.useRef(!1);return ff(()=>{p.current=!0}),I.useCallback(function(g,v){if(v===void 0&&(v={}),!p.current)return;if(typeof g=="number"){o.go(g);return}let w=Kl(g,JSON.parse(c),u,v.relative==="path");i==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:_r([r,w.pathname])),(v.replace?o.replace:o.push)(w,v.state,v)},[r,o,c,u,i])}const ry=I.createContext(null);function ny(i){let r=I.useContext(Yt).outlet;return r&&I.createElement(ry.Provider,{value:i},r)}function pf(i,r){let{relative:n}=r===void 0?{}:r,{future:o}=I.useContext(br),{matches:l}=I.useContext(Yt),{pathname:u}=Tn(),c=JSON.stringify(Hl(l,o.v7_relativeSplatPath));return I.useMemo(()=>Kl(i,JSON.parse(c),u,n==="path"),[i,c,u,n])}function sy(i,r){return iy(i,r)}function iy(i,r,n,o){On()||$e(!1);let{navigator:l,static:u}=I.useContext(br),{matches:c}=I.useContext(Yt),p=c[c.length-1],m=p?p.params:{};p&&p.pathname;let g=p?p.pathnameBase:"/";p&&p.route;let v=Tn(),w;if(r){var _;let L=typeof r=="string"?Pn(r):r;g==="/"||(_=L.pathname)!=null&&_.startsWith(g)||$e(!1),w=L}else w=v;let S=w.pathname||"/",k=S;if(g!=="/"){let L=g.replace(/^\//,"").split("/");k="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let N=Og(i,{pathname:k}),C=cy(N&&N.map(L=>Object.assign({},L,{params:Object.assign({},m,L.params),pathname:_r([g,l.encodeLocation?l.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:_r([g,l.encodeLocation?l.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),c,n,o);return r&&C?I.createElement(fo.Provider,{value:{location:Ps({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:xr.Pop}},C):C}function oy(){let i=py(),r=Yg(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},r),n?I.createElement("pre",{style:l},n):null,null)}const ay=I.createElement(oy,null);class ly extends I.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?I.createElement(Yt.Provider,{value:this.props.routeContext},I.createElement(hf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uy(i){let{routeContext:r,match:n,children:o}=i,l=I.useContext(Gl);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(Yt.Provider,{value:r},o)}function cy(i,r,n,o){var l;if(r===void 0&&(r=[]),n===void 0&&(n=null),o===void 0&&(o=null),i==null){var u;if(!n)return null;if(n.errors)i=n.matches;else if((u=o)!=null&&u.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,p=(l=n)==null?void 0:l.errors;if(p!=null){let v=c.findIndex(w=>w.route.id&&(p==null?void 0:p[w.route.id])!==void 0);v>=0||$e(!1),c=c.slice(0,Math.min(c.length,v+1))}let m=!1,g=-1;if(n&&o&&o.v7_partialHydration)for(let v=0;v<c.length;v++){let w=c[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=v),w.route.id){let{loaderData:_,errors:S}=n,k=w.route.loader&&_[w.route.id]===void 0&&(!S||S[w.route.id]===void 0);if(w.route.lazy||k){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((v,w,_)=>{let S,k=!1,N=null,C=null;n&&(S=p&&w.route.id?p[w.route.id]:void 0,N=w.route.errorElement||ay,m&&(g<0&&_===0?(gy("route-fallback"),k=!0,C=null):g===_&&(k=!0,C=w.route.hydrateFallbackElement||null)));let L=r.concat(c.slice(0,_+1)),A=()=>{let E;return S?E=N:k?E=C:w.route.Component?E=I.createElement(w.route.Component,null):w.route.element?E=w.route.element:E=v,I.createElement(uy,{match:w,routeContext:{outlet:v,matches:L,isDataRoute:n!=null},children:E})};return n&&(w.route.ErrorBoundary||w.route.errorElement||_===0)?I.createElement(ly,{location:n.location,revalidation:n.revalidation,component:N,error:S,children:A(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):A()},null)}var mf=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(mf||{}),gf=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(gf||{});function dy(i){let r=I.useContext(Gl);return r||$e(!1),r}function hy(i){let r=I.useContext(Zg);return r||$e(!1),r}function fy(i){let r=I.useContext(Yt);return r||$e(!1),r}function yf(i){let r=fy(),n=r.matches[r.matches.length-1];return n.route.id||$e(!1),n.route.id}function py(){var i;let r=I.useContext(hf),n=hy(),o=yf();return r!==void 0?r:(i=n.errors)==null?void 0:i[o]}function my(){let{router:i}=dy(mf.UseNavigateStable),r=yf(gf.UseNavigateStable),n=I.useRef(!1);return ff(()=>{n.current=!0}),I.useCallback(function(l,u){u===void 0&&(u={}),n.current&&(typeof l=="number"?i.navigate(l):i.navigate(l,Ps({fromRouteId:r},u)))},[i,r])}const gh={};function gy(i,r,n){gh[i]||(gh[i]=!0)}function yy(i,r){i==null||i.v7_startTransition,i==null||i.v7_relativeSplatPath}function vy(i){let{to:r,replace:n,state:o,relative:l}=i;On()||$e(!1);let{future:u,static:c}=I.useContext(br),{matches:p}=I.useContext(Yt),{pathname:m}=Tn(),g=Jl(),v=Kl(r,Hl(p,u.v7_relativeSplatPath),m,l==="path"),w=JSON.stringify(v);return I.useEffect(()=>g(JSON.parse(w),{replace:n,state:o,relative:l}),[g,w,l,n,o]),null}function wy(i){return ny(i.context)}function Tt(i){$e(!1)}function xy(i){let{basename:r="/",children:n=null,location:o,navigationType:l=xr.Pop,navigator:u,static:c=!1,future:p}=i;On()&&$e(!1);let m=r.replace(/^\/*/,"/"),g=I.useMemo(()=>({basename:m,navigator:u,static:c,future:Ps({v7_relativeSplatPath:!1},p)}),[m,p,u,c]);typeof o=="string"&&(o=Pn(o));let{pathname:v="/",search:w="",hash:_="",state:S=null,key:k="default"}=o,N=I.useMemo(()=>{let C=Vl(v,m);return C==null?null:{location:{pathname:C,search:w,hash:_,state:S,key:k},navigationType:l}},[m,v,w,_,S,k,l]);return N==null?null:I.createElement(br.Provider,{value:g},I.createElement(fo.Provider,{children:n,value:N}))}function _y(i){let{children:r,location:n}=i;return sy(Pl(r),n)}new Promise(()=>{});function Pl(i,r){r===void 0&&(r=[]);let n=[];return I.Children.forEach(i,(o,l)=>{if(!I.isValidElement(o))return;let u=[...r,l];if(o.type===I.Fragment){n.push.apply(n,Pl(o.props.children,u));return}o.type!==Tt&&$e(!1),!o.props.index||!o.props.children||$e(!1);let c={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(c.children=Pl(o.props.children,u)),n.push(c)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},Ol.apply(this,arguments)}function by(i,r){if(i==null)return{};var n={},o=Object.keys(i),l,u;for(u=0;u<o.length;u++)l=o[u],!(r.indexOf(l)>=0)&&(n[l]=i[l]);return n}function ky(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Sy(i,r){return i.button===0&&(!r||r==="_self")&&!ky(i)}const jy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ey="6";try{window.__reactRouterVersion=Ey}catch{}const Ny="startTransition",yh=wg[Ny];function Cy(i){let{basename:r,children:n,future:o,window:l}=i,u=I.useRef();u.current==null&&(u.current=Ng({window:l,v5Compat:!0}));let c=u.current,[p,m]=I.useState({action:c.action,location:c.location}),{v7_startTransition:g}=o||{},v=I.useCallback(w=>{g&&yh?yh(()=>m(w)):m(w)},[m,g]);return I.useLayoutEffect(()=>c.listen(v),[c,v]),I.useEffect(()=>yy(o),[o]),I.createElement(xy,{basename:r,children:n,location:p.location,navigationType:p.action,navigator:c,future:o})}const Py=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Oy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ql=I.forwardRef(function(r,n){let{onClick:o,relative:l,reloadDocument:u,replace:c,state:p,target:m,to:g,preventScrollReset:v,viewTransition:w}=r,_=by(r,jy),{basename:S}=I.useContext(br),k,N=!1;if(typeof g=="string"&&Oy.test(g)&&(k=g,Py))try{let E=new URL(window.location.href),D=g.startsWith("//")?new URL(E.protocol+g):new URL(g),K=Vl(D.pathname,S);D.origin===E.origin&&K!=null?g=K+D.search+D.hash:N=!0}catch{}let C=ey(g,{relative:l}),L=Ty(g,{replace:c,state:p,target:m,preventScrollReset:v,relative:l,viewTransition:w});function A(E){o&&o(E),E.defaultPrevented||L(E)}return I.createElement("a",Ol({},_,{href:k||C,onClick:N||u?o:A,ref:n,target:m}))});var vh;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(vh||(vh={}));var wh;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(wh||(wh={}));function Ty(i,r){let{target:n,replace:o,state:l,preventScrollReset:u,relative:c,viewTransition:p}=r===void 0?{}:r,m=Jl(),g=Tn(),v=pf(i,{relative:c});return I.useCallback(w=>{if(Sy(w,n)){w.preventDefault();let _=o!==void 0?o:io(g)===io(v);m(i,{replace:_,state:l,preventScrollReset:u,relative:c,viewTransition:p})}},[g,m,v,o,l,n,i,u,c,p])}var Tl=function(i,r){return Tl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l])},Tl(i,r)};function vf(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Tl(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var oo=function(){return oo=Object.assign||function(r){for(var n,o=1,l=arguments.length;o<l;o++){n=arguments[o];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(r[u]=n[u])}return r},oo.apply(this,arguments)};function Rn(i,r){var n={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&r.indexOf(o)<0&&(n[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(i);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(i,o[l])&&(n[o[l]]=i[o[l]]);return n}function wf(i,r,n,o){var l=arguments.length,u=l<3?r:o===null?o=Object.getOwnPropertyDescriptor(r,n):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(i,r,n,o);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(u=(l<3?c(u):l>3?c(r,n,u):c(r,n))||u);return l>3&&u&&Object.defineProperty(r,n,u),u}function xf(i,r){return function(n,o){r(n,o,i)}}function _f(i,r,n,o,l,u){function c(L){if(L!==void 0&&typeof L!="function")throw new TypeError("Function expected");return L}for(var p=o.kind,m=p==="getter"?"get":p==="setter"?"set":"value",g=!r&&i?o.static?i:i.prototype:null,v=r||(g?Object.getOwnPropertyDescriptor(g,o.name):{}),w,_=!1,S=n.length-1;S>=0;S--){var k={};for(var N in o)k[N]=N==="access"?{}:o[N];for(var N in o.access)k.access[N]=o.access[N];k.addInitializer=function(L){if(_)throw new TypeError("Cannot add initializers after decoration has completed");u.push(c(L||null))};var C=(0,n[S])(p==="accessor"?{get:v.get,set:v.set}:v[m],k);if(p==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(w=c(C.get))&&(v.get=w),(w=c(C.set))&&(v.set=w),(w=c(C.init))&&l.unshift(w)}else(w=c(C))&&(p==="field"?l.unshift(w):v[m]=w)}g&&Object.defineProperty(g,o.name,v),_=!0}function bf(i,r,n){for(var o=arguments.length>2,l=0;l<r.length;l++)n=o?r[l].call(i,n):r[l].call(i);return o?n:void 0}function kf(i){return typeof i=="symbol"?i:"".concat(i)}function Sf(i,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function jf(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)}function X(i,r,n,o){function l(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function p(v){try{g(o.next(v))}catch(w){c(w)}}function m(v){try{g(o.throw(v))}catch(w){c(w)}}function g(v){v.done?u(v.value):l(v.value).then(p,m)}g((o=o.apply(i,r||[])).next())})}function Ef(i,r){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,l,u,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=p(0),c.throw=p(1),c.return=p(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function p(g){return function(v){return m([g,v])}}function m(g){if(o)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(o=1,l&&(u=g[0]&2?l.return:g[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,g[1])).done)return u;switch(l=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,l=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=r.call(i,n)}catch(v){g=[6,v],l=0}finally{o=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var po=Object.create?function(i,r,n,o){o===void 0&&(o=n);var l=Object.getOwnPropertyDescriptor(r,n);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(i,o,l)}:function(i,r,n,o){o===void 0&&(o=n),i[o]=r[n]};function Nf(i,r){for(var n in i)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&po(r,i,n)}function ao(i){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&i[r],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yl(i,r){var n=typeof Symbol=="function"&&i[Symbol.iterator];if(!n)return i;var o=n.call(i),l,u=[],c;try{for(;(r===void 0||r-- >0)&&!(l=o.next()).done;)u.push(l.value)}catch(p){c={error:p}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(c)throw c.error}}return u}function Cf(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(Yl(arguments[r]));return i}function Pf(){for(var i=0,r=0,n=arguments.length;r<n;r++)i+=arguments[r].length;for(var o=Array(i),l=0,r=0;r<n;r++)for(var u=arguments[r],c=0,p=u.length;c<p;c++,l++)o[l]=u[c];return o}function Of(i,r,n){if(n||arguments.length===2)for(var o=0,l=r.length,u;o<l;o++)(u||!(o in r))&&(u||(u=Array.prototype.slice.call(r,0,o)),u[o]=r[o]);return i.concat(u||Array.prototype.slice.call(r))}function Nn(i){return this instanceof Nn?(this.v=i,this):new Nn(i)}function Tf(i,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(i,r||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",c),l[Symbol.asyncIterator]=function(){return this},l;function c(S){return function(k){return Promise.resolve(k).then(S,w)}}function p(S,k){o[S]&&(l[S]=function(N){return new Promise(function(C,L){u.push([S,N,C,L])>1||m(S,N)})},k&&(l[S]=k(l[S])))}function m(S,k){try{g(o[S](k))}catch(N){_(u[0][3],N)}}function g(S){S.value instanceof Nn?Promise.resolve(S.value.v).then(v,w):_(u[0][2],S)}function v(S){m("next",S)}function w(S){m("throw",S)}function _(S,k){S(k),u.shift(),u.length&&m(u[0][0],u[0][1])}}function Rf(i){var r,n;return r={},o("next"),o("throw",function(l){throw l}),o("return"),r[Symbol.iterator]=function(){return this},r;function o(l,u){r[l]=i[l]?function(c){return(n=!n)?{value:Nn(i[l](c)),done:!1}:u?u(c):c}:u}}function Af(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],n;return r?r.call(i):(i=typeof ao=="function"?ao(i):i[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(u){n[u]=i[u]&&function(c){return new Promise(function(p,m){c=i[u](c),l(p,m,c.done,c.value)})}}function l(u,c,p,m){Promise.resolve(m).then(function(g){u({value:g,done:p})},c)}}function If(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i}var Ry=Object.create?function(i,r){Object.defineProperty(i,"default",{enumerable:!0,value:r})}:function(i,r){i.default=r},Rl=function(i){return Rl=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},Rl(i)};function Lf(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var n=Rl(i),o=0;o<n.length;o++)n[o]!=="default"&&po(r,i,n[o]);return Ry(r,i),r}function Df(i){return i&&i.__esModule?i:{default:i}}function $f(i,r,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?i!==r||!o:!r.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(i):o?o.value:r.get(i)}function Uf(i,r,n,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?i!==r||!l:!r.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(i,n):l?l.value=n:r.set(i,n),n}function Mf(i,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?r===i:i.has(r)}function Ff(i,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var o,l;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=r[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=r[Symbol.dispose],n&&(l=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");l&&(o=function(){try{l.call(this)}catch(u){return Promise.reject(u)}}),i.stack.push({value:r,dispose:o,async:n})}else n&&i.stack.push({async:!0});return r}var Ay=typeof SuppressedError=="function"?SuppressedError:function(i,r,n){var o=new Error(n);return o.name="SuppressedError",o.error=i,o.suppressed=r,o};function Bf(i){function r(u){i.error=i.hasError?new Ay(u,i.error,"An error was suppressed during disposal."):u,i.hasError=!0}var n,o=0;function l(){for(;n=i.stack.pop();)try{if(!n.async&&o===1)return o=0,i.stack.push(n),Promise.resolve().then(l);if(n.dispose){var u=n.dispose.call(n.value);if(n.async)return o|=2,Promise.resolve(u).then(l,function(c){return r(c),l()})}else o|=1}catch(c){r(c)}if(o===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return l()}function zf(i,r){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,o,l,u,c){return o?r?".jsx":".js":l&&(!u||!c)?n:l+u+"."+c.toLowerCase()+"js"}):i}const Iy={__extends:vf,__assign:oo,__rest:Rn,__decorate:wf,__param:xf,__esDecorate:_f,__runInitializers:bf,__propKey:kf,__setFunctionName:Sf,__metadata:jf,__awaiter:X,__generator:Ef,__createBinding:po,__exportStar:Nf,__values:ao,__read:Yl,__spread:Cf,__spreadArrays:Pf,__spreadArray:Of,__await:Nn,__asyncGenerator:Tf,__asyncDelegator:Rf,__asyncValues:Af,__makeTemplateObject:If,__importStar:Lf,__importDefault:Df,__classPrivateFieldGet:$f,__classPrivateFieldSet:Uf,__classPrivateFieldIn:Mf,__addDisposableResource:Ff,__disposeResources:Bf,__rewriteRelativeImportExtension:zf},Ly=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Ff,get __assign(){return oo},__asyncDelegator:Rf,__asyncGenerator:Tf,__asyncValues:Af,__await:Nn,__awaiter:X,__classPrivateFieldGet:$f,__classPrivateFieldIn:Mf,__classPrivateFieldSet:Uf,__createBinding:po,__decorate:wf,__disposeResources:Bf,__esDecorate:_f,__exportStar:Nf,__extends:vf,__generator:Ef,__importDefault:Df,__importStar:Lf,__makeTemplateObject:If,__metadata:jf,__param:xf,__propKey:kf,__read:Yl,__rest:Rn,__rewriteRelativeImportExtension:zf,__runInitializers:bf,__setFunctionName:Sf,__spread:Cf,__spreadArray:Of,__spreadArrays:Pf,__values:ao,default:Iy},Symbol.toStringTag,{value:"Module"})),Dy="modulepreload",$y=function(i){return"/"+i},xh={},An=function(r,n,o){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),p=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));l=Promise.allSettled(n.map(m=>{if(m=$y(m),m in xh)return;xh[m]=!0;const g=m.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":Dy,g||(w.as="script"),w.crossOrigin="",w.href=m,p&&w.setAttribute("nonce",p),document.head.appendChild(w),g)return new Promise((_,S)=>{w.addEventListener("load",_),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(c){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=c,window.dispatchEvent(p),!p.defaultPrevented)throw c}return l.then(c=>{for(const p of c||[])p.status==="rejected"&&u(p.reason);return r().catch(u)})},Uy=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...n)=>An(async()=>{const{default:o}=await Promise.resolve().then(()=>Vr);return{default:o}},void 0).then(({default:o})=>o(...n)):r=fetch,(...n)=>r(...n)};class Xl extends Error{constructor(r,n="FunctionsError",o){super(r),this.name=n,this.context=o}}class _h extends Xl{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class bh extends Xl{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class kh extends Xl{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Al;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Al||(Al={}));class My{constructor(r,{headers:n={},customFetch:o,region:l=Al.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=Uy(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return X(this,arguments,void 0,function*(n,o={}){var l;try{const{headers:u,method:c,body:p,signal:m}=o;let g={},{region:v}=o;v||(v=this.region);const w=new URL(`${this.url}/${n}`);v&&v!=="any"&&(g["x-region"]=v,w.searchParams.set("forceFunctionRegion",v));let _;p&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",_=p):typeof p=="string"?(g["Content-Type"]="text/plain",_=p):typeof FormData<"u"&&p instanceof FormData?_=p:(g["Content-Type"]="application/json",_=JSON.stringify(p)):_=p;const S=yield this.fetch(w.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:_,signal:m}).catch(L=>{throw L.name==="AbortError"?L:new _h(L)}),k=S.headers.get("x-relay-error");if(k&&k==="true")throw new bh(S);if(!S.ok)throw new kh(S);let N=((l=S.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),C;return N==="application/json"?C=yield S.json():N==="application/octet-stream"||N==="application/pdf"?C=yield S.blob():N==="text/event-stream"?C=S:N==="multipart/form-data"?C=yield S.formData():C=yield S.text(),{data:C,error:null,response:S}}catch(u){return u instanceof Error&&u.name==="AbortError"?{data:null,error:new _h(u)}:{data:null,error:u,response:u instanceof kh||u instanceof bh?u.context:void 0}}})}}var et={};const In=sf(Ly);var Qi={},Yi={},Xi={},Zi={},eo={},Fy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Cn=Fy();const By=Cn.fetch,Wf=Cn.fetch.bind(Cn),qf=Cn.Headers,zy=Cn.Request,Wy=Cn.Response,Vr=Object.freeze(Object.defineProperty({__proto__:null,Headers:qf,Request:zy,Response:Wy,default:Wf,fetch:By},Symbol.toStringTag,{value:"Module"})),qy=sf(Vr);var to={},Sh;function Vf(){if(Sh)return to;Sh=1,Object.defineProperty(to,"__esModule",{value:!0});class i extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return to.default=i,to}var jh;function Hf(){if(jh)return eo;jh=1,Object.defineProperty(eo,"__esModule",{value:!0});const i=In,r=i.__importDefault(qy),n=i.__importDefault(Vf());class o{constructor(u){var c,p;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(p=u.isMaybeSingle)!==null&&p!==void 0?p:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let m=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var v,w,_,S;let k=null,N=null,C=null,L=g.status,A=g.statusText;if(g.ok){if(this.method!=="HEAD"){const J=await g.text();J===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?N=J:N=JSON.parse(J))}const D=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),K=(_=g.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");D&&K&&K.length>1&&(C=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(k={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,C=null,L=406,A="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const D=await g.text();try{k=JSON.parse(D),Array.isArray(k)&&g.status===404&&(N=[],k=null,L=200,A="OK")}catch{g.status===404&&D===""?(L=204,A="No Content"):k={message:D}}if(k&&this.isMaybeSingle&&(!((S=k==null?void 0:k.details)===null||S===void 0)&&S.includes("0 rows"))&&(k=null,L=200,A="OK"),k&&this.shouldThrowOnError)throw new n.default(k)}return{error:k,data:N,count:C,status:L,statusText:A}});return this.shouldThrowOnError||(m=m.catch(g=>{var v,w,_;return{error:{message:`${(v=g==null?void 0:g.name)!==null&&v!==void 0?v:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(w=g==null?void 0:g.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(_=g==null?void 0:g.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),m.then(u,c)}returns(){return this}overrideTypes(){return this}}return eo.default=o,eo}var Eh;function Kf(){if(Eh)return Zi;Eh=1,Object.defineProperty(Zi,"__esModule",{value:!0});const r=In.__importDefault(Hf());class n extends r.default{select(l){let u=!1;const c=(l??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:u=!0,nullsFirst:c,foreignTable:p,referencedTable:m=p}={}){const g=m?`${m}.order`:"order",v=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${v?`${v},`:""}${l}.${u?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:c=u}={}){const p=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(p,`${l}`),this}range(l,u,{foreignTable:c,referencedTable:p=c}={}){const m=typeof p>"u"?"offset":`${p}.offset`,g=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(g,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:u=!1,settings:c=!1,buffers:p=!1,wal:m=!1,format:g="text"}={}){var v;const w=[l?"analyze":null,u?"verbose":null,c?"settings":null,p?"buffers":null,m?"wal":null].filter(Boolean).join("|"),_=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${_}"; options=${w};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return Zi.default=n,Zi}var Nh;function Zl(){if(Nh)return Xi;Nh=1,Object.defineProperty(Xi,"__esModule",{value:!0});const r=In.__importDefault(Kf()),n=new RegExp("[,()]");class o extends r.default{eq(u,c){return this.url.searchParams.append(u,`eq.${c}`),this}neq(u,c){return this.url.searchParams.append(u,`neq.${c}`),this}gt(u,c){return this.url.searchParams.append(u,`gt.${c}`),this}gte(u,c){return this.url.searchParams.append(u,`gte.${c}`),this}lt(u,c){return this.url.searchParams.append(u,`lt.${c}`),this}lte(u,c){return this.url.searchParams.append(u,`lte.${c}`),this}like(u,c){return this.url.searchParams.append(u,`like.${c}`),this}likeAllOf(u,c){return this.url.searchParams.append(u,`like(all).{${c.join(",")}}`),this}likeAnyOf(u,c){return this.url.searchParams.append(u,`like(any).{${c.join(",")}}`),this}ilike(u,c){return this.url.searchParams.append(u,`ilike.${c}`),this}ilikeAllOf(u,c){return this.url.searchParams.append(u,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(u,c){return this.url.searchParams.append(u,`ilike(any).{${c.join(",")}}`),this}is(u,c){return this.url.searchParams.append(u,`is.${c}`),this}in(u,c){const p=Array.from(new Set(c)).map(m=>typeof m=="string"&&n.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(u,`in.(${p})`),this}contains(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cs.{${c.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(c)}`),this}containedBy(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cd.{${c.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(c)}`),this}rangeGt(u,c){return this.url.searchParams.append(u,`sr.${c}`),this}rangeGte(u,c){return this.url.searchParams.append(u,`nxl.${c}`),this}rangeLt(u,c){return this.url.searchParams.append(u,`sl.${c}`),this}rangeLte(u,c){return this.url.searchParams.append(u,`nxr.${c}`),this}rangeAdjacent(u,c){return this.url.searchParams.append(u,`adj.${c}`),this}overlaps(u,c){return typeof c=="string"?this.url.searchParams.append(u,`ov.${c}`):this.url.searchParams.append(u,`ov.{${c.join(",")}}`),this}textSearch(u,c,{config:p,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const v=p===void 0?"":`(${p})`;return this.url.searchParams.append(u,`${g}fts${v}.${c}`),this}match(u){return Object.entries(u).forEach(([c,p])=>{this.url.searchParams.append(c,`eq.${p}`)}),this}not(u,c,p){return this.url.searchParams.append(u,`not.${c}.${p}`),this}or(u,{foreignTable:c,referencedTable:p=c}={}){const m=p?`${p}.or`:"or";return this.url.searchParams.append(m,`(${u})`),this}filter(u,c,p){return this.url.searchParams.append(u,`${c}.${p}`),this}}return Xi.default=o,Xi}var Ch;function Gf(){if(Ch)return Yi;Ch=1,Object.defineProperty(Yi,"__esModule",{value:!0});const r=In.__importDefault(Zl());class n{constructor(l,{headers:u={},schema:c,fetch:p}){this.url=l,this.headers=new Headers(u),this.schema=c,this.fetch=p}select(l,u){const{head:c=!1,count:p}=u??{},m=c?"HEAD":"GET";let g=!1;const v=(l??"*").split("").map(w=>/\s/.test(w)&&!g?"":(w==='"'&&(g=!g),w)).join("");return this.url.searchParams.set("select",v),p&&this.headers.append("Prefer",`count=${p}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:u,defaultToNull:c=!0}={}){var p;const m="POST";if(u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const g=l.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(g.length>0){const v=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(l,{onConflict:u,ignoreDuplicates:c=!1,count:p,defaultToNull:m=!0}={}){var g;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),p&&this.headers.append("Prefer",`count=${p}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const w=l.reduce((_,S)=>_.concat(Object.keys(S)),[]);if(w.length>0){const _=[...new Set(w)].map(S=>`"${S}"`);this.url.searchParams.set("columns",_.join(","))}}return new r.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(l,{count:u}={}){var c;const p="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:l}={}){var u;const c="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new r.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Yi.default=n,Yi}var Ph;function Vy(){if(Ph)return Qi;Ph=1,Object.defineProperty(Qi,"__esModule",{value:!0});const i=In,r=i.__importDefault(Gf()),n=i.__importDefault(Zl());class o{constructor(u,{headers:c={},schema:p,fetch:m}={}){this.url=u,this.headers=new Headers(c),this.schemaName=p,this.fetch=m}from(u){const c=new URL(`${this.url}/${u}`);return new r.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new o(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,c={},{head:p=!1,get:m=!1,count:g}={}){var v;let w;const _=new URL(`${this.url}/rpc/${u}`);let S;p||m?(w=p?"HEAD":"GET",Object.entries(c).filter(([N,C])=>C!==void 0).map(([N,C])=>[N,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([N,C])=>{_.searchParams.append(N,C)})):(w="POST",S=c);const k=new Headers(this.headers);return g&&k.set("Prefer",`count=${g}`),new n.default({method:w,url:_,headers:k,schema:this.schemaName,body:S,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return Qi.default=o,Qi}var Oh;function Hy(){if(Oh)return et;Oh=1,Object.defineProperty(et,"__esModule",{value:!0}),et.PostgrestError=et.PostgrestBuilder=et.PostgrestTransformBuilder=et.PostgrestFilterBuilder=et.PostgrestQueryBuilder=et.PostgrestClient=void 0;const i=In,r=i.__importDefault(Vy());et.PostgrestClient=r.default;const n=i.__importDefault(Gf());et.PostgrestQueryBuilder=n.default;const o=i.__importDefault(Zl());et.PostgrestFilterBuilder=o.default;const l=i.__importDefault(Kf());et.PostgrestTransformBuilder=l.default;const u=i.__importDefault(Hf());et.PostgrestBuilder=u.default;const c=i.__importDefault(Vf());return et.PostgrestError=c.default,et.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:c.default},et}var Jf=Hy();const Qf=nf(Jf),Ky=rf({__proto__:null,default:Qf},[Jf]),{PostgrestClient:Gy,PostgrestQueryBuilder:zx,PostgrestFilterBuilder:Wx,PostgrestTransformBuilder:qx,PostgrestBuilder:Vx,PostgrestError:Hx}=Qf||Ky;class Jy{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const o=this.getWebSocketConstructor();return new o(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Qy="2.78.0",Yy=`realtime-js/${Qy}`,Xy="1.0.0",Il=1e4,Zy=1e3,e0=100;var js;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(js||(js={}));var We;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(We||(We={}));var Lt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Lt||(Lt={}));var Ll;(function(i){i.websocket="websocket"})(Ll||(Ll={}));var Br;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Br||(Br={}));class t0{constructor(){this.HEADER_LENGTH=1}decode(r,n){return r.constructor===ArrayBuffer?n(this._binaryDecode(r)):n(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const n=new DataView(r),o=new TextDecoder;return this._decodeBroadcast(r,n,o)}_decodeBroadcast(r,n,o){const l=n.getUint8(1),u=n.getUint8(2);let c=this.HEADER_LENGTH+2;const p=o.decode(r.slice(c,c+l));c=c+l;const m=o.decode(r.slice(c,c+u));c=c+u;const g=JSON.parse(o.decode(r.slice(c,r.byteLength)));return{ref:null,topic:p,event:m,payload:g}}}class Yf{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(je||(je={}));const Th=(i,r,n={})=>{var o;const l=(o=n.skipTypes)!==null&&o!==void 0?o:[];return r?Object.keys(r).reduce((u,c)=>(u[c]=r0(c,i,r,l),u),{}):{}},r0=(i,r,n,o)=>{const l=r.find(p=>p.name===i),u=l==null?void 0:l.type,c=n[i];return u&&!o.includes(u)?Xf(u,c):Dl(c)},Xf=(i,r)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return o0(r,n)}switch(i){case je.bool:return n0(r);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return s0(r);case je.json:case je.jsonb:return i0(r);case je.timestamp:return a0(r);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return Dl(r);default:return Dl(r)}},Dl=i=>i,n0=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},s0=i=>{if(typeof i=="string"){const r=parseFloat(i);if(!Number.isNaN(r))return r}return i},i0=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(r){return console.log(`JSON parse error: ${r}`),i}return i},o0=(i,r)=>{if(typeof i!="string")return i;const n=i.length-1,o=i[n];if(i[0]==="{"&&o==="}"){let u;const c=i.slice(1,n);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(p=>Xf(r,p))}return i},a0=i=>typeof i=="string"?i.replace(" ","T"):i,Zf=i=>{const r=new URL(i);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class yl{constructor(r,n,o={},l=Il){this.channel=r,this.event=n,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var o;return this._hasReceived(r)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Rh;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Rh||(Rh={}));class Es{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:u,onLeave:c,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Es.syncState(this.state,l,u,c),this.pendingDiffs.forEach(m=>{this.state=Es.syncDiff(this.state,m,u,c)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},l=>{const{onJoin:u,onLeave:c,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Es.syncDiff(this.state,l,u,c),p())}),this.onJoin((l,u,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:c})}),this.onLeave((l,u,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,o,l){const u=this.cloneDeep(r),c=this.transformState(n),p={},m={};return this.map(u,(g,v)=>{c[g]||(m[g]=v)}),this.map(c,(g,v)=>{const w=u[g];if(w){const _=v.map(C=>C.presence_ref),S=w.map(C=>C.presence_ref),k=v.filter(C=>S.indexOf(C.presence_ref)<0),N=w.filter(C=>_.indexOf(C.presence_ref)<0);k.length>0&&(p[g]=k),N.length>0&&(m[g]=N)}else p[g]=v}),this.syncDiff(u,{joins:p,leaves:m},o,l)}static syncDiff(r,n,o,l){const{joins:u,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(u,(p,m)=>{var g;const v=(g=r[p])!==null&&g!==void 0?g:[];if(r[p]=this.cloneDeep(m),v.length>0){const w=r[p].map(S=>S.presence_ref),_=v.filter(S=>w.indexOf(S.presence_ref)<0);r[p].unshift(..._)}o(p,v,m)}),this.map(c,(p,m)=>{let g=r[p];if(!g)return;const v=m.map(w=>w.presence_ref);g=g.filter(w=>v.indexOf(w.presence_ref)<0),r[p]=g,l(p,g,m),g.length===0&&delete r[p]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(o=>n(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,o)=>{const l=r[o];return"metas"in l?n[o]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[o]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ah;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Ah||(Ah={}));var Ns;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Ns||(Ns={}));var Qt;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Qt||(Qt={}));class eu{constructor(r,n={config:{}},o){var l,u;if(this.topic=r,this.params=n,this.socket=o,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new yl(this,Lt.join,this.params,this.timeout),this.rejoinTimer=new Yf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lt.reply,{},(c,p)=>{this._trigger(this._replyEventName(p),c)}),this.presence=new Es(this),this.broadcastEndpointURL=Zf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var o,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:c,presence:p,private:m}}=this.params,g=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(S=>S.filter))!==null&&l!==void 0?l:[],v=!!this.bindings[Ns.PRESENCE]&&this.bindings[Ns.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,w={},_={broadcast:c,presence:Object.assign(Object.assign({},p),{enabled:v}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(S=>r==null?void 0:r(Qt.CHANNEL_ERROR,S)),this._onClose(()=>r==null?void 0:r(Qt.CLOSED)),this.updateJoinPayload(Object.assign({config:_},w)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var k;if(this.socket.setAuth(),S===void 0){r==null||r(Qt.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,C=(k=N==null?void 0:N.length)!==null&&k!==void 0?k:0,L=[];for(let A=0;A<C;A++){const E=N[A],{filter:{event:D,schema:K,table:J,filter:ae}}=E,xe=S&&S[A];if(xe&&xe.event===D&&xe.schema===K&&xe.table===J&&xe.filter===ae)L.push(Object.assign(Object.assign({},E),{id:xe.id}));else{this.unsubscribe(),this.state=We.errored,r==null||r(Qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,r&&r(Qt.SUBSCRIBED);return}}).receive("error",S=>{this.state=We.errored,r==null||r(Qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,o){return this.state===We.joined&&r===Ns.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,o)}async httpSend(r,n,o={}){var l;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const g=await p.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(r,n={}){var o,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=r,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=g.body)===null||l===void 0?void 0:l.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,p,m;const g=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(p=(c=this.params)===null||c===void 0?void 0:c.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=We.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new yl(this,Lt.leave,{},r),o.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=We.closed,this.bindings={}}async _fetchWithTimeout(r,n,o){const l=new AbortController,u=setTimeout(()=>l.abort(),o),c=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(u),c}_push(r,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new yl(this,r,n,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>e0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,o){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,o){var l,u;const c=r.toLocaleLowerCase(),{close:p,error:m,leave:g,join:v}=Lt;if(o&&[p,m,g,v].indexOf(c)>=0&&o!==this._joinRef())return;let _=this._onMessage(c,n,o);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(S=>{var k,N,C;return((k=S.filter)===null||k===void 0?void 0:k.event)==="*"||((C=(N=S.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(S=>S.callback(_,o)):(u=this.bindings[c])===null||u===void 0||u.filter(S=>{var k,N,C,L,A,E;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in S){const D=S.id,K=(k=S.filter)===null||k===void 0?void 0:k.event;return D&&((N=n.ids)===null||N===void 0?void 0:N.includes(D))&&(K==="*"||(K==null?void 0:K.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const D=(A=(L=S==null?void 0:S.filter)===null||L===void 0?void 0:L.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return D==="*"||D===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===c}).map(S=>{if(typeof _=="object"&&"ids"in _){const k=_.data,{schema:N,table:C,commit_timestamp:L,type:A,errors:E}=k;_=Object.assign(Object.assign({},{schema:N,table:C,commit_timestamp:L,eventType:A,new:{},old:{},errors:E}),this._getPayloadRecords(k))}S.callback(_,o)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,o){const l=r.toLocaleLowerCase(),u={type:l,filter:n,callback:o};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(r,n){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&eu.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const o in r)if(r[o]!==n[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Lt.close,{},r)}_onError(r){this._on(Lt.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Th(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Th(r.columns,r.old_record)),n}}const vl=()=>{},ro={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},l0=[1e3,2e3,5e3,1e4],u0=1e4,c0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class d0{constructor(r,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Il,this.transport=null,this.heartbeatIntervalMs=ro.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vl,this.ref=0,this.reconnectTimer=null,this.logger=vl,this.conn=null,this.sendBuffer=[],this.serializer=new t0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...c)=>An(async()=>{const{default:p}=await Promise.resolve().then(()=>Vr);return{default:p}},void 0).then(({default:p})=>p(...c)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...c)=>u(...c)},!(!((o=n==null?void 0:n.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${Ll.websocket}`,this.httpEndpoint=Zf(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jy.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Xy}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},r?this.conn.close(r,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,o){this.logger(r,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case js.connecting:return Br.Connecting;case js.open:return Br.Open;case js.closing:return Br.Closing;default:return Br.Closed}}isConnected(){return this.connectionState()===Br.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const o=`realtime:${r}`,l=this.getChannels().find(u=>u.topic===o);if(l)return l;{const u=new eu(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:o,payload:l,ref:u}=r,c=()=>{this.encode(r,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${n} ${o} (${u})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Zy,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ro.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:l,payload:u,ref:c}=n,p=c?`(${c})`:"",m=u.status||"";this.log("receive",`${m} ${o} ${l} ${p}`.trim(),u),this.channels.filter(g=>g._isMember(o)).forEach(g=>g._trigger(l,u,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Lt.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const o=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${o}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const o=new Blob([c0],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:Yy};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(Lt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Yf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ro.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,o,l,u,c,p,m,g,v;if(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(o=r==null?void 0:r.timeout)!==null&&o!==void 0?o:Il,this.heartbeatIntervalMs=(l=r==null?void 0:r.heartbeatIntervalMs)!==null&&l!==void 0?l:ro.HEARTBEAT_INTERVAL,this.worker=(u=r==null?void 0:r.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=r==null?void 0:r.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(p=r==null?void 0:r.heartbeatCallback)!==null&&p!==void 0?p:vl,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=r==null?void 0:r.reconnectAfterMs)!==null&&m!==void 0?m:w=>l0[w-1]||u0,this.encode=(g=r==null?void 0:r.encode)!==null&&g!==void 0?g:(w,_)=>_(JSON.stringify(w)),this.decode=(v=r==null?void 0:r.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}class tu extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Ae(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class h0 extends tu{constructor(r,n,o){super(r),this.name="StorageApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $l extends tu{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}const ru=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...n)=>An(async()=>{const{default:o}=await Promise.resolve().then(()=>Vr);return{default:o}},void 0).then(({default:o})=>o(...n)):r=fetch,(...n)=>r(...n)},f0=()=>X(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield An(()=>Promise.resolve().then(()=>Vr),void 0)).Response:Response}),Ul=i=>{if(Array.isArray(i))return i.map(n=>Ul(n));if(typeof i=="function"||i!==Object(i))return i;const r={};return Object.entries(i).forEach(([n,o])=>{const l=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[l]=Ul(o)}),r},p0=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},wl=i=>{var r;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(r=i.error)===null||r===void 0?void 0:r.message)||JSON.stringify(i)},m0=(i,r,n)=>X(void 0,void 0,void 0,function*(){const o=yield f0();i instanceof o&&!(n!=null&&n.noResolveJson)?i.json().then(l=>{const u=i.status||500,c=(l==null?void 0:l.statusCode)||u+"";r(new h0(wl(l),u,c))}).catch(l=>{r(new $l(wl(l),l))}):r(new $l(wl(i),i))}),g0=(i,r,n,o)=>{const l={method:i,headers:(r==null?void 0:r.headers)||{}};return i==="GET"||!o?l:(p0(o)?(l.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,r!=null&&r.duplex&&(l.duplex=r.duplex),Object.assign(Object.assign({},l),n))};function Ls(i,r,n,o,l,u){return X(this,void 0,void 0,function*(){return new Promise((c,p)=>{i(n,g0(r,o,l,u)).then(m=>{if(!m.ok)throw m;return o!=null&&o.noResolveJson?m:m.json()}).then(m=>c(m)).catch(m=>m0(m,p,o))})})}function Os(i,r,n,o){return X(this,void 0,void 0,function*(){return Ls(i,"GET",r,n,o)})}function It(i,r,n,o,l){return X(this,void 0,void 0,function*(){return Ls(i,"POST",r,o,l,n)})}function Ml(i,r,n,o,l){return X(this,void 0,void 0,function*(){return Ls(i,"PUT",r,o,l,n)})}function y0(i,r,n,o){return X(this,void 0,void 0,function*(){return Ls(i,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),o)})}function nu(i,r,n,o,l){return X(this,void 0,void 0,function*(){return Ls(i,"DELETE",r,o,l,n)})}class v0{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return X(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}}var ep;class w0{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[ep]="BlobDownloadBuilder",this.promise=null}asStream(){return new v0(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return X(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}}ep=Symbol.toStringTag;const x0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ih={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _0{constructor(r,n={},o,l){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=o,this.fetch=ru(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,o,l){return X(this,void 0,void 0,function*(){try{let u;const c=Object.assign(Object.assign({},Ih),l);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(c.upsert)});const m=c.metadata;typeof Blob<"u"&&o instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",o)):typeof FormData<"u"&&o instanceof FormData?(u=o,u.append("cacheControl",c.cacheControl),m&&u.append("metadata",this.encodeMetadata(m))):(u=o,p["cache-control"]=`max-age=${c.cacheControl}`,p["content-type"]=c.contentType,m&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),l!=null&&l.headers&&(p=Object.assign(Object.assign({},p),l.headers));const g=this._removeEmptyFolders(n),v=this._getFinalPath(g),w=yield(r=="PUT"?Ml:It)(this.fetch,`${this.url}/object/${v}`,u,Object.assign({headers:p},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:g,id:w.Id,fullPath:w.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ae(u))return{data:null,error:u};throw u}})}upload(r,n,o){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,o)})}uploadToSignedUrl(r,n,o,l){return X(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),p=new URL(this.url+`/object/upload/sign/${c}`);p.searchParams.set("token",n);try{let m;const g=Object.assign({upsert:Ih.upsert},l),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&o instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",o)):typeof FormData<"u"&&o instanceof FormData?(m=o,m.append("cacheControl",g.cacheControl)):(m=o,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType);const w=yield Ml(this.fetch,p.toString(),m,{headers:v});return{data:{path:u,fullPath:w.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Ae(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(r,n){return X(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const l=Object.assign({},this.headers);n!=null&&n.upsert&&(l["x-upsert"]="true");const u=yield It(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:l}),c=new URL(this.url+u.url),p=c.searchParams.get("token");if(!p)throw new tu("No token returned by API");return{data:{signedUrl:c.toString(),path:r,token:p},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ae(o))return{data:null,error:o};throw o}})}update(r,n,o){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,o)})}move(r,n,o){return X(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ae(l))return{data:null,error:l};throw l}})}copy(r,n,o){return X(this,void 0,void 0,function*(){try{return{data:{path:(yield It(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ae(l))return{data:null,error:l};throw l}})}createSignedUrl(r,n,o){return X(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r),u=yield It(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const c=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ae(l))return{data:null,error:l};throw l}})}createSignedUrls(r,n,o){return X(this,void 0,void 0,function*(){try{const l=yield It(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),u=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:l.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${u}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ae(l))return{data:null,error:l};throw l}})}download(r,n){const l=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=u?`?${u}`:"",p=this._getFinalPath(r),m=()=>Os(this.fetch,`${this.url}/${l}/${p}${c}`,{headers:this.headers,noResolveJson:!0});return new w0(m,this.shouldThrowOnError)}info(r){return X(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const o=yield Os(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ul(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ae(o))return{data:null,error:o};throw o}})}exists(r){return X(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield y0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ae(o)&&o instanceof $l){const l=o.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,n){const o=this._getFinalPath(r),l=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const p=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&l.push(m);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${g}`)}}}remove(r){return X(this,void 0,void 0,function*(){try{return{data:yield nu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}list(r,n,o){return X(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},x0),n),{prefix:r||""});return{data:yield It(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ae(l))return{data:null,error:l};throw l}})}listV2(r,n){return X(this,void 0,void 0,function*(){try{const o=Object.assign({},r);return{data:yield It(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ae(o))return{data:null,error:o};throw o}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const tp="2.78.0",rp={"X-Client-Info":`storage-js/${tp}`};class b0{constructor(r,n={},o,l){this.shouldThrowOnError=!1;const u=new URL(r);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rp),n),this.fetch=ru(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return X(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(r);return{data:yield Os(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}getBucket(r){return X(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}createBucket(r){return X(this,arguments,void 0,function*(n,o={public:!1}){try{return{data:yield It(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ae(l))return{data:null,error:l};throw l}})}updateBucket(r,n){return X(this,void 0,void 0,function*(){try{return{data:yield Ml(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ae(o))return{data:null,error:o};throw o}})}emptyBucket(r){return X(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}deleteBucket(r){return X(this,void 0,void 0,function*(){try{return{data:yield nu(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class k0{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rp),n),this.fetch=ru(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return X(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}listBuckets(r){return X(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&n.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&n.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&n.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&n.set("sortOrder",r.sortOrder),r!=null&&r.search&&n.set("search",r.search);const o=n.toString(),l=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield Os(this.fetch,l,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}deleteBucket(r){return X(this,void 0,void 0,function*(){try{return{data:yield nu(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}}const su={"X-Client-Info":`storage-js/${tp}`,"Content-Type":"application/json"};class np extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function mt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class xl extends np{constructor(r,n,o){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class S0 extends np{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}}var Lh;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Lh||(Lh={}));const iu=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...n)=>An(async()=>{const{default:o}=await Promise.resolve().then(()=>Vr);return{default:o}},void 0).then(({default:o})=>o(...n)):r=fetch,(...n)=>r(...n)},j0=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Dh=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),E0=(i,r,n)=>X(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(n!=null&&n.noResolveJson)){const l=i.status||500,u=i;if(typeof u.json=="function")u.json().then(c=>{const p=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||l+"";r(new xl(Dh(c),l,p))}).catch(()=>{const c=l+"",p=u.statusText||`HTTP ${l} error`;r(new xl(p,l,c))});else{const c=l+"",p=u.statusText||`HTTP ${l} error`;r(new xl(p,l,c))}}else r(new S0(Dh(i),i))}),N0=(i,r,n,o)=>{const l={method:i,headers:(r==null?void 0:r.headers)||{}};return o?(j0(o)?(l.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,Object.assign(Object.assign({},l),n)):l};function C0(i,r,n,o,l,u){return X(this,void 0,void 0,function*(){return new Promise((c,p)=>{i(n,N0(r,o,l,u)).then(m=>{if(!m.ok)throw m;if(o!=null&&o.noResolveJson)return m;const g=m.headers.get("content-type");return!g||!g.includes("application/json")?{}:m.json()}).then(m=>c(m)).catch(m=>E0(m,p,o))})})}function gt(i,r,n,o,l){return X(this,void 0,void 0,function*(){return C0(i,"POST",r,o,l,n)})}class P0{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},su),n),this.fetch=iu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return X(this,void 0,void 0,function*(){try{return{data:(yield gt(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}getIndex(r,n){return X(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(mt(o))return{data:null,error:o};throw o}})}listIndexes(r){return X(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}deleteIndex(r,n){return X(this,void 0,void 0,function*(){try{return{data:(yield gt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(mt(o))return{data:null,error:o};throw o}})}}class O0{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},su),n),this.fetch=iu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return X(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield gt(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}getVectors(r){return X(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}listVectors(r){return X(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield gt(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}queryVectors(r){return X(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}deleteVectors(r){return X(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield gt(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}}class T0{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},su),n),this.fetch=iu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return X(this,void 0,void 0,function*(){try{return{data:(yield gt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}getBucket(r){return X(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}listBuckets(){return X(this,arguments,void 0,function*(r={}){try{return{data:yield gt(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}deleteBucket(r){return X(this,void 0,void 0,function*(){try{return{data:(yield gt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}}class R0 extends T0{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new A0(this.url,this.headers,r,this.fetch)}}class A0 extends P0{constructor(r,n,o,l){super(r,n,l),this.vectorBucketName=o}createIndex(r){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return X(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return X(this,arguments,void 0,function*(n={}){return r.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return X(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return X(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new I0(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class I0 extends O0{constructor(r,n,o,l,u){super(r,n,u),this.vectorBucketName=o,this.indexName=l}putVectors(r){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return X(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return X(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return X(this,arguments,void 0,function*(n={}){return r.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return X(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return X(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class L0 extends b0{constructor(r,n={},o,l){super(r,n,o,l)}from(r){return new _0(this.url,this.headers,r,this.fetch)}get vectors(){return new R0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new k0(this.url+"/iceberg",this.headers,this.fetch)}}const D0="2.78.0";let ks="";typeof Deno<"u"?ks="deno":typeof document<"u"?ks="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ks="react-native":ks="node";const $0={"X-Client-Info":`supabase-js-${ks}/${D0}`},U0={headers:$0},M0={schema:"public"},F0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},B0={},z0=i=>{let r;return i?r=i:typeof fetch>"u"?r=Wf:r=fetch,(...n)=>r(...n)},W0=()=>typeof Headers>"u"?qf:Headers,q0=(i,r,n)=>{const o=z0(n),l=W0();return async(u,c)=>{var p;const m=(p=await r())!==null&&p!==void 0?p:i;let g=new l(c==null?void 0:c.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),o(u,Object.assign(Object.assign({},c),{headers:g}))}};function V0(i){return i.endsWith("/")?i:i+"/"}function H0(i,r){var n,o;const{db:l,auth:u,realtime:c,global:p}=i,{db:m,auth:g,realtime:v,global:w}=r,_={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},g),u),realtime:Object.assign(Object.assign({},v),c),storage:{},global:Object.assign(Object.assign(Object.assign({},w),p),{headers:Object.assign(Object.assign({},(n=w==null?void 0:w.headers)!==null&&n!==void 0?n:{}),(o=p==null?void 0:p.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return i.accessToken?_.accessToken=i.accessToken:delete _.accessToken,_}function K0(i){const r=i==null?void 0:i.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(V0(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const sp="2.78.0",Sn=30*1e3,Fl=3,_l=Fl*Sn,G0="http://localhost:9999",J0="supabase.auth.token",Q0={"X-Client-Info":`gotrue-js/${sp}`},Bl="X-Supabase-Api-Version",ip={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Y0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,X0=10*60*1e3;class Ts extends Error{constructor(r,n,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function ee(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Z0 extends Ts{constructor(r,n,o){super(r,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function ev(i){return ee(i)&&i.name==="AuthApiError"}class zr extends Ts{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class kr extends Ts{constructor(r,n,o,l){super(r,o,l),this.name=n,this.status=o}}class Rt extends kr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tv(i){return ee(i)&&i.name==="AuthSessionMissingError"}class vn extends kr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class no extends kr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class so extends kr{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rv(i){return ee(i)&&i.name==="AuthImplicitGrantRedirectError"}class $h extends kr{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zl extends kr{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function bl(i){return ee(i)&&i.name==="AuthRetryableFetchError"}class Uh extends kr{constructor(r,n,o){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class Wl extends kr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mh=` 	
\r=`.split(""),nv=(()=>{const i=new Array(128);for(let r=0;r<i.length;r+=1)i[r]=-1;for(let r=0;r<Mh.length;r+=1)i[Mh[r].charCodeAt(0)]=-2;for(let r=0;r<lo.length;r+=1)i[lo[r].charCodeAt(0)]=r;return i})();function Fh(i,r,n){if(i!==null)for(r.queue=r.queue<<8|i,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(lo[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(lo[o]),r.queuedBits-=6}}function op(i,r,n){const o=nv[i];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Bh(i){const r=[],n=c=>{r.push(String.fromCodePoint(c))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=c=>{ov(c,o,n)};for(let c=0;c<i.length;c+=1)op(i.charCodeAt(c),l,u);return r.join("")}function sv(i,r){if(i<=127){r(i);return}else if(i<=2047){r(192|i>>6),r(128|i&63);return}else if(i<=65535){r(224|i>>12),r(128|i>>6&63),r(128|i&63);return}else if(i<=1114111){r(240|i>>18),r(128|i>>12&63),r(128|i>>6&63),r(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function iv(i,r){for(let n=0;n<i.length;n+=1){let o=i.charCodeAt(n);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(i.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}sv(o,r)}}function ov(i,r,n){if(r.utf8seq===0){if(i<=127){n(i);return}for(let o=1;o<6;o+=1)if((i>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=i&31;else if(r.utf8seq===3)r.codepoint=i&15;else if(r.utf8seq===4)r.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|i&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function En(i){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};for(let l=0;l<i.length;l+=1)op(i.charCodeAt(l),n,o);return new Uint8Array(r)}function av(i){const r=[];return iv(i,n=>r.push(n)),new Uint8Array(r)}function Wr(i){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};return i.forEach(l=>Fh(l,n,o)),Fh(null,n,o),r.join("")}function lv(i){return Math.round(Date.now()/1e3)+i}function uv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const r=Math.random()*16|0;return(i=="x"?r:r&3|8).toString(16)})}const nt=()=>typeof window<"u"&&typeof document<"u",$r={tested:!1,writable:!1},ap=()=>{if(!nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($r.tested)return $r.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),$r.tested=!0,$r.writable=!0}catch{$r.tested=!0,$r.writable=!1}return $r.writable};function cv(i){const r={},n=new URL(i);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,u)=>{r[u]=l})}catch{}return n.searchParams.forEach((o,l)=>{r[l]=o}),r}const lp=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...n)=>An(async()=>{const{default:o}=await Promise.resolve().then(()=>Vr);return{default:o}},void 0).then(({default:o})=>o(...n)):r=fetch,(...n)=>r(...n)},dv=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",jn=async(i,r,n)=>{await i.setItem(r,JSON.stringify(n))},Ur=async(i,r)=>{const n=await i.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},yr=async(i,r)=>{await i.removeItem(r)};class mo{constructor(){this.promise=new mo.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}mo.promiseConstructor=Promise;function kl(i){const r=i.split(".");if(r.length!==3)throw new Wl("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!Y0.test(r[o]))throw new Wl("JWT not in base64url format");return{header:JSON.parse(Bh(r[0])),payload:JSON.parse(Bh(r[1])),signature:En(r[2]),raw:{header:r[0],payload:r[1]}}}async function hv(i){return await new Promise(r=>{setTimeout(()=>r(null),i)})}function fv(i,r){return new Promise((o,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await i(u);if(!r(u,null,c)){o(c);return}}catch(c){if(!r(u,c)){l(c);return}}})()})}function pv(i){return("0"+i.toString(16)).substr(-2)}function mv(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let l="";for(let u=0;u<56;u++)l+=n.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(r),Array.from(r,pv).join("")}async function gv(i){const n=new TextEncoder().encode(i),o=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(o);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function yv(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const n=await gv(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wn(i,r,n=!1){const o=mv();let l=o;n&&(l+="/PASSWORD_RECOVERY"),await jn(i,`${r}-code-verifier`,l);const u=await yv(o);return[u,o===u?"plain":"s256"]}const vv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wv(i){const r=i.headers.get(Bl);if(!r||!r.match(vv))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function xv(i){if(!i)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(i<=r)throw new Error("JWT has expired")}function _v(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xn(i){if(!bv.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sl(){const i={};return new Proxy(i,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kv(i,r){return new Proxy(i,{get:(n,o,l)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,l)}return!r.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,o,l)}})}function zh(i){return JSON.parse(JSON.stringify(i))}const Mr=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Sv=[502,503,504];async function Wh(i){var r;if(!dv(i))throw new zl(Mr(i),0);if(Sv.includes(i.status))throw new zl(Mr(i),i.status);let n;try{n=await i.json()}catch(u){throw new zr(Mr(u),u)}let o;const l=wv(i);if(l&&l.getTime()>=ip["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new Uh(Mr(n),i.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new Rt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Uh(Mr(n),i.status,n.weak_password.reasons);throw new Z0(Mr(n),i.status||500,o)}const jv=(i,r,n,o)=>{const l={method:i,headers:(r==null?void 0:r.headers)||{}};return i==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),n))};async function se(i,r,n,o){var l;const u=Object.assign({},o==null?void 0:o.headers);u[Bl]||(u[Bl]=ip["2024-01-01"].name),o!=null&&o.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const c=(l=o==null?void 0:o.query)!==null&&l!==void 0?l:{};o!=null&&o.redirectTo&&(c.redirect_to=o.redirectTo);const p=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",m=await Ev(i,r,n+p,{headers:u,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(m):{data:Object.assign({},m),error:null}}async function Ev(i,r,n,o,l,u){const c=jv(r,o,l,u);let p;try{p=await i(n,Object.assign({},c))}catch(m){throw console.error(m),new zl(Mr(m),0)}if(p.ok||await Wh(p),o!=null&&o.noResolveJson)return p;try{return await p.json()}catch(m){await Wh(m)}}function At(i){var r;let n=null;Pv(i)&&(n=Object.assign({},i),i.expires_at||(n.expires_at=lv(i.expires_in)));const o=(r=i.user)!==null&&r!==void 0?r:i;return{data:{session:n,user:o},error:null}}function qh(i){const r=At(i);return!r.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(r.data.weak_password=i.weak_password),r}function wr(i){var r;return{data:{user:(r=i.user)!==null&&r!==void 0?r:i},error:null}}function Nv(i){return{data:i,error:null}}function Cv(i){const{action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:u}=i,c=Rn(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:u},m=Object.assign({},c);return{data:{properties:p,user:m},error:null}}function Vh(i){return i}function Pv(i){return i.access_token&&i.refresh_token&&i.expires_in}const jl=["global","local","others"];class Ov{constructor({url:r="",headers:n={},fetch:o}){this.url=r,this.headers=n,this.fetch=lp(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=jl[0]){if(jl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jl.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ee(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,n={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wr})}catch(o){if(ee(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:n}=r,o=Rn(r,["options"]),l=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(l.new_email=o==null?void 0:o.newEmail,delete l.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Cv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ee(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:wr})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,o,l,u,c,p,m;try{const g={nextPage:null,lastPage:0,total:0},v=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Vh});if(v.error)throw v.error;const w=await v.json(),_=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(m=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(k=>{const N=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(k.split(";")[1].split("=")[1]);g[`${C}Page`]=N}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(ee(g))return{data:{users:[]},error:g};throw g}}async getUserById(r){xn(r);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:wr})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){xn(r);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:wr})}catch(o){if(ee(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,n=!1){xn(r);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:wr})}catch(o){if(ee(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){xn(r.userId);try{const{data:n,error:o}=await se(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:o}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _deleteFactor(r){xn(r.userId),xn(r.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,o,l,u,c,p,m;try{const g={nextPage:null,lastPage:0,total:0},v=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Vh});if(v.error)throw v.error;const w=await v.json(),_=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(m=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(k=>{const N=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(k.split(";")[1].split("=")[1]);g[`${C}Page`]=N}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(ee(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(r){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(ee(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(r){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}}function Hh(i={}){return{getItem:r=>i[r]||null,setItem:(r,n)=>{i[r]=n},removeItem:r=>{delete i[r]}}}const _n={debug:!!(globalThis&&ap()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class up extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Tv extends up{}async function Rv(i,r,n){_n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),_n.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){_n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,l.name);try{return await n()}finally{_n.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,l.name)}}else{if(r===0)throw _n.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new Tv(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(_n.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Av(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cp(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function Iv(i){return parseInt(i,16)}function Lv(i){const r=new TextEncoder().encode(i);return"0x"+Array.from(r,o=>o.toString(16).padStart(2,"0")).join("")}function Dv(i){var r;const{chainId:n,domain:o,expirationTime:l,issuedAt:u=new Date,nonce:c,notBefore:p,requestId:m,resources:g,scheme:v,uri:w,version:_}=i;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((r=i.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const S=cp(i.address),k=v?`${v}://${o}`:o,N=i.statement?`${i.statement}
`:"",C=`${k} wants you to sign in with your Ethereum account:
${S}

${N}`;let L=`URI: ${w}
Version: ${_}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(l&&(L+=`
Expiration Time: ${l.toISOString()}`),p&&(L+=`
Not Before: ${p.toISOString()}`),m&&(L+=`
Request ID: ${m}`),g){let A=`
Resources:`;for(const E of g){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);A+=`
- ${E}`}L+=A}return`${C}
${L}`}class Fe extends Error{constructor({message:r,code:n,cause:o,name:l}){var u;super(r,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=l??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class uo extends Fe{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function $v({error:i,options:r}){var n,o,l;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(r.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Fe({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return u.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const c=window.location.hostname;if(dp(c)){if(u.rp.id!==c)return new Fe({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function Uv({error:i,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Fe({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const o=window.location.hostname;if(dp(o)){if(n.rpId!==o)return new Fe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class Mv{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const Fv=new Mv;function Bv(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:r,user:n,excludeCredentials:o}=i,l=Rn(i,["challenge","user","excludeCredentials"]),u=En(r).buffer,c=Object.assign(Object.assign({},n),{id:En(n.id).buffer}),p=Object.assign(Object.assign({},l),{challenge:u,user:c});if(o&&o.length>0){p.excludeCredentials=new Array(o.length);for(let m=0;m<o.length;m++){const g=o[m];p.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:En(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return p}function zv(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:r,allowCredentials:n}=i,o=Rn(i,["challenge","allowCredentials"]),l=En(r).buffer,u=Object.assign(Object.assign({},o),{challenge:l});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const p=n[c];u.allowCredentials[c]=Object.assign(Object.assign({},p),{id:En(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function Wv(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i;return{id:i.id,rawId:i.id,response:{attestationObject:Wr(new Uint8Array(i.response.attestationObject)),clientDataJSON:Wr(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function qv(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i,o=i.getClientExtensionResults(),l=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Wr(new Uint8Array(l.authenticatorData)),clientDataJSON:Wr(new Uint8Array(l.clientDataJSON)),signature:Wr(new Uint8Array(l.signature)),userHandle:l.userHandle?Wr(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function dp(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Kh(){var i,r;return!!(nt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Vv(i){try{const r=await navigator.credentials.create(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new uo("Browser returned unexpected credential type",r)}:{data:null,error:new uo("Empty credential response",r)}}catch(r){return{data:null,error:$v({error:r,options:i})}}}async function Hv(i){try{const r=await navigator.credentials.get(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new uo("Browser returned unexpected credential type",r)}:{data:null,error:new uo("Empty credential response",r)}}catch(r){return{data:null,error:Uv({error:r,options:i})}}}const Kv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Gv={userVerification:"preferred",hints:["security-key"]};function co(...i){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),o={};for(const l of i)if(l)for(const u in l){const c=l[u];if(c!==void 0)if(Array.isArray(c))o[u]=c;else if(n(c))o[u]=c;else if(r(c)){const p=o[u];r(p)?o[u]=co(p,c):o[u]=co(c)}else o[u]=c}return o}function Jv(i,r){return co(Kv,i,r||{})}function Qv(i,r){return co(Gv,i,r||{})}class Yv{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:o,signal:l},u){try{const{data:c,error:p}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!c)return{data:null,error:p};const m=l??Fv.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:g}=c.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${o}`),g.displayName||(g.displayName=g.name)}switch(c.webauthn.type){case"create":{const g=Jv(c.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:v,error:w}=await Vv({publicKey:g,signal:m});return v?{data:{factorId:r,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const g=Qv(c.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:v,error:w}=await Hv(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:g,signal:m}));return v?{data:{factorId:r,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(c){return ee(c)?{data:null,error:c}:{data:null,error:new zr("Unexpected error in challenge",c)}}}async _verify({challengeId:r,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:o})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}},u){if(!n)return{data:null,error:new Ts("rpId is required for WebAuthn authentication")};try{if(!Kh())return{data:null,error:new zr("Browser does not support WebAuthn",null)};const{data:c,error:p}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:o},signal:l},{request:u});if(!c)return{data:null,error:p};const{webauthn:m}=c;return this._verify({factorId:r,challengeId:c.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:o,credential_response:m.credential_response}})}catch(c){return ee(c)?{data:null,error:c}:{data:null,error:new zr("Unexpected error in authenticate",c)}}}async _register({friendlyName:r,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l},u){if(!n)return{data:null,error:new Ts("rpId is required for WebAuthn registration")};try{if(!Kh())return{data:null,error:new zr("Browser does not support WebAuthn",null)};const{data:c,error:p}=await this._enroll({friendlyName:r});if(!c)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===r&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:p};const{data:m,error:g}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:l},{create:u});return m?this._verify({factorId:c.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:o,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(c){return ee(c)?{data:null,error:c}:{data:null,error:new zr("Unexpected error in register",c)}}}}Av();const Xv={url:G0,storageKey:J0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Q0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gh(i,r,n){return await n()}const bn={};class Rs{get jwks(){var r,n;return(n=(r=bn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=bn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{cachedAt:r})}constructor(r){var n,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rs.nextInstanceID,Rs.nextInstanceID+=1,this.instanceID>0&&nt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},Xv),r);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Ov({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=lp(l.fetch),this.lock=l.lock||Gh,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:nt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Rv:this.lock=Gh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Yv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:ap()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hh(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Hh(this.memoryStorage)),nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sp}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const n=cv(window.location.href);let o="none";if(this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce"),nt()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:u}=await this._getSessionFromURL(n,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),rv(u)){const m=(r=u.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",p),await this._saveSession(c),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ee(n)?{error:n}:{error:new zr("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,o,l;try{const u=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:At}),{data:c,error:p}=u;if(p||!c)return{data:{user:null,session:null},error:p};const m=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(u){if(ee(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(r){var n,o,l;try{let u;if("email"in r){const{email:v,password:w,options:_}=r;let S=null,k=null;this.flowType==="pkce"&&([S,k]=await wn(this.storage,this.storageKey)),u=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:v,password:w,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:S,code_challenge_method:k},xform:At})}else if("phone"in r){const{phone:v,password:w,options:_}=r;u=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(o=_==null?void 0:_.data)!==null&&o!==void 0?o:{},channel:(l=_==null?void 0:_.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:At})}else throw new no("You must provide either an email or phone number and a password");const{data:c,error:p}=u;if(p||!c)return{data:{user:null,session:null},error:p};const m=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(u){if(ee(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:c,options:p}=r;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:qh})}else if("phone"in r){const{phone:u,password:c,options:p}=r;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:qh})}else throw new no("You must provide either an email or phone number and a password");const{data:o,error:l}=n;return l?{data:{user:null,session:null},error:l}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new vn}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(r){var n,o,l,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,o,l,u,c,p,m,g,v,w,_;let S,k;if("message"in r)S=r.message,k=r.signature;else{const{chain:N,wallet:C,statement:L,options:A}=r;let E;if(nt())if(typeof C=="object")E=C;else{const Ee=window;if("ethereum"in Ee&&typeof Ee.ethereum=="object"&&"request"in Ee.ethereum&&typeof Ee.ethereum.request=="function")E=Ee.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=C}const D=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href),K=await E.request({method:"eth_requestAccounts"}).then(Ee=>Ee).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=cp(K[0]);let ae=(o=A==null?void 0:A.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!ae){const Ee=await E.request({method:"eth_chainId"});ae=Iv(Ee)}const xe={domain:D.host,address:J,statement:L,uri:D.href,version:"1",chainId:ae,nonce:(l=A==null?void 0:A.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(c=(u=A==null?void 0:A.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(p=A==null?void 0:A.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=A==null?void 0:A.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=A==null?void 0:A.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=A==null?void 0:A.signInWithEthereum)===null||v===void 0?void 0:v.resources};S=Dv(xe),k=await E.request({method:"personal_sign",params:[Lv(S),J]})}try{const{data:N,error:C}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:k},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=r.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:At});if(C)throw C;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new vn}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:C})}catch(N){if(ee(N))return{data:{user:null,session:null},error:N};throw N}}async signInWithSolana(r){var n,o,l,u,c,p,m,g,v,w,_,S;let k,N;if("message"in r)k=r.message,N=r.signature;else{const{chain:C,wallet:L,statement:A,options:E}=r;let D;if(nt())if(typeof L=="object")D=L;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))D=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=L}const K=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const J=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),A?{statement:A}:null));let ae;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")ae=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)ae=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ae&&"signature"in ae&&(typeof ae.signedMessage=="string"||ae.signedMessage instanceof Uint8Array)&&ae.signature instanceof Uint8Array)k=typeof ae.signedMessage=="string"?ae.signedMessage:new TextDecoder().decode(ae.signedMessage),N=ae.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${K.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(l=(o=E==null?void 0:E.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((c=E==null?void 0:E.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((p=E==null?void 0:E.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((m=E==null?void 0:E.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((g=E==null?void 0:E.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((w=(v=E==null?void 0:E.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...E.signInWithSolana.resources.map(ae=>`- ${ae}`)]:[]].join(`
`);const J=await D.signMessage(new TextEncoder().encode(k),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=J}}try{const{data:C,error:L}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Wr(N)},!((_=r.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=r.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:At});if(L)throw L;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new vn}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:L})}catch(C){if(ee(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(r){const n=await Ur(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(n??"").split("/");try{const{data:u,error:c}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:At});if(await yr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new vn}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:c})}catch(u){if(ee(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(r){try{const{options:n,provider:o,token:l,access_token:u,nonce:c}=r,p=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:At}),{data:m,error:g}=p;return g?{data:{user:null,session:null},error:g}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new vn}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:g})}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(r){var n,o,l,u,c;try{if("email"in r){const{email:p,options:m}=r;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await wn(this.storage,this.storageKey));const{error:w}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(o=m==null?void 0:m.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in r){const{phone:p,options:m}=r,{data:g,error:v}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(u=m==null?void 0:m.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(c=m==null?void 0:m.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:v}}throw new no("You must provide either an email or phone number.")}catch(p){if(ee(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(r){var n,o;try{let l,u;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:c,error:p}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:At});if(p)throw p;if(!c)throw new Error("An error occurred on token verification.");const m=c.session,g=c.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(l){if(ee(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(r){var n,o,l;try{let u=null,c=null;return this.flowType==="pkce"&&([u,c]=await wn(this.storage,this.storageKey)),await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:Nv})}catch(u){if(ee(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;if(o)throw o;if(!n)throw new Rt;const{error:l}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:l}})}catch(r){if(ee(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:o,type:l,options:u}=r,{error:c}=await se(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in r){const{phone:o,type:l,options:u}=r,{data:c,error:p}=await se(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:p}}throw new no("You must provide either an email or phone number and a type")}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Ur(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<_l:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const c=await Ur(this.userStorage,this.storageKey+"-user");c!=null&&c.user?r.user=c.user:r.user=Sl()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};r.user=kv(r.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:wr}):await this._useSession(async n=>{var o,l,u;const{data:c,error:p}=n;if(p)throw p;return!(!((o=c.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:wr})})}catch(n){if(ee(n))return tv(n)&&(await this._removeSession(),await yr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async o=>{const{data:l,error:u}=o;if(u)throw u;if(!l.session)throw new Rt;const c=l.session;let p=null,m=null;this.flowType==="pkce"&&r.email!=null&&([p,m]=await wn(this.storage,this.storageKey));const{data:g,error:v}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:m}),jwt:c.access_token,xform:wr});if(v)throw v;return c.user=g.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(o){if(ee(o))return{data:{user:null},error:o};throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Rt;const n=Date.now()/1e3;let o=n,l=!0,u=null;const{payload:c}=kl(r.access_token);if(c.exp&&(o=c.exp,l=o<=n),l){const{data:p,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:m}=await this._getUser(r.access_token);if(m)throw m;u={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(ee(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var o;if(!r){const{data:c,error:p}=n;if(p)throw p;r=(o=c.session)!==null&&o!==void 0?o:void 0}if(!(r!=null&&r.refresh_token))throw new Rt;const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(r,n){try{if(!nt())throw new so("No browser detected.");if(r.error||r.error_description||r.error_code)throw new so(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $h("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new so("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new $h("No code detected.");const{data:A,error:E}=await this._exchangeCodeForSession(r.code);if(E)throw E;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:u,refresh_token:c,expires_in:p,expires_at:m,token_type:g}=r;if(!u||!p||!c||!g)throw new so("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(p);let _=v+w;m&&(_=parseInt(m));const S=_-v;S*1e3<=Sn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${w}s`);const k=_-w;v-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,_,v):v-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,_,v);const{data:N,error:C}=await this._getUser(u);if(C)throw C;const L={provider_token:o,provider_refresh_token:l,access_token:u,expires_in:w,expires_at:_,refresh_token:c,token_type:g,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:L,redirectType:r.type},error:null}}catch(o){if(ee(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Ur(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return{error:u};const c=(o=l.session)===null||o===void 0?void 0:o.access_token;if(c){const{error:p}=await this.admin.signOut(c,r);if(p&&!(ev(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return r!=="others"&&(await this._removeSession(),await yr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const n=uv(),o={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async n=>{var o,l;try{const{data:{session:u},error:c}=n;if(c)throw c;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await wn(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(ee(u))return{data:null,error:u};throw u}}async getUserIdentities(){var r;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:o,error:l}=await this._useSession(async u=>{var c,p,m,g,v;const{data:w,error:_}=u;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(c=r.options)===null||c===void 0?void 0:c.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",S,{headers:this.headers,jwt:(v=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return nt()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:r.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(ee(o))return{data:{provider:r.provider,url:null},error:o};throw o}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var o;try{const{error:l,data:{session:u}}=n;if(l)throw l;const{options:c,provider:p,token:m,access_token:g,nonce:v}=r,w=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u==null?void 0:u.access_token)!==null&&o!==void 0?o:void 0,body:{provider:p,id_token:m,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:At}),{data:_,error:S}=w;return S?{data:{user:null,session:null},error:S}:!_||!_.session||!_.user?{data:{user:null,session:null},error:new vn}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),{data:_,error:S})}catch(l){if(ee(l))return{data:{user:null,session:null},error:l};throw l}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var o,l;const{data:u,error:c}=n;if(c)throw c;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await fv(async l=>(l>0&&await hv(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:At})),(l,u)=>{const c=200*Math.pow(2,l);return u&&bl(u)&&Date.now()+c-o<Sn})}catch(o){if(this._debug(n,"error",o),ee(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",o),nt()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await Ur(this.storage,this.storageKey);if(l&&this.userStorage){let c=await Ur(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await jn(this.userStorage,this.storageKey+"-user",c)),l.user=(r=c==null?void 0:c.user)!==null&&r!==void 0?r:Sl()}else if(l&&!l.user&&!l.user){const c=await Ur(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(l.user=c.user,await yr(this.storage,this.storageKey+"-user"),await jn(this.storage,this.storageKey,l)):l.user=Sl()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const u=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<_l;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${_l}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),bl(c)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:p}=await this._getUser(l.access_token);!p&&(c!=null&&c.user)?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(o,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var n,o;if(!r)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new mo;const{data:u,error:c}=await this._refreshAccessToken(r);if(c)throw c;if(!u.session)throw new Rt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={data:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(l,"error",u),ee(u)){const c={data:null,error:u};return bl(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,o=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,n)}catch(m){u.push(m)}});if(await Promise.all(c),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const n=Object.assign({},r),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await jn(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const u=zh(l);await jn(this.storage,this.storageKey,u)}else{const l=zh(n);await jn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await yr(this.storage,this.storageKey),await yr(this.storage,this.storageKey+"-code-verifier"),await yr(this.storage,this.storageKey+"-user"),this.userStorage&&await yr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Sn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-r)/Sn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Sn}ms, refresh threshold is ${Fl} ticks`),l<=Fl&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof up)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,o){const l=[`provider=${encodeURIComponent(n)}`];if(o!=null&&o.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,c]=await wn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(p.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);l.push(u.toString())}return o!=null&&o.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;return u?{data:null,error:u}:await se(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _enroll(r){try{return await this._useSession(async n=>{var o,l;const{data:u,error:c}=n;if(c)return{data:null,error:c};const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:m,error:g}=await se(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return g?{data:null,error:g}:(r.factorType==="totp"&&m.type==="totp"&&(!((l=m==null?void 0:m.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return{data:null,error:u};const c=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?Wv(r.webauthn.credential_response):qv(r.webauthn.credential_response)})}:{code:r.code}),{data:p,error:m}=await se(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:c,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),{data:p,error:m})})}catch(n){if(ee(n))return{data:null,error:n};throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return{data:null,error:u};const c=await se(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});if(c.error)return c;const{data:p}=c;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Bv(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:zv(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ee(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(r){const{data:n,error:o}=await this._challenge({factorId:r.factorId});return o?{data:null,error:o}:await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:o},error:l}=await this.getSession();if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=kl(o.access_token);let c=null;u.aal&&(c=u.aal);let p=c;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const g=u.amr||[];return{data:{currentLevel:c,nextLevel:p,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?{data:null,error:l}:o?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):{data:null,error:new Rt}})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return{data:null,error:u};if(!l)return{data:null,error:new Rt};const c=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return c.data&&c.data.redirect_url&&nt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(o){if(ee(o))return{data:null,error:o};throw o}}async _denyAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return{data:null,error:u};if(!l)return{data:null,error:new Rt};const c=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return c.data&&c.data.redirect_url&&nt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(o){if(ee(o))return{data:null,error:o};throw o}}async fetchJwk(r,n={keys:[]}){let o=n.keys.find(p=>p.kid===r);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(p=>p.kid===r),o&&this.jwks_cached_at+X0>l)return o;const{data:u,error:c}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,o=u.keys.find(p=>p.kid===r),!o)?null:o}async getClaims(r,n={}){try{let o=r;if(!o){const{data:S,error:k}=await this.getSession();if(k||!S.session)return{data:null,error:k};o=S.session.access_token}const{header:l,payload:u,signature:c,raw:{header:p,payload:m}}=kl(o);n!=null&&n.allowExpired||xv(u.exp);const g=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!g){const{error:S}=await this.getUser(o);if(S)throw S;return{data:{claims:u,header:l,signature:c},error:null}}const v=_v(l.alg),w=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,c,av(`${p}.${m}`)))throw new Wl("Invalid JWT signature");return{data:{claims:u,header:l,signature:c},error:null}}catch(o){if(ee(o))return{data:null,error:o};throw o}}}Rs.nextInstanceID=0;const Zv=Rs;class ew extends Zv{constructor(r){super(r)}}class tw{constructor(r,n,o){var l,u,c;this.supabaseUrl=r,this.supabaseKey=n;const p=K0(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,g={db:M0,realtime:B0,auth:Object.assign(Object.assign({},F0),{storageKey:m}),global:U0},v=H0(o??{},g);this.storageKey=(l=v.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=v.global.headers)!==null&&u!==void 0?u:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(w,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=v.auth)!==null&&c!==void 0?c:{},this.headers,v.global.fetch),this.fetch=q0(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new Gy(new URL("rest/v1",p).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new L0(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new My(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,o)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,n;if(this.accessToken)return await this.accessToken();const{data:o}=await this.auth.getSession();return(n=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:o,storage:l,userStorage:u,storageKey:c,flowType:p,lock:m,debug:g},v,w){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ew({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),v),storageKey:c,autoRefreshToken:r,persistSession:n,detectSessionInUrl:o,storage:l,userStorage:u,flowType:p,lock:m,debug:g,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new d0(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,o)=>{this._handleTokenChanged(n,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(r,n,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rw=(i,r,n)=>new tw(i,r,n);function nw(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const r=i.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}nw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sw="https://lnukcsvalpqqgtfgqtfa.supabase.co",iw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxudWtjc3ZhbHBxcWd0ZmdxdGZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxNzQ3ODAsImV4cCI6MjA3Nzc1MDc4MH0.0HGkqX4ODGM8oltYld9oBR6of-ohIlyqZhPmvm8BCx8",le=rw(sw,iw),hp=I.createContext(void 0);function ow({children:i}){const[r,n]=I.useState(null),[o,l]=I.useState(null),[u,c]=I.useState(!0);I.useEffect(()=>{async function w(){c(!0);try{const{data:{user:S}}=await le.auth.getUser();if(n(S),S){const{data:k}=await le.from("user_profiles").select("*").eq("id",S.id).maybeSingle();l(k)}}finally{c(!1)}}w();const{data:{subscription:_}}=le.auth.onAuthStateChange((S,k)=>{n((k==null?void 0:k.user)||null),k!=null&&k.user?le.from("user_profiles").select("*").eq("id",k.user.id).maybeSingle().then(({data:N})=>l(N)):l(null)});return()=>_.unsubscribe()},[]);const p=async(w,_)=>{const{error:S}=await le.auth.signInWithPassword({email:w,password:_});if(S)throw S},m=async(w,_,S)=>{const{error:k}=await le.auth.signUp({email:w,password:_,options:{data:{full_name:S}}});if(k)throw k},g=async()=>{const{error:w}=await le.auth.signOut();if(w)throw w},v=(o==null?void 0:o.role)==="admin";return h.jsx(hp.Provider,{value:{user:r,profile:o,loading:u,signIn:p,signUp:m,signOut:g,isAdmin:v},children:i})}function Ds(){const i=I.useContext(hp);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i}/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(i,r)=>{const n=I.forwardRef(({color:o="currentColor",size:l=24,strokeWidth:u=2,absoluteStrokeWidth:c,className:p="",children:m,...g},v)=>I.createElement("svg",{ref:v,...aw,width:l,height:l,stroke:o,strokeWidth:c?Number(u)*24/Number(l):u,className:["lucide",`lucide-${lw(i)}`,p].join(" "),...g},[...r.map(([w,_])=>I.createElement(w,_)),...Array.isArray(m)?m:[m]]));return n.displayName=`${i}`,n};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=be("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=be("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=be("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=be("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=be("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=be("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=be("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=be("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=be("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=be("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=be("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function jw(){const{user:i,profile:r,loading:n,signOut:o,isAdmin:l}=Ds(),u=Tn();if(n)return h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"text-xl text-gray-600",children:"Loading..."})});if(!i)return h.jsx(vy,{to:"/login"});const c=[{name:"Dashboard",href:"/",icon:hw},{name:"Products",href:"/products",icon:fp},{name:"Categories",href:"/categories",icon:ww},{name:"Suppliers",href:"/suppliers",icon:Sw},{name:"Stock Movements",href:"/stock-movements",icon:lu},{name:"Low Stock Alerts",href:"/alerts",icon:As},{name:"Reports",href:"/reports",icon:mp}];return l&&c.push({name:"User Management",href:"/users",icon:_w}),h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsxs("div",{className:"fixed inset-y-0 left-0 w-64 bg-white border-r border-gray-200",children:[h.jsxs("div",{className:"flex items-center px-6 py-4 border-b border-gray-200",children:[h.jsx($s,{className:"w-8 h-8 text-indigo-600 mr-3"}),h.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Inventory System"})]}),h.jsx("nav",{className:"px-4 py-4 space-y-1",children:c.map(p=>{const m=p.icon,g=u.pathname===p.href;return h.jsxs(Ql,{to:p.href,className:`flex items-center px-4 py-3 rounded-lg transition ${g?"bg-indigo-50 text-indigo-600":"text-gray-700 hover:bg-gray-100"}`,children:[h.jsx(m,{className:"w-5 h-5 mr-3"}),h.jsx("span",{className:"font-medium",children:p.name})]},p.name)})}),h.jsxs("div",{className:"absolute bottom-0 w-64 border-t border-gray-200 p-4",children:[h.jsxs("div",{className:"px-4 py-2 mb-2",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:(r==null?void 0:r.full_name)||"User"}),h.jsx("p",{className:"text-xs text-gray-500",children:(r==null?void 0:r.role)==="admin"?"Administrator":"User"})]}),h.jsxs("button",{onClick:o,className:"flex items-center w-full px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition",children:[h.jsx(fw,{className:"w-5 h-5 mr-3"}),h.jsx("span",{className:"font-medium",children:"Sign Out"})]})]})]}),h.jsx("div",{className:"ml-64 p-8",children:h.jsx(wy,{})})]})}function Ew(){const[i,r]=I.useState(!0),[n,o]=I.useState(""),[l,u]=I.useState(""),[c,p]=I.useState(""),[m,g]=I.useState(""),[v,w]=I.useState(!1),{signIn:_,signUp:S}=Ds(),k=Jl(),N=async C=>{C.preventDefault(),g(""),w(!0);try{i?(await _(n,l),k("/")):(await S(n,l,c),g("Account created! Please check your email to verify your account, then login."),r(!0))}catch(L){g(L.message||"An error occurred")}finally{w(!1)}};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[h.jsxs("div",{className:"flex items-center justify-center mb-6",children:[h.jsx($s,{className:"w-12 h-12 text-indigo-600 mr-3"}),h.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Inventory System"})]}),h.jsx("h2",{className:"text-2xl font-semibold text-center mb-6 text-gray-700",children:i?"Sign In":"Create Account"}),m&&h.jsx("div",{className:`p-3 mb-4 rounded ${m.includes("created")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:m}),h.jsxs("form",{onSubmit:N,className:"space-y-4",children:[!i&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),h.jsx("input",{type:"text",value:c,onChange:C=>p(C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("input",{type:"email",value:n,onChange:C=>o(C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),h.jsx("input",{type:"password",value:l,onChange:C=>u(C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,minLength:6})]}),h.jsx("button",{type:"submit",disabled:v,className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-indigo-700 transition disabled:opacity-50",children:v?"Processing...":i?"Sign In":"Create Account"})]}),h.jsx("div",{className:"mt-4 text-center",children:h.jsx("button",{onClick:()=>{r(!i),g("")},className:"text-indigo-600 hover:text-indigo-700 text-sm font-medium",children:i?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})}function Nw(){const[i,r]=I.useState({totalProducts:0,totalValue:0,lowStockItems:0,totalStock:0}),[n,o]=I.useState([]),[l,u]=I.useState(!0);I.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:m}=await le.from("products").select("*").eq("is_active",!0);if(m){const g=m.length,v=m.reduce((S,k)=>S+k.current_stock*(k.cost_price||0),0),w=m.reduce((S,k)=>S+k.current_stock,0),_=m.filter(S=>S.current_stock<=S.min_stock);r({totalProducts:g,totalValue:v,lowStockItems:_.length,totalStock:w}),o(_.slice(0,5))}}catch(m){console.error("Error loading dashboard data:",m)}finally{u(!1)}};if(l)return h.jsx("div",{className:"text-center py-8",children:"Loading dashboard..."});const p=[{name:"Total Products",value:i.totalProducts,icon:$s,color:"bg-blue-500"},{name:"Inventory Value",value:`$${i.totalValue.toFixed(2)}`,icon:pp,color:"bg-green-500"},{name:"Low Stock Items",value:i.lowStockItems,icon:As,color:"bg-red-500"},{name:"Total Stock Units",value:i.totalStock,icon:fp,color:"bg-purple-500"}];return h.jsxs("div",{children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard"}),h.jsx("p",{className:"text-gray-600",children:"Overview of your inventory management system"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:p.map(m=>{const g=m.icon;return h.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:`${m.color} p-3 rounded-lg`,children:h.jsx(g,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("p",{className:"text-sm text-gray-600",children:m.name}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.value})]})]})},m.name)})}),h.jsxs("div",{className:"bg-white rounded-lg shadow",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(As,{className:"w-6 h-6 text-red-500 mr-3"}),h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Low Stock Alerts"})]}),h.jsx(Ql,{to:"/alerts",className:"text-indigo-600 hover:text-indigo-700 font-medium text-sm",children:"View All"})]}),n.length===0?h.jsx("div",{className:"p-6 text-center text-gray-500",children:"No low stock items at this time."}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"SKU"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product Name"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Current Stock"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Min Stock"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map(m=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:m.sku}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:m.name}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:m.current_stock}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:m.min_stock}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:m.current_stock===0?"Out of Stock":"Low Stock"})})]},m.id))})]})})]})]})}function Cw({onScan:i,onClose:r}){const[n,o]=I.useState(""),[l,u]=I.useState("manual"),[c,p]=I.useState(null),m=I.useRef(null),g=I.useRef(null),v=I.useRef(null);I.useEffect(()=>(l==="camera"?w():_(),()=>{_()}),[l]);const w=async()=>{try{p(null);const N=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});m.current&&(m.current.srcObject=N,g.current=N,m.current.onloadedmetadata=()=>{var C;(C=m.current)==null||C.play(),S()})}catch(N){console.error("Camera access error:",N),p("Unable to access camera. Please use manual input or check camera permissions."),u("manual")}},_=()=>{g.current&&(g.current.getTracks().forEach(N=>N.stop()),g.current=null),v.current&&(clearInterval(v.current),v.current=null)},S=()=>{if("BarcodeDetector"in window){const N=new window.BarcodeDetector({formats:["ean_13","ean_8","code_128","code_39","qr_code","upc_a","upc_e"]});v.current=window.setInterval(async()=>{if(m.current&&m.current.readyState===m.current.HAVE_ENOUGH_DATA)try{const C=await N.detect(m.current);if(C.length>0){const L=C[0].rawValue;_(),i(L)}}catch(C){console.error("Barcode detection error:",C)}},100)}else p("Barcode scanning not supported in this browser. Please use manual input."),u("manual")},k=N=>{N.preventDefault(),n.trim()&&i(n.trim())};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[h.jsx("h2",{className:"text-xl font-bold",children:"Scan Barcode"}),h.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:h.jsx(Us,{className:"h-6 w-6"})})]}),h.jsxs("div",{className:"p-4",children:[c&&h.jsx("div",{className:"mb-4 bg-yellow-50 border border-yellow-200 text-yellow-700 px-4 py-3 rounded",children:c}),h.jsxs("div",{className:"flex gap-2 mb-4",children:[h.jsxs("button",{onClick:()=>u("camera"),className:`flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-lg ${l==="camera"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[h.jsx(uw,{className:"h-5 w-5"}),"Camera Scan"]}),h.jsxs("button",{onClick:()=>u("manual"),className:`flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-lg ${l==="manual"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[h.jsx(dw,{className:"h-5 w-5"}),"Manual Input"]})]}),l==="camera"?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"4/3"},children:[h.jsx("video",{ref:m,className:"w-full h-full object-cover",playsInline:!0}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsx("div",{className:"border-2 border-white w-64 h-32 rounded-lg"})})]}),h.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Position the barcode within the frame. Scanning will happen automatically."})]}):h.jsxs("form",{onSubmit:k,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter Barcode Manually"}),h.jsx("input",{type:"text",value:n,onChange:N=>o(N.target.value),placeholder:"Scan or type barcode here...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",autoFocus:!0}),h.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"You can also use a USB barcode scanner - just scan the barcode and press Enter"})]}),h.jsx("button",{type:"submit",disabled:!n.trim(),className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed font-medium",children:"Use This Barcode"})]})]})]})})}function Pw(){const[i,r]=I.useState([]),[n,o]=I.useState([]),[l,u]=I.useState([]),[c,p]=I.useState(!0),[m,g]=I.useState(!1),[v,w]=I.useState(null),[_,S]=I.useState(""),[k,N]=I.useState(""),[C,L]=I.useState(!1),{user:A}=Ds(),[E,D]=I.useState({sku:"",name:"",description:"",category_id:"",supplier_id:"",cost_price:"",selling_price:"",current_stock:"0",min_stock:"0",manufacturer:"",warehouse_location:"",weight:"",dimensions:"",barcode:""});I.useEffect(()=>{K()},[]);const K=async()=>{try{const[$,B,oe]=await Promise.all([le.from("products").select("*").order("created_at",{ascending:!1}),le.from("categories").select("*").order("name"),le.from("suppliers").select("*").order("name")]);$.data&&r($.data),B.data&&o(B.data),oe.data&&u(oe.data)}catch($){console.error("Error loading data:",$)}finally{p(!1)}},J=async $=>{$.preventDefault();const B={...E,cost_price:E.cost_price?parseFloat(E.cost_price):null,selling_price:E.selling_price?parseFloat(E.selling_price):null,current_stock:parseInt(E.current_stock)||0,min_stock:parseInt(E.min_stock)||0,weight:E.weight?parseFloat(E.weight):null,category_id:E.category_id||null,supplier_id:E.supplier_id||null};try{if(v){const{error:oe}=await le.from("products").update(B).eq("id",v.id);if(oe)throw oe}else{const{error:oe}=await le.from("products").insert([B]);if(oe)throw oe;if(B.current_stock>0&&A){const{data:he}=await le.from("products").select("*").eq("sku",E.sku).maybeSingle();he&&await le.from("stock_movements").insert([{product_id:he.id,movement_type:"incoming",quantity:B.current_stock,previous_stock:0,new_stock:B.current_stock,user_id:A.id,reason:"Initial stock"}])}}g(!1),w(null),Ee(),K()}catch(oe){alert("Error saving product: "+oe.message)}},ae=async $=>{if(confirm("Are you sure you want to delete this product?"))try{const{error:B}=await le.from("products").delete().eq("id",$);if(B)throw B;K()}catch(B){alert("Error deleting product: "+B.message)}},xe=$=>{var B,oe,he;w($),D({sku:$.sku,name:$.name,description:$.description||"",category_id:$.category_id||"",supplier_id:$.supplier_id||"",cost_price:((B=$.cost_price)==null?void 0:B.toString())||"",selling_price:((oe=$.selling_price)==null?void 0:oe.toString())||"",current_stock:$.current_stock.toString(),min_stock:$.min_stock.toString(),manufacturer:$.manufacturer||"",warehouse_location:$.warehouse_location||"",weight:((he=$.weight)==null?void 0:he.toString())||"",dimensions:$.dimensions||"",barcode:$.barcode||""}),g(!0)},Ee=()=>{D({sku:"",name:"",description:"",category_id:"",supplier_id:"",cost_price:"",selling_price:"",current_stock:"0",min_stock:"0",manufacturer:"",warehouse_location:"",weight:"",dimensions:"",barcode:""})},qe=async $=>{L(!1);const{data:B}=await le.from("products").select("*").eq("barcode",$).maybeSingle();B?xe(B):D({...E,barcode:$})},kt=i.filter($=>{const B=$.name.toLowerCase().includes(_.toLowerCase())||$.sku.toLowerCase().includes(_.toLowerCase())||$.barcode&&$.barcode.toLowerCase().includes(_.toLowerCase()),oe=!k||$.category_id===k;return B&&oe});return c?h.jsx("div",{className:"text-center py-8",children:"Loading products..."}):h.jsxs("div",{children:[h.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Products"}),h.jsx("p",{className:"text-gray-600",children:"Manage your inventory products"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>L(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition flex items-center",children:[h.jsx(Jh,{className:"w-5 h-5 mr-2"}),"Scan Barcode"]}),h.jsxs("button",{onClick:()=>{w(null),Ee(),g(!0)},className:"bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-indigo-700 transition flex items-center",children:[h.jsx(go,{className:"w-5 h-5 mr-2"}),"Add Product"]})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6 flex gap-4",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(gw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),h.jsx("input",{type:"text",placeholder:"Search by name, SKU, or barcode...",value:_,onChange:$=>S($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),h.jsxs("select",{value:k,onChange:$=>N($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[h.jsx("option",{value:"",children:"All Categories"}),n.map($=>h.jsx("option",{value:$.id,children:$.name},$.id))]})]}),h.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"SKU"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product Name"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Stock"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cost"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Location"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200",children:kt.map($=>{var he,Ue;const B=n.find(_e=>_e.id===$.category_id),oe=$.current_stock<=$.min_stock;return h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:$.sku}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:$.name}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:(B==null?void 0:B.name)||"-"}),h.jsxs("td",{className:"px-6 py-4 text-sm",children:[h.jsx("span",{className:`font-medium ${oe?"text-red-600":"text-gray-900"}`,children:$.current_stock}),h.jsxs("span",{className:"text-gray-500 text-xs ml-1",children:["/ ",$.min_stock]})]}),h.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["$",((he=$.cost_price)==null?void 0:he.toFixed(2))||"0.00"]}),h.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["$",((Ue=$.selling_price)==null?void 0:Ue.toFixed(2))||"0.00"]}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:$.warehouse_location||"-"}),h.jsx("td",{className:"px-6 py-4 text-sm",children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>xe($),className:"text-indigo-600 hover:text-indigo-900",children:h.jsx(ou,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>ae($.id),className:"text-red-600 hover:text-red-900",children:h.jsx(au,{className:"w-4 h-4"})})]})})]},$.id)})})]})})}),m&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:v?"Edit Product":"Add New Product"}),h.jsx("button",{onClick:()=>g(!1),children:h.jsx(Us,{className:"w-6 h-6 text-gray-400 hover:text-gray-600"})})]}),h.jsxs("form",{onSubmit:J,className:"p-6 space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU*"}),h.jsx("input",{type:"text",value:E.sku,onChange:$=>D({...E,sku:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Barcode"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",value:E.barcode,onChange:$=>D({...E,barcode:$.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Scan or enter barcode"}),h.jsx("button",{type:"button",onClick:()=>L(!0),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",title:"Scan barcode",children:h.jsx(Jh,{className:"w-5 h-5"})})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name*"}),h.jsx("input",{type:"text",value:E.name,onChange:$=>D({...E,name:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),h.jsx("textarea",{value:E.description,onChange:$=>D({...E,description:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:3})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),h.jsxs("select",{value:E.category_id,onChange:$=>D({...E,category_id:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[h.jsx("option",{value:"",children:"Select Category"}),n.map($=>h.jsx("option",{value:$.id,children:$.name},$.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),h.jsxs("select",{value:E.supplier_id,onChange:$=>D({...E,supplier_id:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[h.jsx("option",{value:"",children:"Select Supplier"}),l.map($=>h.jsx("option",{value:$.id,children:$.name},$.id))]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost Price"}),h.jsx("input",{type:"number",step:"0.01",value:E.cost_price,onChange:$=>D({...E,cost_price:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Selling Price"}),h.jsx("input",{type:"number",step:"0.01",value:E.selling_price,onChange:$=>D({...E,selling_price:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Stock*"}),h.jsx("input",{type:"number",value:E.current_stock,onChange:$=>D({...E,current_stock:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Stock Level*"}),h.jsx("input",{type:"number",value:E.min_stock,onChange:$=>D({...E,min_stock:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manufacturer"}),h.jsx("input",{type:"text",value:E.manufacturer,onChange:$=>D({...E,manufacturer:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Warehouse Location"}),h.jsx("input",{type:"text",value:E.warehouse_location,onChange:$=>D({...E,warehouse_location:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (kg)"}),h.jsx("input",{type:"number",step:"0.01",value:E.weight,onChange:$=>D({...E,weight:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dimensions"}),h.jsx("input",{type:"text",placeholder:"e.g., 15x12x10cm",value:E.dimensions,onChange:$=>D({...E,dimensions:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"submit",className:"flex-1 bg-indigo-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-indigo-700 transition",children:v?"Update Product":"Add Product"}),h.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 bg-gray-200 text-gray-700 py-2 px-4 rounded-lg font-medium hover:bg-gray-300 transition",children:"Cancel"})]})]})]})}),C&&h.jsx(Cw,{onScan:qe,onClose:()=>L(!1)})]})}function Ow(){const[i,r]=I.useState([]),[n,o]=I.useState(!1),[l,u]=I.useState(null),[c,p]=I.useState({name:"",description:""});I.useEffect(()=>{m()},[]);const m=async()=>{const{data:w}=await le.from("categories").select("*").order("name");w&&r(w)},g=async w=>{w.preventDefault();try{l?await le.from("categories").update(c).eq("id",l.id):await le.from("categories").insert([c]),o(!1),u(null),p({name:"",description:""}),m()}catch(_){alert("Error: "+_.message)}},v=async w=>{confirm("Delete this category?")&&(await le.from("categories").delete().eq("id",w),m())};return h.jsxs("div",{children:[h.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Categories"}),h.jsx("p",{className:"text-gray-600",children:"Manage product categories"})]}),h.jsxs("button",{onClick:()=>{u(null),p({name:"",description:""}),o(!0)},className:"bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-indigo-700 transition flex items-center",children:[h.jsx(go,{className:"w-5 h-5 mr-2"}),"Add Category"]})]}),h.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map(w=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:w.name}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:w.description||"-"}),h.jsx("td",{className:"px-6 py-4 text-sm",children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>{u(w),p({name:w.name,description:w.description||""}),o(!0)},className:"text-indigo-600 hover:text-indigo-900",children:h.jsx(ou,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>v(w.id),className:"text-red-600 hover:text-red-900",children:h.jsx(au,{className:"w-4 h-4"})})]})})]},w.id))})]})}),n&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[h.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[h.jsx("h2",{className:"text-xl font-bold",children:l?"Edit Category":"Add Category"}),h.jsx("button",{onClick:()=>o(!1),children:h.jsx(Us,{className:"w-6 h-6 text-gray-400"})})]}),h.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name*"}),h.jsx("input",{type:"text",value:c.name,onChange:w=>p({...c,name:w.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),h.jsx("textarea",{value:c.description,onChange:w=>p({...c,description:w.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",rows:3})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{type:"submit",className:"flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700",children:l?"Update":"Add"}),h.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 bg-gray-200 py-2 rounded-lg",children:"Cancel"})]})]})]})})]})}function Tw(){const[i,r]=I.useState([]),[n,o]=I.useState(!1),[l,u]=I.useState(null),[c,p]=I.useState({name:"",contact_person:"",email:"",phone:"",address:"",notes:""});I.useEffect(()=>{m()},[]);const m=async()=>{const{data:_}=await le.from("suppliers").select("*").order("name");_&&r(_)},g=async _=>{_.preventDefault();try{l?await le.from("suppliers").update(c).eq("id",l.id):await le.from("suppliers").insert([c]),o(!1),u(null),w(),m()}catch(S){alert("Error: "+S.message)}},v=async _=>{confirm("Delete this supplier?")&&(await le.from("suppliers").delete().eq("id",_),m())},w=()=>{p({name:"",contact_person:"",email:"",phone:"",address:"",notes:""})};return h.jsxs("div",{children:[h.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Suppliers"}),h.jsx("p",{className:"text-gray-600",children:"Manage your suppliers"})]}),h.jsxs("button",{onClick:()=>{u(null),w(),o(!0)},className:"bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-indigo-700 transition flex items-center",children:[h.jsx(go,{className:"w-5 h-5 mr-2"}),"Add Supplier"]})]}),h.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Contact"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Phone"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map(_=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:_.name}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:_.contact_person||"-"}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:_.email||"-"}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:_.phone||"-"}),h.jsx("td",{className:"px-6 py-4 text-sm",children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>{u(_),p({name:_.name,contact_person:_.contact_person||"",email:_.email||"",phone:_.phone||"",address:_.address||"",notes:_.notes||""}),o(!0)},className:"text-indigo-600 hover:text-indigo-900",children:h.jsx(ou,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>v(_.id),className:"text-red-600 hover:text-red-900",children:h.jsx(au,{className:"w-4 h-4"})})]})})]},_.id))})]})}),n&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[h.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[h.jsx("h2",{className:"text-xl font-bold",children:l?"Edit Supplier":"Add Supplier"}),h.jsx("button",{onClick:()=>o(!1),children:h.jsx(Us,{className:"w-6 h-6 text-gray-400"})})]}),h.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name*"}),h.jsx("input",{type:"text",value:c.name,onChange:_=>p({...c,name:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),h.jsx("input",{type:"text",value:c.contact_person,onChange:_=>p({...c,contact_person:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),h.jsx("input",{type:"text",value:c.phone,onChange:_=>p({...c,phone:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("input",{type:"email",value:c.email,onChange:_=>p({...c,email:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),h.jsx("textarea",{value:c.address,onChange:_=>p({...c,address:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",rows:2})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),h.jsx("textarea",{value:c.notes,onChange:_=>p({...c,notes:_.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",rows:2})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{type:"submit",className:"flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700",children:l?"Update":"Add"}),h.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 bg-gray-200 py-2 rounded-lg",children:"Cancel"})]})]})]})})]})}function Dt(i){const r=Object.prototype.toString.call(i);return i instanceof Date||typeof i=="object"&&r==="[object Date]"?new i.constructor(+i):typeof i=="number"||r==="[object Number]"||typeof i=="string"||r==="[object String]"?new Date(i):new Date(NaN)}function qr(i,r){return i instanceof Date?new i.constructor(r):new Date(r)}const gp=6048e5,Rw=864e5;let Aw={};function yo(){return Aw}function Is(i,r){var p,m,g,v;const n=yo(),o=(r==null?void 0:r.weekStartsOn)??((m=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,l=Dt(i),u=l.getDay(),c=(u<o?7:0)+u-o;return l.setDate(l.getDate()-c),l.setHours(0,0,0,0),l}function ho(i){return Is(i,{weekStartsOn:1})}function yp(i){const r=Dt(i),n=r.getFullYear(),o=qr(i,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const l=ho(o),u=qr(i,0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);const c=ho(u);return r.getTime()>=l.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Qh(i){const r=Dt(i);return r.setHours(0,0,0,0),r}function Yh(i){const r=Dt(i),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+i-+n}function Iw(i,r){const n=Qh(i),o=Qh(r),l=+n-Yh(n),u=+o-Yh(o);return Math.round((l-u)/Rw)}function Lw(i){const r=yp(i),n=qr(i,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),ho(n)}function Dw(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function $w(i){if(!Dw(i)&&typeof i!="number")return!1;const r=Dt(i);return!isNaN(Number(r))}function Uw(i){const r=Dt(i),n=qr(i,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Mw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fw=(i,r,n)=>{let o;const l=Mw[i];return typeof l=="string"?o=l:r===1?o=l.one:o=l.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function Nl(i){return(r={})=>{const n=r.width?String(r.width):i.defaultWidth;return i.formats[n]||i.formats[i.defaultWidth]}}const Bw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ww={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qw={date:Nl({formats:Bw,defaultWidth:"full"}),time:Nl({formats:zw,defaultWidth:"full"}),dateTime:Nl({formats:Ww,defaultWidth:"full"})},Vw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Hw=(i,r,n,o)=>Vw[i];function _s(i){return(r,n)=>{const o=n!=null&&n.context?String(n.context):"standalone";let l;if(o==="formatting"&&i.formattingValues){const c=i.defaultFormattingWidth||i.defaultWidth,p=n!=null&&n.width?String(n.width):c;l=i.formattingValues[p]||i.formattingValues[c]}else{const c=i.defaultWidth,p=n!=null&&n.width?String(n.width):i.defaultWidth;l=i.values[p]||i.values[c]}const u=i.argumentCallback?i.argumentCallback(r):r;return l[u]}}const Kw={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qw={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Yw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Xw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zw=(i,r)=>{const n=Number(i),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ex={ordinalNumber:Zw,era:_s({values:Kw,defaultWidth:"wide"}),quarter:_s({values:Gw,defaultWidth:"wide",argumentCallback:i=>i-1}),month:_s({values:Jw,defaultWidth:"wide"}),day:_s({values:Qw,defaultWidth:"wide"}),dayPeriod:_s({values:Yw,defaultWidth:"wide",formattingValues:Xw,defaultFormattingWidth:"wide"})};function bs(i){return(r,n={})=>{const o=n.width,l=o&&i.matchPatterns[o]||i.matchPatterns[i.defaultMatchWidth],u=r.match(l);if(!u)return null;const c=u[0],p=o&&i.parsePatterns[o]||i.parsePatterns[i.defaultParseWidth],m=Array.isArray(p)?rx(p,w=>w.test(c)):tx(p,w=>w.test(c));let g;g=i.valueCallback?i.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const v=r.slice(c.length);return{value:g,rest:v}}}function tx(i,r){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&r(i[n]))return n}function rx(i,r){for(let n=0;n<i.length;n++)if(r(i[n]))return n}function nx(i){return(r,n={})=>{const o=r.match(i.matchPattern);if(!o)return null;const l=o[0],u=r.match(i.parsePattern);if(!u)return null;let c=i.valueCallback?i.valueCallback(u[0]):u[0];c=n.valueCallback?n.valueCallback(c):c;const p=r.slice(l.length);return{value:c,rest:p}}}const sx=/^(\d+)(th|st|nd|rd)?/i,ix=/\d+/i,ox={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ax={any:[/^b/i,/^(a|c)/i]},lx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ux={any:[/1/i,/2/i,/3/i,/4/i]},cx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},px={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gx={ordinalNumber:nx({matchPattern:sx,parsePattern:ix,valueCallback:i=>parseInt(i,10)}),era:bs({matchPatterns:ox,defaultMatchWidth:"wide",parsePatterns:ax,defaultParseWidth:"any"}),quarter:bs({matchPatterns:lx,defaultMatchWidth:"wide",parsePatterns:ux,defaultParseWidth:"any",valueCallback:i=>i+1}),month:bs({matchPatterns:cx,defaultMatchWidth:"wide",parsePatterns:dx,defaultParseWidth:"any"}),day:bs({matchPatterns:hx,defaultMatchWidth:"wide",parsePatterns:fx,defaultParseWidth:"any"}),dayPeriod:bs({matchPatterns:px,defaultMatchWidth:"any",parsePatterns:mx,defaultParseWidth:"any"})},yx={code:"en-US",formatDistance:Fw,formatLong:qw,formatRelative:Hw,localize:ex,match:gx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vx(i){const r=Dt(i);return Iw(r,Uw(r))+1}function wx(i){const r=Dt(i),n=+ho(r)-+Lw(r);return Math.round(n/gp)+1}function vp(i,r){var v,w,_,S;const n=Dt(i),o=n.getFullYear(),l=yo(),u=(r==null?void 0:r.firstWeekContainsDate)??((w=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??l.firstWeekContainsDate??((S=(_=l.locale)==null?void 0:_.options)==null?void 0:S.firstWeekContainsDate)??1,c=qr(i,0);c.setFullYear(o+1,0,u),c.setHours(0,0,0,0);const p=Is(c,r),m=qr(i,0);m.setFullYear(o,0,u),m.setHours(0,0,0,0);const g=Is(m,r);return n.getTime()>=p.getTime()?o+1:n.getTime()>=g.getTime()?o:o-1}function xx(i,r){var p,m,g,v;const n=yo(),o=(r==null?void 0:r.firstWeekContainsDate)??((m=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,l=vp(i,r),u=qr(i,0);return u.setFullYear(l,0,o),u.setHours(0,0,0,0),Is(u,r)}function _x(i,r){const n=Dt(i),o=+Is(n,r)-+xx(n,r);return Math.round(o/gp)+1}function we(i,r){const n=i<0?"-":"",o=Math.abs(i).toString().padStart(r,"0");return n+o}const vr={y(i,r){const n=i.getFullYear(),o=n>0?n:1-n;return we(r==="yy"?o%100:o,r.length)},M(i,r){const n=i.getMonth();return r==="M"?String(n+1):we(n+1,2)},d(i,r){return we(i.getDate(),r.length)},a(i,r){const n=i.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(i,r){return we(i.getHours()%12||12,r.length)},H(i,r){return we(i.getHours(),r.length)},m(i,r){return we(i.getMinutes(),r.length)},s(i,r){return we(i.getSeconds(),r.length)},S(i,r){const n=r.length,o=i.getMilliseconds(),l=Math.trunc(o*Math.pow(10,n-3));return we(l,r.length)}},kn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Xh={G:function(i,r,n){const o=i.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(i,r,n){if(r==="yo"){const o=i.getFullYear(),l=o>0?o:1-o;return n.ordinalNumber(l,{unit:"year"})}return vr.y(i,r)},Y:function(i,r,n,o){const l=vp(i,o),u=l>0?l:1-l;if(r==="YY"){const c=u%100;return we(c,2)}return r==="Yo"?n.ordinalNumber(u,{unit:"year"}):we(u,r.length)},R:function(i,r){const n=yp(i);return we(n,r.length)},u:function(i,r){const n=i.getFullYear();return we(n,r.length)},Q:function(i,r,n){const o=Math.ceil((i.getMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return we(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(i,r,n){const o=Math.ceil((i.getMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return we(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(i,r,n){const o=i.getMonth();switch(r){case"M":case"MM":return vr.M(i,r);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(i,r,n){const o=i.getMonth();switch(r){case"L":return String(o+1);case"LL":return we(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(i,r,n,o){const l=_x(i,o);return r==="wo"?n.ordinalNumber(l,{unit:"week"}):we(l,r.length)},I:function(i,r,n){const o=wx(i);return r==="Io"?n.ordinalNumber(o,{unit:"week"}):we(o,r.length)},d:function(i,r,n){return r==="do"?n.ordinalNumber(i.getDate(),{unit:"date"}):vr.d(i,r)},D:function(i,r,n){const o=vx(i);return r==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):we(o,r.length)},E:function(i,r,n){const o=i.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(i,r,n,o){const l=i.getDay(),u=(l-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(u);case"ee":return we(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});case"eeee":default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(i,r,n,o){const l=i.getDay(),u=(l-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(u);case"cc":return we(u,r.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});case"cccc":default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(i,r,n){const o=i.getDay(),l=o===0?7:o;switch(r){case"i":return String(l);case"ii":return we(l,r.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(i,r,n){const l=i.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(i,r,n){const o=i.getHours();let l;switch(o===12?l=kn.noon:o===0?l=kn.midnight:l=o/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(i,r,n){const o=i.getHours();let l;switch(o>=17?l=kn.evening:o>=12?l=kn.afternoon:o>=4?l=kn.morning:l=kn.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(i,r,n){if(r==="ho"){let o=i.getHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return vr.h(i,r)},H:function(i,r,n){return r==="Ho"?n.ordinalNumber(i.getHours(),{unit:"hour"}):vr.H(i,r)},K:function(i,r,n){const o=i.getHours()%12;return r==="Ko"?n.ordinalNumber(o,{unit:"hour"}):we(o,r.length)},k:function(i,r,n){let o=i.getHours();return o===0&&(o=24),r==="ko"?n.ordinalNumber(o,{unit:"hour"}):we(o,r.length)},m:function(i,r,n){return r==="mo"?n.ordinalNumber(i.getMinutes(),{unit:"minute"}):vr.m(i,r)},s:function(i,r,n){return r==="so"?n.ordinalNumber(i.getSeconds(),{unit:"second"}):vr.s(i,r)},S:function(i,r){return vr.S(i,r)},X:function(i,r,n){const o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return ef(o);case"XXXX":case"XX":return Fr(o);case"XXXXX":case"XXX":default:return Fr(o,":")}},x:function(i,r,n){const o=i.getTimezoneOffset();switch(r){case"x":return ef(o);case"xxxx":case"xx":return Fr(o);case"xxxxx":case"xxx":default:return Fr(o,":")}},O:function(i,r,n){const o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Zh(o,":");case"OOOO":default:return"GMT"+Fr(o,":")}},z:function(i,r,n){const o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Zh(o,":");case"zzzz":default:return"GMT"+Fr(o,":")}},t:function(i,r,n){const o=Math.trunc(i.getTime()/1e3);return we(o,r.length)},T:function(i,r,n){const o=i.getTime();return we(o,r.length)}};function Zh(i,r=""){const n=i>0?"-":"+",o=Math.abs(i),l=Math.trunc(o/60),u=o%60;return u===0?n+String(l):n+String(l)+r+we(u,2)}function ef(i,r){return i%60===0?(i>0?"-":"+")+we(Math.abs(i)/60,2):Fr(i,r)}function Fr(i,r=""){const n=i>0?"-":"+",o=Math.abs(i),l=we(Math.trunc(o/60),2),u=we(o%60,2);return n+l+r+u}const tf=(i,r)=>{switch(i){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},wp=(i,r)=>{switch(i){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},bx=(i,r)=>{const n=i.match(/(P+)(p+)?/)||[],o=n[1],l=n[2];if(!l)return tf(i,r);let u;switch(o){case"P":u=r.dateTime({width:"short"});break;case"PP":u=r.dateTime({width:"medium"});break;case"PPP":u=r.dateTime({width:"long"});break;case"PPPP":default:u=r.dateTime({width:"full"});break}return u.replace("{{date}}",tf(o,r)).replace("{{time}}",wp(l,r))},kx={p:wp,P:bx},Sx=/^D+$/,jx=/^Y+$/,Ex=["D","DD","YY","YYYY"];function Nx(i){return Sx.test(i)}function Cx(i){return jx.test(i)}function Px(i,r,n){const o=Ox(i,r,n);if(console.warn(o),Ex.includes(i))throw new RangeError(o)}function Ox(i,r,n){const o=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${r}\`) for formatting ${o} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Tx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Rx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ax=/^'([^]*?)'?$/,Ix=/''/g,Lx=/[a-zA-Z]/;function Ss(i,r,n){var v,w,_,S;const o=yo(),l=o.locale??yx,u=o.firstWeekContainsDate??((w=(v=o.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,c=o.weekStartsOn??((S=(_=o.locale)==null?void 0:_.options)==null?void 0:S.weekStartsOn)??0,p=Dt(i);if(!$w(p))throw new RangeError("Invalid time value");let m=r.match(Rx).map(k=>{const N=k[0];if(N==="p"||N==="P"){const C=kx[N];return C(k,l.formatLong)}return k}).join("").match(Tx).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const N=k[0];if(N==="'")return{isToken:!1,value:Dx(k)};if(Xh[N])return{isToken:!0,value:k};if(N.match(Lx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:k}});l.localize.preprocessor&&(m=l.localize.preprocessor(p,m));const g={firstWeekContainsDate:u,weekStartsOn:c,locale:l};return m.map(k=>{if(!k.isToken)return k.value;const N=k.value;(Cx(N)||Nx(N))&&Px(N,r,String(i));const C=Xh[N[0]];return C(p,N,l.localize,g)}).join("")}function Dx(i){const r=i.match(Ax);return r?r[1].replace(Ix,"'"):i}function $x(){const[i,r]=I.useState([]),[n,o]=I.useState([]),[l,u]=I.useState(!1),[c,p]=I.useState(!0),{user:m}=Ds(),[g,v]=I.useState({product_id:"",movement_type:"incoming",quantity:"",reason:"",notes:""});I.useEffect(()=>{w()},[]);const w=async()=>{try{const[k,N]=await Promise.all([le.from("stock_movements").select("*").order("created_at",{ascending:!1}).limit(100),le.from("products").select("*").order("name")]);k.data&&r(k.data),N.data&&o(N.data)}finally{p(!1)}},_=async k=>{if(k.preventDefault(),!!m)try{const N=n.find(K=>K.id===g.product_id);if(!N)throw new Error("Product not found");const C=parseInt(g.quantity),L=N.current_stock;let A=L;if(g.movement_type==="incoming")A=L+C;else if(g.movement_type==="outgoing"){if(A=L-C,A<0)throw new Error("Insufficient stock")}else g.movement_type==="adjustment"&&(A=C);const{error:E}=await le.from("stock_movements").insert([{product_id:g.product_id,movement_type:g.movement_type,quantity:C,previous_stock:L,new_stock:A,user_id:m.id,reason:g.reason,notes:g.notes}]);if(E)throw E;const{error:D}=await le.from("products").update({current_stock:A}).eq("id",g.product_id);if(D)throw D;u(!1),v({product_id:"",movement_type:"incoming",quantity:"",reason:"",notes:""}),w()}catch(N){alert("Error: "+N.message)}},S=k=>{switch(k){case"incoming":return h.jsx(lu,{className:"w-5 h-5 text-green-600"});case"outgoing":return h.jsx(xw,{className:"w-5 h-5 text-red-600"});case"adjustment":return h.jsx(mw,{className:"w-5 h-5 text-blue-600"});default:return null}};return c?h.jsx("div",{className:"text-center py-8",children:"Loading..."}):h.jsxs("div",{children:[h.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Stock Movements"}),h.jsx("p",{className:"text-gray-600",children:"Track all inventory movements"})]}),h.jsxs("button",{onClick:()=>u(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-indigo-700 transition flex items-center",children:[h.jsx(go,{className:"w-5 h-5 mr-2"}),"Record Movement"]})]}),h.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Quantity"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Before"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"After"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Reason"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map(k=>{const N=n.find(C=>C.id===k.product_id);return h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ss(new Date(k.created_at),"MMM dd, yyyy HH:mm")}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:(N==null?void 0:N.name)||"Unknown"}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center gap-2",children:[S(k.movement_type),h.jsx("span",{className:"text-sm capitalize",children:k.movement_type})]})}),h.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:[k.movement_type==="outgoing"&&"-",k.quantity]}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:k.previous_stock}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 font-medium",children:k.new_stock}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:k.reason||"-"})]},k.id)})})]})}),l&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[h.jsxs("div",{className:"p-6 border-b flex items-center justify-between",children:[h.jsx("h2",{className:"text-xl font-bold",children:"Record Stock Movement"}),h.jsx("button",{onClick:()=>u(!1),children:h.jsx(Us,{className:"w-6 h-6 text-gray-400"})})]}),h.jsxs("form",{onSubmit:_,className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product*"}),h.jsxs("select",{value:g.product_id,onChange:k=>v({...g,product_id:k.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,children:[h.jsx("option",{value:"",children:"Select Product"}),n.map(k=>h.jsxs("option",{value:k.id,children:[k.name," (Current: ",k.current_stock,")"]},k.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Movement Type*"}),h.jsxs("select",{value:g.movement_type,onChange:k=>v({...g,movement_type:k.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,children:[h.jsx("option",{value:"incoming",children:"Incoming (Add Stock)"}),h.jsx("option",{value:"outgoing",children:"Outgoing (Remove Stock)"}),h.jsx("option",{value:"adjustment",children:"Adjustment (Set Stock)"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Quantity* ",g.movement_type==="adjustment"&&"(New Total)"]}),h.jsx("input",{type:"number",value:g.quantity,onChange:k=>v({...g,quantity:k.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,min:"1"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),h.jsx("input",{type:"text",value:g.reason,onChange:k=>v({...g,reason:k.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., Purchase order, Sale, Damaged goods"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),h.jsx("textarea",{value:g.notes,onChange:k=>v({...g,notes:k.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",rows:2})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{type:"submit",className:"flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700",children:"Record Movement"}),h.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 bg-gray-200 py-2 rounded-lg",children:"Cancel"})]})]})]})})]})}function Ux(){const[i,r]=I.useState([]),[n,o]=I.useState([]),[l,u]=I.useState([]),[c,p]=I.useState(!0);I.useEffect(()=>{m()},[]);const m=async()=>{try{const[v,w]=await Promise.all([le.from("products").select("*").eq("is_active",!0),le.from("categories").select("*")]);if(v.data){const _=v.data.filter(k=>k.current_stock===0),S=v.data.filter(k=>k.current_stock>0&&k.current_stock<=k.min_stock);o(_),r(S)}w.data&&u(w.data)}finally{p(!1)}};if(c)return h.jsx("div",{className:"text-center py-8",children:"Loading..."});const g=(v,w,_)=>h.jsxs("div",{className:"bg-white rounded-lg shadow mb-8",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center",children:[h.jsx(As,{className:"w-6 h-6 text-red-500 mr-3"}),h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:w}),h.jsxs("span",{className:"ml-auto bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm font-medium",children:[v.length," items"]})]}),v.length===0?h.jsx("div",{className:"p-6 text-center text-gray-500",children:_}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"SKU"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product Name"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Current Stock"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Min Stock"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Location"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Reorder Qty"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200",children:v.map(S=>{const k=l.find(C=>C.id===S.category_id),N=Math.max(S.min_stock*2-S.current_stock,0);return h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:S.sku}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:S.name}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:(k==null?void 0:k.name)||"-"}),h.jsx("td",{className:"px-6 py-4 text-sm font-medium text-red-600",children:S.current_stock}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:S.min_stock}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:S.warehouse_location||"-"}),h.jsx("td",{className:"px-6 py-4 text-sm font-medium text-indigo-600",children:N})]},S.id)})})]})})]});return h.jsxs("div",{children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Low Stock Alerts"}),h.jsx("p",{className:"text-gray-600",children:"Monitor products that need restocking"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[h.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-lg p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx($s,{className:"w-8 h-8 text-red-600 mr-4"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-red-900",children:"Out of Stock"}),h.jsx("p",{className:"text-3xl font-bold text-red-600 mt-1",children:n.length}),h.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Products completely out of stock"})]})]})}),h.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 rounded-lg p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(As,{className:"w-8 h-8 text-yellow-600 mr-4"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-yellow-900",children:"Low Stock"}),h.jsx("p",{className:"text-3xl font-bold text-yellow-600 mt-1",children:i.length}),h.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Products below minimum stock level"})]})]})})]}),g(n,"Out of Stock Products","No products are out of stock."),g(i,"Low Stock Products","No products are running low on stock."),h.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:h.jsxs("p",{className:"text-sm text-blue-800",children:[h.jsx("strong",{children:"Tip:"}),' The "Reorder Qty" suggests ordering enough to bring stock to 2x the minimum level. You can record incoming stock from the'," ",h.jsx(Ql,{to:"/stock-movements",className:"underline font-medium",children:"Stock Movements"})," page."]})})]})}function Mx(){const[i,r]=I.useState([]),[n,o]=I.useState([]),[l,u]=I.useState([]),[c,p]=I.useState(!0);I.useEffect(()=>{m()},[]);const m=async()=>{try{const[L,A,E]=await Promise.all([le.from("products").select("*").eq("is_active",!0),le.from("categories").select("*"),le.from("stock_movements").select("*").order("created_at",{ascending:!1}).limit(1e3)]);L.data&&r(L.data),A.data&&o(A.data),E.data&&u(E.data)}finally{p(!1)}},g=(L,A)=>{if(L.length===0){alert("No data to export");return}const E=Object.keys(L[0]),D=[E.join(","),...L.map(xe=>E.map(Ee=>{const qe=xe[Ee];return typeof qe=="string"&&qe.includes(",")?`"${qe}"`:qe}).join(","))].join(`
`),K=new Blob([D],{type:"text/csv"}),J=window.URL.createObjectURL(K),ae=document.createElement("a");ae.href=J,ae.download=A,ae.click(),window.URL.revokeObjectURL(J)},v=()=>{const L=i.map(A=>{const E=n.find(D=>D.id===A.category_id);return{SKU:A.sku,Name:A.name,Category:(E==null?void 0:E.name)||"","Current Stock":A.current_stock,"Min Stock":A.min_stock,"Cost Price":A.cost_price||0,"Selling Price":A.selling_price||0,"Stock Value":(A.current_stock*(A.cost_price||0)).toFixed(2),Manufacturer:A.manufacturer||"",Location:A.warehouse_location||""}});g(L,`inventory-report-${Ss(new Date,"yyyy-MM-dd")}.csv`)},w=()=>{const L=l.map(A=>{const E=i.find(D=>D.id===A.product_id);return{Date:Ss(new Date(A.created_at),"yyyy-MM-dd HH:mm"),Product:(E==null?void 0:E.name)||"Unknown",SKU:(E==null?void 0:E.sku)||"",Type:A.movement_type,Quantity:A.quantity,"Previous Stock":A.previous_stock||0,"New Stock":A.new_stock||0,Reason:A.reason||"",Notes:A.notes||""}});g(L,`stock-movements-${Ss(new Date,"yyyy-MM-dd")}.csv`)},_=()=>{const L=i.filter(A=>A.current_stock<=A.min_stock).map(A=>{const E=n.find(D=>D.id===A.category_id);return{SKU:A.sku,Name:A.name,Category:(E==null?void 0:E.name)||"","Current Stock":A.current_stock,"Min Stock":A.min_stock,Status:A.current_stock===0?"Out of Stock":"Low Stock","Reorder Qty":Math.max(A.min_stock*2-A.current_stock,0)}});g(L,`low-stock-report-${Ss(new Date,"yyyy-MM-dd")}.csv`)},S=()=>n.map(L=>{const A=i.filter(K=>K.category_id===L.id),E=A.reduce((K,J)=>K+J.current_stock,0),D=A.reduce((K,J)=>K+J.current_stock*(J.cost_price||0),0);return{category:L.name,productCount:A.length,totalStock:E,totalValue:D}}),k=()=>{const L=i.length,A=i.reduce((K,J)=>K+J.current_stock,0),E=i.reduce((K,J)=>K+J.current_stock*(J.cost_price||0),0),D=i.filter(K=>K.current_stock<=K.min_stock).length;return{totalProducts:L,totalStock:A,totalValue:E,lowStockCount:D}};if(c)return h.jsx("div",{className:"text-center py-8",children:"Loading reports..."});const N=k(),C=S();return h.jsxs("div",{children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reports & Analytics"}),h.jsx("p",{className:"text-gray-600",children:"Inventory insights and data exports"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[h.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx($s,{className:"w-8 h-8 text-blue-500 mr-3"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Total Products"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.totalProducts})]})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(lu,{className:"w-8 h-8 text-green-500 mr-3"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Total Stock Units"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.totalStock})]})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(pp,{className:"w-8 h-8 text-purple-500 mr-3"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Inventory Value"}),h.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",N.totalValue.toFixed(2)]})]})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(mp,{className:"w-8 h-8 text-red-500 mr-3"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Low Stock Items"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.lowStockCount})]})]})})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow mb-8",children:[h.jsx("div",{className:"p-6 border-b",children:h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Inventory by Category"})}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product Count"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Stock"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Value"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200",children:C.map(L=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:L.category}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:L.productCount}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:L.totalStock}),h.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["$",L.totalValue.toFixed(2)]})]},L.category))})]})})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow",children:[h.jsxs("div",{className:"p-6 border-b",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Export Data"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Download reports in CSV format"})]}),h.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("button",{onClick:v,className:"flex items-center justify-center px-4 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:[h.jsx(El,{className:"w-5 h-5 mr-2"}),"Export Full Inventory"]}),h.jsxs("button",{onClick:_,className:"flex items-center justify-center px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:[h.jsx(El,{className:"w-5 h-5 mr-2"}),"Export Low Stock Report"]}),h.jsxs("button",{onClick:w,className:"flex items-center justify-center px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[h.jsx(El,{className:"w-5 h-5 mr-2"}),"Export Stock Movements"]})]})]})]})}function Fx(){const{isAdmin:i}=Ds(),[r,n]=I.useState([]),[o,l]=I.useState(!0),[u,c]=I.useState(!1),[p,m]=I.useState(!1),[g,v]=I.useState(!1),[w,_]=I.useState(null),[S,k]=I.useState(""),[N,C]=I.useState(null),[L,A]=I.useState(null),[E,D]=I.useState({email:"",password:"",fullName:"",role:"user",isActive:!0});I.useEffect(()=>{i&&K()},[i]);const K=async()=>{try{l(!0);const{data:B,error:oe}=await le.from("user_profiles").select("*").order("created_at",{ascending:!1});if(oe)throw oe;const he=await Promise.all((B||[]).map(async Ue=>{const{data:{user:_e}}=await le.auth.admin.getUserById(Ue.id);return{...Ue,email:(_e==null?void 0:_e.email)||"N/A"}}));n(he)}catch(B){console.error("Error fetching users:",B),C("Failed to load users")}finally{l(!1)}},J=async B=>{B.preventDefault(),C(null),A(null);try{const{data:oe,error:he}=await le.functions.invoke("user-management",{body:{action:"create",email:E.email,password:E.password,fullName:E.fullName,role:E.role,isActive:E.isActive}});if(he)throw he;A("User created successfully"),c(!1),D({email:"",password:"",fullName:"",role:"user",isActive:!0}),K()}catch(oe){C(oe.message||"Failed to create user")}},ae=async B=>{if(B.preventDefault(),!!w){C(null),A(null);try{const{data:oe,error:he}=await le.functions.invoke("user-management",{body:{action:"update",userId:w.id,fullName:E.fullName,role:E.role,isActive:E.isActive}});if(he)throw he;A("User updated successfully"),m(!1),_(null),K()}catch(oe){C(oe.message||"Failed to update user")}}},xe=async B=>{if(B.preventDefault(),!!w){C(null),A(null);try{const{data:oe,error:he}=await le.functions.invoke("user-management",{body:{action:"reset-password",userId:w.id,password:E.password}});if(he)throw he;A("Password reset successfully"),v(!1),_(null),D({...E,password:""})}catch(oe){C(oe.message||"Failed to reset password")}}},Ee=async B=>{try{const{data:oe,error:he}=await le.functions.invoke("user-management",{body:{action:"update",userId:B.id,isActive:!B.is_active}});if(he)throw he;A(`User ${B.is_active?"deactivated":"activated"} successfully`),K()}catch(oe){C(oe.message||"Failed to update user status")}},qe=B=>{_(B),D({email:B.email||"",password:"",fullName:B.full_name,role:B.role,isActive:B.is_active}),m(!0)},kt=B=>{_(B),D({...E,password:""}),v(!0)},$=r.filter(B=>B.full_name.toLowerCase().includes(S.toLowerCase())||B.email&&B.email.toLowerCase().includes(S.toLowerCase()));return i?h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),h.jsxs("button",{onClick:()=>{D({email:"",password:"",fullName:"",role:"user",isActive:!0}),c(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[h.jsx(bw,{className:"h-5 w-5"}),"Add User"]})]}),N&&h.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:N}),L&&h.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:L}),h.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[h.jsx("div",{className:"mb-4",children:h.jsx("input",{type:"text",placeholder:"Search users...",value:S,onChange:B=>k(B.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o?h.jsx("div",{className:"text-center py-8",children:h.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$.map(B=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:h.jsx(kw,{className:"h-5 w-5 text-blue-600"})}),h.jsx("div",{className:"ml-4",children:h.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.full_name})})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.email}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${B.role==="admin"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:B.role})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${B.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:B.is_active?"Active":"Inactive"})}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[h.jsx("button",{onClick:()=>qe(B),className:"text-blue-600 hover:text-blue-900",title:"Edit user",children:h.jsx(pw,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>kt(B),className:"text-yellow-600 hover:text-yellow-900",title:"Reset password",children:h.jsx(cw,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>Ee(B),className:B.is_active?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900",title:B.is_active?"Deactivate":"Activate",children:B.is_active?h.jsx(yw,{className:"h-4 w-4"}):h.jsx(vw,{className:"h-4 w-4"})})]})]},B.id))})]})})]}),u&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[h.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create New User"}),h.jsxs("form",{onSubmit:J,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("input",{type:"email",value:E.email,onChange:B=>D({...E,email:B.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),h.jsx("input",{type:"password",value:E.password,onChange:B=>D({...E,password:B.target.value}),required:!0,minLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),h.jsx("input",{type:"text",value:E.fullName,onChange:B=>D({...E,fullName:B.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),h.jsxs("select",{value:E.role,onChange:B=>D({...E,role:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"user",children:"User"}),h.jsx("option",{value:"manager",children:"Manager"}),h.jsx("option",{value:"admin",children:"Admin"})]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:E.isActive,onChange:B=>D({...E,isActive:B.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),h.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Active"})]}),h.jsxs("div",{className:"flex gap-2 pt-4",children:[h.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700",children:"Create User"}),h.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]})]})}),p&&w&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[h.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit User"}),h.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),h.jsx("input",{type:"text",value:E.fullName,onChange:B=>D({...E,fullName:B.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),h.jsxs("select",{value:E.role,onChange:B=>D({...E,role:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"user",children:"User"}),h.jsx("option",{value:"manager",children:"Manager"}),h.jsx("option",{value:"admin",children:"Admin"})]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:E.isActive,onChange:B=>D({...E,isActive:B.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),h.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Active"})]}),h.jsxs("div",{className:"flex gap-2 pt-4",children:[h.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700",children:"Update User"}),h.jsx("button",{type:"button",onClick:()=>m(!1),className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]})]})}),g&&w&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[h.jsx("h2",{className:"text-xl font-bold mb-4",children:"Reset Password"}),h.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Resetting password for: ",h.jsx("strong",{children:w.full_name})]}),h.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),h.jsx("input",{type:"password",value:E.password,onChange:B=>D({...E,password:B.target.value}),required:!0,minLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{className:"flex gap-2 pt-4",children:[h.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700",children:"Reset Password"}),h.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]})]})})]}):h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("p",{className:"text-gray-500",children:"Access denied. Admin privileges required."})})}function Bx(){return h.jsx(ow,{children:h.jsx(Cy,{children:h.jsxs(_y,{children:[h.jsx(Tt,{path:"/login",element:h.jsx(Ew,{})}),h.jsxs(Tt,{path:"/",element:h.jsx(jw,{}),children:[h.jsx(Tt,{index:!0,element:h.jsx(Nw,{})}),h.jsx(Tt,{path:"products",element:h.jsx(Pw,{})}),h.jsx(Tt,{path:"categories",element:h.jsx(Ow,{})}),h.jsx(Tt,{path:"suppliers",element:h.jsx(Tw,{})}),h.jsx(Tt,{path:"stock-movements",element:h.jsx($x,{})}),h.jsx(Tt,{path:"alerts",element:h.jsx(Ux,{})}),h.jsx(Tt,{path:"reports",element:h.jsx(Mx,{})}),h.jsx(Tt,{path:"users",element:h.jsx(Fx,{})})]})]})})})}Sg.createRoot(document.getElementById("root")).render(h.jsx(I.StrictMode,{children:h.jsx(Eg,{children:h.jsx(Bx,{})})}));
